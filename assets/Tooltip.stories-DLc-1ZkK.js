import{r as a,j as s,u as ie}from"./iframe-f-zG5TfG.js";import{B as w}from"./Button-DS9fnwxm.js";import{M as ce}from"./Modal-BIIJvgw1.js";import{u as ue,c as C}from"./index-BKOGd7Qo.js";import{u as K,b as pe}from"./index-Bujg7A9D.js";import{c as de,P as fe}from"./index-BPwIjAyJ.js";import{P as me,D as he}from"./index-H1ZI2wGS.js";import{u as ve}from"./index-SvVynYxN.js";import{c as J,R as xe,A as ge,a as Te,C as ye}from"./index-CTP1vDQO.js";import{P as Q}from"./index-DxAWeVzm.js";import{R as be}from"./index-DJeSbytO.js";import{T as Ce}from"./Text-BYcn0Uwp.js";import"./index-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./classnames-DQzbijWx.js";import"./index-wrdSG9Gn.js";import"./index-D9ErlMbN.js";import"./Combination-D2-ixbUT.js";import"./IconButton-B5ZVgzKi.js";import"./Scroll-CD9nuz4N.js";import"./YoutubeIcon-ckn-mJde.js";import"./proxy-Dl9Y3HsJ.js";import"./index-CqWp9rAi.js";import"./index-Y7tqfuAd.js";import"./index-Bdo-FANG.js";import"./floating-ui.react-dom-DOyndedp.js";import"./index-DgJG3HEV.js";var[A,xt]=de("Tooltip",[J]),L=J(),Z="TooltipProvider",we=700,N="tooltip.open",[Pe,H]=A(Z),ee=e=>{const{__scopeTooltip:o,delayDuration:t=we,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:i}=e,c=a.useRef(!0),f=a.useRef(!1),l=a.useRef(0);return a.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),s.jsx(Pe,{scope:o,isOpenDelayedRef:c,delayDuration:t,onOpen:a.useCallback(()=>{window.clearTimeout(l.current),c.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:a.useCallback(d=>{f.current=d},[]),disableHoverableContent:n,children:i})};ee.displayName=Z;var _="Tooltip",[je,O]=A(_),te=e=>{const{__scopeTooltip:o,children:t,open:r,defaultOpen:n,onOpenChange:i,disableHoverableContent:c,delayDuration:f}=e,l=H(_,e.__scopeTooltip),d=L(o),[u,m]=a.useState(null),h=ve(),p=a.useRef(0),v=c??l.disableHoverableContent,g=f??l.delayDuration,x=a.useRef(!1),[y,T]=ue({prop:r,defaultProp:n??!1,onChange:V=>{V?(l.onOpen(),document.dispatchEvent(new CustomEvent(N))):l.onClose(),i==null||i(V)},caller:_}),j=a.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),E=a.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x.current=!1,T(!0)},[T]),R=a.useCallback(()=>{window.clearTimeout(p.current),p.current=0,T(!1)},[T]),I=a.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{x.current=!0,T(!0),p.current=0},g)},[g,T]);return a.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(xe,{...d,children:s.jsx(je,{scope:o,contentId:h,open:y,stateAttribute:j,trigger:u,onTriggerChange:m,onTriggerEnter:a.useCallback(()=>{l.isOpenDelayedRef.current?I():E()},[l.isOpenDelayedRef,I,E]),onTriggerLeave:a.useCallback(()=>{v?R():(window.clearTimeout(p.current),p.current=0)},[R,v]),onOpen:E,onClose:R,disableHoverableContent:v,children:t})})};te.displayName=_;var B="TooltipTrigger",oe=a.forwardRef((e,o)=>{const{__scopeTooltip:t,...r}=e,n=O(B,t),i=H(B,t),c=L(t),f=a.useRef(null),l=K(o,f,n.onTriggerChange),d=a.useRef(!1),u=a.useRef(!1),m=a.useCallback(()=>d.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(ge,{asChild:!0,...c,children:s.jsx(fe.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:l,onPointerMove:C(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:C(e.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:C(e.onPointerDown,()=>{n.open&&n.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:C(e.onFocus,()=>{d.current||n.onOpen()}),onBlur:C(e.onBlur,n.onClose),onClick:C(e.onClick,n.onClose)})})});oe.displayName=B;var S="TooltipPortal",[Ee,Re]=A(S,{forceMount:void 0}),re=e=>{const{__scopeTooltip:o,forceMount:t,children:r,container:n}=e,i=O(S,o);return s.jsx(Ee,{scope:o,forceMount:t,children:s.jsx(Q,{present:t||i.open,children:s.jsx(me,{asChild:!0,container:n,children:r})})})};re.displayName=S;var P="TooltipContent",ne=a.forwardRef((e,o)=>{const t=Re(P,e.__scopeTooltip),{forceMount:r=t.forceMount,side:n="top",...i}=e,c=O(P,e.__scopeTooltip);return s.jsx(Q,{present:r||c.open,children:c.disableHoverableContent?s.jsx(se,{side:n,...i,ref:o}):s.jsx(_e,{side:n,...i,ref:o})})}),_e=a.forwardRef((e,o)=>{const t=O(P,e.__scopeTooltip),r=H(P,e.__scopeTooltip),n=a.useRef(null),i=K(o,n),[c,f]=a.useState(null),{trigger:l,onClose:d}=t,u=n.current,{onPointerInTransitChange:m}=r,h=a.useCallback(()=>{f(null),m(!1)},[m]),p=a.useCallback((v,g)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},T=Me(y,x.getBoundingClientRect()),j=Ae(y,T),E=Le(g.getBoundingClientRect()),R=Be([...j,...E]);f(R),m(!0)},[m]);return a.useEffect(()=>()=>h(),[h]),a.useEffect(()=>{if(l&&u){const v=x=>p(x,u),g=x=>p(x,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",g)}}},[l,u,p,h]),a.useEffect(()=>{if(c){const v=g=>{const x=g.target,y={x:g.clientX,y:g.clientY},T=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),j=!Ne(y,c);T?h():j&&(h(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,c,d,h]),s.jsx(se,{...e,ref:i})}),[Oe,De]=A(_,{isInside:!1}),ke=pe("TooltipContent"),se=a.forwardRef((e,o)=>{const{__scopeTooltip:t,children:r,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:c,...f}=e,l=O(P,t),d=L(t),{onClose:u}=l;return a.useEffect(()=>(document.addEventListener(N,u),()=>document.removeEventListener(N,u)),[u]),a.useEffect(()=>{if(l.trigger){const m=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[l.trigger,u]),s.jsx(he,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:s.jsxs(ye,{"data-state":l.stateAttribute,...d,...f,ref:o,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(ke,{children:r}),s.jsx(Oe,{scope:t,isInside:!0,children:s.jsx(be,{id:l.contentId,role:"tooltip",children:n||r})})]})})});ne.displayName=P;var ae="TooltipArrow",le=a.forwardRef((e,o)=>{const{__scopeTooltip:t,...r}=e,n=L(t);return De(ae,t).isInside?null:s.jsx(Te,{...n,...r,ref:o})});le.displayName=ae;function Me(e,o){const t=Math.abs(o.top-e.y),r=Math.abs(o.bottom-e.y),n=Math.abs(o.right-e.x),i=Math.abs(o.left-e.x);switch(Math.min(t,r,n,i)){case i:return"left";case n:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Ae(e,o,t=5){const r=[];switch(o){case"top":r.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":r.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":r.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":r.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return r}function Le(e){const{top:o,right:t,bottom:r,left:n}=e;return[{x:n,y:o},{x:t,y:o},{x:t,y:r},{x:n,y:r}]}function Ne(e,o){const{x:t,y:r}=e;let n=!1;for(let i=0,c=o.length-1;i<o.length;c=i++){const f=o[i],l=o[c],d=f.x,u=f.y,m=l.x,h=l.y;u>r!=h>r&&t<(m-d)*(r-u)/(h-u)+d&&(n=!n)}return n}function Be(e){const o=e.slice();return o.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),He(o)}function He(e){if(e.length<=1)return e.slice();const o=[];for(let r=0;r<e.length;r++){const n=e[r];for(;o.length>=2;){const i=o[o.length-1],c=o[o.length-2];if((i.x-c.x)*(n.y-c.y)>=(i.y-c.y)*(n.x-c.x))o.pop();else break}o.push(n)}o.pop();const t=[];for(let r=e.length-1;r>=0;r--){const n=e[r];for(;t.length>=2;){const i=t[t.length-1],c=t[t.length-2];if((i.x-c.x)*(n.y-c.y)>=(i.y-c.y)*(n.x-c.x))t.pop();else break}t.push(n)}return t.pop(),o.length===1&&t.length===1&&o[0].x===t[0].x&&o[0].y===t[0].y?o:o.concat(t)}var Se=ee,Ie=te,Ve=oe,qe=re,Ge=ne,Fe=le;const b=e=>{const{align:o="center",children:t,delayDuration:r=0,disabled:n=!1,hOffset:i=0,message:c,side:f="top",vOffset:l=0}=e,{container:d}=ie();return n?s.jsx(s.Fragment,{children:t}):s.jsx(Se,{children:s.jsxs(Ie,{delayDuration:r,children:[s.jsx(Ve,{asChild:!0,children:t}),s.jsx(qe,{container:d,children:s.jsxs(Ge,{className:"backdrop-blur-xs bg-background-raised rounded-lg px-4 pb-3 pt-2 shadow-[0_0_10px_0_rgba(0,0,0,0.5)] fill-background-raised z-1000",side:f,align:o,sideOffset:l,alignOffset:i,children:[s.jsx(Ce,{variant:"small",fontWeight:"medium",color:"secondary",children:c}),s.jsx(Fe,{offset:12,width:10,height:5})]})})]})})};try{b.displayName="Tooltip",b.__docgenInfo={description:"",displayName:"Tooltip",props:{align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"end"'},{value:'"start"'}]}},delayDuration:{defaultValue:null,description:"",name:"delayDuration",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},hOffset:{defaultValue:null,description:"",name:"hOffset",required:!1,type:{name:"number"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ReactNode"}},side:{defaultValue:null,description:"",name:"side",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"left"'},{value:'"right"'},{value:'"bottom"'}]}},vOffset:{defaultValue:null,description:"",name:"vOffset",required:!1,type:{name:"number"}}}}}catch{}const gt={title:"Components/Tooltip",component:b},D={args:{message:"Hello, world!",children:s.jsx(w,{label:"Hover me"}),disabled:!1}},k={render:e=>s.jsxs("div",{className:"flex gap-2 h-[200px] items-center justify-center",children:[s.jsx(b,{...e,message:"Suprise!",children:s.jsx(w,{label:"Button 1"})}),s.jsx(b,{...e,message:"Peekaboo!",children:s.jsx(w,{label:"Button 2"})}),s.jsx(b,{...e,message:"Hi, there!",children:s.jsx(w,{label:"Button 3"})})]})},M={tags:["!autodocs"],render:e=>s.jsx(ce,{children:s.jsxs("div",{className:"flex p-4 gap-2",children:[s.jsx(b,{...e,message:"Tooltip 1",children:s.jsx(w,{label:"Button 1"})}),s.jsx(b,{...e,message:"Tooltip 2",children:s.jsx(w,{label:"Button 2"})})]})})};var q,G,F;D.parameters={...D.parameters,docs:{...(q=D.parameters)==null?void 0:q.docs,source:{originalSource:`{
  args: {
    message: 'Hello, world!',
    children: <Button label="Hover me" />,
    disabled: false
  }
}`,...(F=(G=D.parameters)==null?void 0:G.docs)==null?void 0:F.source}}};var W,U,Y;k.parameters={...k.parameters,docs:{...(W=k.parameters)==null?void 0:W.docs,source:{originalSource:`{
  render: args => {
    return <div className="flex gap-2 h-[200px] items-center justify-center">
        <Tooltip {...args} message="Suprise!">
          <Button label="Button 1" />
        </Tooltip>
        <Tooltip {...args} message="Peekaboo!">
          <Button label="Button 2" />
        </Tooltip>
        <Tooltip {...args} message="Hi, there!">
          <Button label="Button 3" />
        </Tooltip>
      </div>;
  }
}`,...(Y=(U=k.parameters)==null?void 0:U.docs)==null?void 0:Y.source}}};var X,$,z;M.parameters={...M.parameters,docs:{...(X=M.parameters)==null?void 0:X.docs,source:{originalSource:`{
  tags: ['!autodocs'],
  render: args => {
    return <Modal>
        <div className="flex p-4 gap-2">
          <Tooltip {...args} message="Tooltip 1">
            <Button label="Button 1" />
          </Tooltip>
          <Tooltip {...args} message="Tooltip 2">
            <Button label="Button 2" />
          </Tooltip>
        </div>
      </Modal>;
  }
}`,...(z=($=M.parameters)==null?void 0:$.docs)==null?void 0:z.source}}};const Tt=["Default","Multiple","WithinModal"];export{D as Default,k as Multiple,M as WithinModal,Tt as __namedExportsOrder,gt as default};
