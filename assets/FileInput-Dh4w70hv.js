import{j as e}from"./jsx-runtime-z8MfsBtr.js";import{r as c}from"./index-D1TSixAU.js";import{F as R}from"./Field-Dz_fFMgk.js";import{I as q}from"./IconButton-DQOTRQqe.js";import{T as u,t as V}from"./Text-DiY0ipGE.js";import{d as z}from"./WarningIcon-C-Bue-nz.js";import{c as C}from"./classnames-Dx2cly0x.js";const T=(...r)=>l=>r.forEach(i=>{i&&(typeof i=="function"?i(l):i.current=l)}),D={png:".png,image/png",jpeg:".jpeg,image/jpeg",jpg:".jpg,image/jpg",images:"image/*, video/*",pdf:".pdf,application/pdf",mp4:".mp4,video/mp4",csv:".csv,text/csv",json:".json,application/json",gif:".gif,image/gif"},j=c.forwardRef((r,l)=>{const{description:i,disabled:m=!1,id:f,label:h="",labelLocation:b="hidden",name:o,onValueChange:t,placeholder:v="Upload a file",validExtensions:y,className:w,...N}=r,d=c.useRef(null),F=T(d,l),[n,g]=c.useState(null),_=a=>{const s=a.currentTarget.files;if(!s||!s[0])return;const p=s[0],x=p.name,I=p.size/1e3;g({name:x,size:I,extension:x.split(".").pop()??""}),t==null||t(p)},E=y.map(a=>D[a]).join(",");return e.jsx(R,{description:i,disabled:m,id:f??o,label:h,labelLocation:b,className:"grid",children:e.jsx("div",{className:"w-full min-w-0",children:e.jsxs("div",{className:C(V({variant:"normal"}),"inline-flex items-center flex-row justify-start min-w-full p-4 relative h-[52px]","border border-dashed border-border-normal rounded-xl","[&:has(:disabled)]:cursor-default [&:has(:disabled)]:opacity-50","focus-within:opacity-100 focus-within:ring-2 focus-within:ring-border-focus focus-within:ring-inset focus-within:border-transparent",n?"justify-between":"justify-start",n?"text-primary":"text-muted",w),children:[n?e.jsxs("div",{className:"flex flex-row gap-2 items-center min-w-0",children:[e.jsx(u,{ellipsis:!0,children:n.name}),e.jsxs(u,{color:"muted",variant:"xsmall",nowrap:!0,children:[n.size.toFixed(2)," kb"]})]}):e.jsx(u,{ellipsis:!0,children:v}),e.jsx("input",{accept:E,className:"absolute inset-0 opacity-0 cursor-pointer focus:outline-hidden",disabled:m,id:f??o,name:o,onChange:_,ref:F,type:"file",...N}),n&&e.jsx(q,{className:"cursor-pointer z-10",icon:z,size:"xs",onClick:a=>{var s;a.preventDefault(),a.stopPropagation(),(s=d.current)!=null&&s.value&&(d.current.value=""),t==null||t(null),g(null)}})]})})})});try{j.displayName="FileInput",j.__docgenInfo={description:"",displayName:"FileInput",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},validExtensions:{defaultValue:null,description:"",name:"validExtensions",required:!0,type:{name:'("png" | "jpeg" | "jpg" | "images" | "pdf" | "mp4" | "csv" | "json" | "gif")[]'}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!1,type:{name:"((value: File | null) => void)"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},labelLocation:{defaultValue:null,description:"",name:"labelLocation",required:!1,type:{name:'"hidden" | "top" | "left" | "right" | null'}}}}}catch{}export{j as F};
