import{r as e}from"./index-d8ade8ea.js";import{u as N,s as Z,a as J,P as Q,w as X,L as ee,b as te,e as ne,m as k}from"./motion-7df5a7b3.js";import{j as $,a as I}from"./jsx-runtime-a9c13c85.js";import{_ as g}from"./extends-98964cd2.js";import{$ as oe,b as re,h as ae,c as L,a as V,d as y}from"./index.module-d15610cf.js";import{$ as R}from"./index.module-a9b21657.js";import{c as ce,a as se,b as le,$ as ie}from"./Combination-78ef0d5c.js";import{$ as de}from"./index.module-f17d4a85.js";import{$ as P}from"./index.module-732cca0e.js";import{h as ue}from"./index-807b81f6.js";import{B as A}from"./Box-71460fdd.js";import{c as fe}from"./WarningIcon-e965e419.js";import{I as pe}from"./IconButton-2fef59d9.js";import{S as me}from"./Scroll-f849ceca.js";import"./atoms.css-afddc020.js";import{c as be}from"./vanilla-extract-recipes-createRuntimeFn.esm-d30eb010.js";function z(){const t=e.useRef(!1);return N(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function $e(){const t=z(),[a,o]=e.useState(0),n=e.useCallback(()=>{t.current&&o(a+1)},[a]);return[e.useCallback(()=>Z.postRender(n),[n]),a]}class ge extends e.Component{getSnapshotBeforeUpdate(a){const o=this.props.childRef.current;if(o&&a.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=o.offsetHeight||0,n.width=o.offsetWidth||0,n.top=o.offsetTop,n.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function he({children:t,isPresent:a}){const o=e.useId(),n=e.useRef(null),c=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:r,height:s,top:l,left:f}=c.current;if(a||!n.current||!r||!s)return;n.current.dataset.motionPopId=o;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[a]),e.createElement(ge,{isPresent:a,childRef:n,sizeRef:c},e.cloneElement(t,{ref:n}))}const D=({children:t,initial:a,isPresent:o,onExitComplete:n,custom:c,presenceAffectsLayout:r,mode:s})=>{const l=J(ve),f=e.useId(),p=e.useMemo(()=>({id:f,initial:a,isPresent:o,custom:c,onExitComplete:d=>{l.set(d,!0);for(const u of l.values())if(!u)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),r?void 0:[o]);return e.useMemo(()=>{l.forEach((d,u)=>l.set(u,!1))},[o]),e.useEffect(()=>{!o&&!l.size&&n&&n()},[o]),s==="popLayout"&&(t=e.createElement(he,{isPresent:o},t)),e.createElement(Q.Provider,{value:p},t)};function ve(){return new Map}const v=t=>t.key||"";function Ce(t,a){t.forEach(o=>{const n=v(o);a.set(n,o)})}function we(t){const a=[];return e.Children.forEach(t,o=>{e.isValidElement(o)&&a.push(o)}),a}const rt=({children:t,custom:a,initial:o=!0,onExitComplete:n,exitBeforeEnter:c,presenceAffectsLayout:r=!0,mode:s="sync"})=>{c&&(s="wait",X(!1,"Replace exitBeforeEnter with mode='wait'"));let[l]=$e();const f=e.useContext(ee).forceRender;f&&(l=f);const p=z(),d=we(t);let u=d;const m=new Set,C=e.useRef(u),x=e.useRef(new Map).current,_=e.useRef(!0);if(N(()=>{_.current=!1,Ce(d,x),C.current=u}),te(()=>{_.current=!0,x.clear(),m.clear()}),_.current)return e.createElement(e.Fragment,null,u.map(i=>e.createElement(D,{key:v(i),isPresent:!0,initial:o?void 0:!1,presenceAffectsLayout:r,mode:s},i)));u=[...u];const E=C.current.map(v),O=d.map(v),U=E.length;for(let i=0;i<U;i++){const b=E[i];O.indexOf(b)===-1&&m.add(b)}return s==="wait"&&m.size&&(u=[]),m.forEach(i=>{if(O.indexOf(i)!==-1)return;const b=x.get(i);if(!b)return;const G=E.indexOf(i),Y=()=>{x.delete(i),m.delete(i);const H=C.current.findIndex(W=>W.key===i);if(C.current.splice(H,1),!m.size){if(C.current=d,p.current===!1)return;l(),n&&n()}};u.splice(G,0,e.createElement(D,{key:v(b),isPresent:!1,onExitComplete:Y,custom:a,presenceAffectsLayout:r,mode:s},b))}),u=u.map(i=>{const b=i.key;return m.has(b)?i:e.createElement(D,{key:v(i),isPresent:!0,presenceAffectsLayout:r,mode:s},i)}),ne!=="production"&&s==="wait"&&u.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),e.createElement(e.Fragment,null,m.size?u:u.map(i=>e.cloneElement(i)))},S="Dialog",[q,at]=oe(S),[xe,h]=q(S),ye=t=>{const{__scopeDialog:a,children:o,open:n,defaultOpen:c,onOpenChange:r,modal:s=!0}=t,l=e.useRef(null),f=e.useRef(null),[p=!1,d]=re({prop:n,defaultProp:c,onChange:r});return e.createElement(xe,{scope:a,triggerRef:l,contentRef:f,contentId:R(),titleId:R(),descriptionId:R(),open:p,onOpenChange:d,onOpenToggle:e.useCallback(()=>d(u=>!u),[d]),modal:s},o)},T="DialogPortal",[_e,j]=q(T,{forceMount:void 0}),Ee=t=>{const{__scopeDialog:a,forceMount:o,children:n,container:c}=t,r=h(T,a);return e.createElement(_e,{scope:a,forceMount:o},e.Children.map(n,s=>e.createElement(P,{present:o||r.open},e.createElement(de,{asChild:!0,container:c},s))))},M="DialogOverlay",Re=e.forwardRef((t,a)=>{const o=j(M,t.__scopeDialog),{forceMount:n=o.forceMount,...c}=t,r=h(M,t.__scopeDialog);return r.modal?e.createElement(P,{present:n||r.open},e.createElement(De,g({},c,{ref:a}))):null}),De=e.forwardRef((t,a)=>{const{__scopeDialog:o,...n}=t,c=h(M,o);return e.createElement(ce,{as:ae,allowPinchZoom:!0,shards:[c.contentRef]},e.createElement(L.div,g({"data-state":K(c.open)},n,{ref:a,style:{pointerEvents:"auto",...n.style}})))}),w="DialogContent",Me=e.forwardRef((t,a)=>{const o=j(w,t.__scopeDialog),{forceMount:n=o.forceMount,...c}=t,r=h(w,t.__scopeDialog);return e.createElement(P,{present:n||r.open},r.modal?e.createElement(Pe,g({},c,{ref:a})):e.createElement(Oe,g({},c,{ref:a})))}),Pe=e.forwardRef((t,a)=>{const o=h(w,t.__scopeDialog),n=e.useRef(null),c=V(a,o.contentRef,n);return e.useEffect(()=>{const r=n.current;if(r)return ue(r)},[]),e.createElement(B,g({},t,{ref:c,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:y(t.onCloseAutoFocus,r=>{var s;r.preventDefault(),(s=o.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:y(t.onPointerDownOutside,r=>{const s=r.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&r.preventDefault()}),onFocusOutside:y(t.onFocusOutside,r=>r.preventDefault())}))}),Oe=e.forwardRef((t,a)=>{const o=h(w,t.__scopeDialog),n=e.useRef(!1);return e.createElement(B,g({},t,{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var r;if((r=t.onCloseAutoFocus)===null||r===void 0||r.call(t,c),!c.defaultPrevented){var s;n.current||(s=o.triggerRef.current)===null||s===void 0||s.focus(),c.preventDefault()}n.current=!1},onInteractOutside:c=>{var r,s;(r=t.onInteractOutside)===null||r===void 0||r.call(t,c),c.defaultPrevented||(n.current=!0);const l=c.target;((s=o.triggerRef.current)===null||s===void 0?void 0:s.contains(l))&&c.preventDefault()}}))}),B=e.forwardRef((t,a)=>{const{__scopeDialog:o,trapFocus:n,onOpenAutoFocus:c,onCloseAutoFocus:r,...s}=t,l=h(w,o),f=e.useRef(null),p=V(a,f);return se(),e.createElement(e.Fragment,null,e.createElement(le,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:c,onUnmountAutoFocus:r},e.createElement(ie,g({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":K(l.open)},s,{ref:p,onDismiss:()=>l.onOpenChange(!1)}))),!1)}),ke="DialogClose",Ie=e.forwardRef((t,a)=>{const{__scopeDialog:o,...n}=t,c=h(ke,o);return e.createElement(L.button,g({type:"button"},n,{ref:a,onClick:y(t.onClick,()=>c.onOpenChange(!1))}))});function K(t){return t?"open":"closed"}const Ae=ye,Fe=Ee,Ne=Re,Le=Me,Ve=Ie;var ze="tnw2bexk tnw2bezc tnw2be114 tnw2be12w tnw2be1dg tnw2beoo tnw2bejc tnw2be1j1",Se=be({defaultClassName:"_5b32m95 tnw2be1hk tnw2be1hw tnw2be1dk tnw2be1kx tnw2bel4 tnw2be2nc",variantClassNames:{size:{sm:"_5b32m96",lg:"_5b32m97"}},defaultVariants:{},compoundVariants:[]}),qe="tnw2be1dk tnw2bejc tnw2bemw tnw2beoo tnw2bel4",Te="tnw2be1f8 tnw2be1gg tnw2be1cs tnw2be1dk tnw2be1j1 tnw2bejc tnw2bemw tnw2beoo tnw2bel4";const F=t=>{const{backdropColor:a="gradientBackdrop",children:o,disableAnimation:n=!1,isDismissible:c=!0,onClose:r,scroll:s=!0,size:l="lg",overlayProps:f,contentProps:p}=t;return $(Ae,{defaultOpen:!0,onOpenChange:r,children:$(Fe,{forceMount:!0,children:I(A,{className:Te,children:[$(A,{as:Ne,asChild:!0,background:a,className:qe,forceMount:!0,children:$(k.div,{initial:n?!1:{opacity:0},animate:n?!1:{opacity:1},exit:n?void 0:{opacity:0},transition:{type:"tween",ease:"linear"},...f},"modal-overlay")}),$(Le,{asChild:!0,className:Se({size:l}),forceMount:!0,onEscapeKeyDown:d=>{c?r==null||r():d.preventDefault()},onInteractOutside:d=>{c?r==null||r():d.preventDefault()},children:I(k.div,{initial:n?!1:{y:"100%"},animate:n?!1:{y:0},exit:n?void 0:{y:"100%"},transition:{type:"tween",ease:"easeOut"},...p,children:[s?$(me,{children:o}):o,c&&$(Ve,{asChild:!0,children:$(pe,{icon:fe,size:"xs",className:ze,"aria-label":"Close"})})]},"modal-content")})]})})})};try{F.displayName="Modal",F.__docgenInfo={description:"",displayName:"Modal",props:{backdropColor:{defaultValue:null,description:"",name:"backdropColor",required:!1,type:{name:'ConditionalStyle<Values<MapLeafNodes<{ arbitrumDark: string; avalanceDark: string; bscDark: string; ethereumDark: string; gnosisDark: string; polygonDark: string; arbitrumLight: string; avalanceLight: string; bscLight: string; ... 27 more ...; white: "#ffffff"; }, CSSVarFunction>, { ...; }>>'}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disableAnimation:{defaultValue:null,description:"",name:"disableAnimation",required:!1,type:{name:"boolean"}},isDismissible:{defaultValue:null,description:"",name:"isDismissible",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},scroll:{defaultValue:null,description:"",name:"scroll",required:!1,type:{name:"boolean"}},overlayProps:{defaultValue:null,description:"",name:"overlayProps",required:!1,type:{name:"MotionProps"}},contentProps:{defaultValue:null,description:"",name:"contentProps",required:!1,type:{name:"MotionProps"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"lg"'}]}}}}}catch{}export{rt as A,F as M};
//# sourceMappingURL=Modal-98c7167a.js.map
