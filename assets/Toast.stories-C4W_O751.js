import{j as r}from"./jsx-runtime-Cf8x2fCZ.js";import{B as We}from"./Button-BocCK1Rf.js";import{C as ge}from"./Card-CdRhahTN.js";import{d as ie,b as Ke,g as He}from"./WarningIcon-B5gTtsDL.js";import{r as n}from"./index-DubqEmGm.js";import{r as $e}from"./index-e5epXPAg.js";import{a as Be,c as P,b as q,u as qe}from"./index-DKEAZgBW.js";import{u as Ce}from"./index-BkTKsPvT.js";import{c as Ue}from"./index-BKFtrmjf.js";import{P as D,c as Xe,d as Ye}from"./index-EKtyzmkF.js";import{R as ze,P as Qe,B as Ge}from"./index-DC1_uW73.js";import{P as Je}from"./index-SbpNQzLY.js";import{V as Pe}from"./index-uUNwjQTH.js";import{c as Ze}from"./index-Dp3B9jqt.js";import{I as et}from"./IconButton-IC0AMDsD.js";import{T as ce}from"./Text-BMB47DOo.js";import{m as tt}from"./proxy-BbLcDzuY.js";import{A as rt}from"./index-jvVsX4YB.js";import"./index-yBjzXJbu.js";import"./classnames-Dx2cly0x.js";import"./clsx-B-dksMZM.js";import"./index-fNjTmf9T.js";var se="ToastProvider",[oe,st,ot]=Ue("Toast"),[be,Zt]=Xe("Toast",[ot]),[nt,X]=be(se),Se=e=>{const{__scopeToast:s,label:o="Notification",duration:t=5e3,swipeDirection:c="right",swipeThreshold:u=50,children:p}=e,[m,T]=n.useState(null),[a,C]=n.useState(0),h=n.useRef(!1),A=n.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${se}\`. Expected non-empty \`string\`.`),r.jsx(oe.Provider,{scope:s,children:r.jsx(nt,{scope:s,label:o,duration:t,swipeDirection:c,swipeThreshold:u,toastCount:a,viewport:m,onViewportChange:T,onToastAdd:n.useCallback(()=>C(S=>S+1),[]),onToastRemove:n.useCallback(()=>C(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:A,children:p})})};Se.displayName=se;var Re="ToastViewport",at=["F8"],Z="toast.viewportPause",ee="toast.viewportResume",_e=n.forwardRef((e,s)=>{const{__scopeToast:o,hotkey:t=at,label:c="Notifications ({hotkey})",...u}=e,p=X(Re,o),m=st(o),T=n.useRef(null),a=n.useRef(null),C=n.useRef(null),h=n.useRef(null),A=Ce(s,h,p.onViewportChange),S=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=p.toastCount>0;n.useEffect(()=>{const l=y=>{var v;t.length!==0&&t.every(x=>y[x]||y.code===x)&&((v=h.current)==null||v.focus())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[t]),n.useEffect(()=>{const l=T.current,y=h.current;if(R&&l&&y){const f=()=>{if(!p.isClosePausedRef.current){const E=new CustomEvent(Z);y.dispatchEvent(E),p.isClosePausedRef.current=!0}},v=()=>{if(p.isClosePausedRef.current){const E=new CustomEvent(ee);y.dispatchEvent(E),p.isClosePausedRef.current=!1}},x=E=>{!l.contains(E.relatedTarget)&&v()},w=()=>{l.contains(document.activeElement)||v()};return l.addEventListener("focusin",f),l.addEventListener("focusout",x),l.addEventListener("pointermove",f),l.addEventListener("pointerleave",w),window.addEventListener("blur",f),window.addEventListener("focus",v),()=>{l.removeEventListener("focusin",f),l.removeEventListener("focusout",x),l.removeEventListener("pointermove",f),l.removeEventListener("pointerleave",w),window.removeEventListener("blur",f),window.removeEventListener("focus",v)}}},[R,p.isClosePausedRef]);const d=n.useCallback(({tabbingDirection:l})=>{const f=m().map(v=>{const x=v.ref.current,w=[x,...yt(x)];return l==="forwards"?w:w.reverse()});return(l==="forwards"?f.reverse():f).flat()},[m]);return n.useEffect(()=>{const l=h.current;if(l){const y=f=>{var w,E,_;const v=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!v){const F=document.activeElement,j=f.shiftKey;if(f.target===l&&j){(w=a.current)==null||w.focus();return}const I=d({tabbingDirection:j?"backwards":"forwards"}),O=I.findIndex(i=>i===F);J(I.slice(O+1))?f.preventDefault():j?(E=a.current)==null||E.focus():(_=C.current)==null||_.focus()}};return l.addEventListener("keydown",y),()=>l.removeEventListener("keydown",y)}},[m,d]),r.jsxs(Ge,{ref:T,role:"region","aria-label":c.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&r.jsx(te,{ref:a,onFocusFromOutsideViewport:()=>{const l=d({tabbingDirection:"forwards"});J(l)}}),r.jsx(oe.Slot,{scope:o,children:r.jsx(D.ol,{tabIndex:-1,...u,ref:A})}),R&&r.jsx(te,{ref:C,onFocusFromOutsideViewport:()=>{const l=d({tabbingDirection:"backwards"});J(l)}})]})});_e.displayName=Re;var Ie="ToastFocusProxy",te=n.forwardRef((e,s)=>{const{__scopeToast:o,onFocusFromOutsideViewport:t,...c}=e,u=X(Ie,o);return r.jsx(Pe,{"aria-hidden":!0,tabIndex:0,...c,ref:s,style:{position:"fixed"},onFocus:p=>{var a;const m=p.relatedTarget;!((a=u.viewport)!=null&&a.contains(m))&&t()}})});te.displayName=Ie;var Y="Toast",it="toast.swipeStart",ct="toast.swipeMove",lt="toast.swipeCancel",ut="toast.swipeEnd",je=n.forwardRef((e,s)=>{const{forceMount:o,open:t,defaultOpen:c,onOpenChange:u,...p}=e,[m=!0,T]=Be({prop:t,defaultProp:c,onChange:u});return r.jsx(Je,{present:o||m,children:r.jsx(ft,{open:m,...p,ref:s,onClose:()=>T(!1),onPause:q(e.onPause),onResume:q(e.onResume),onSwipeStart:P(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,a=>{const{x:C,y:h}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${C}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:P(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,a=>{const{x:C,y:h}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${C}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),T(!1)})})})});je.displayName=Y;var[dt,pt]=be(Y,{onClose(){}}),ft=n.forwardRef((e,s)=>{const{__scopeToast:o,type:t="foreground",duration:c,open:u,onClose:p,onEscapeKeyDown:m,onPause:T,onResume:a,onSwipeStart:C,onSwipeMove:h,onSwipeCancel:A,onSwipeEnd:S,...R}=e,d=X(Y,o),[l,y]=n.useState(null),f=Ce(s,i=>y(i)),v=n.useRef(null),x=n.useRef(null),w=c||d.duration,E=n.useRef(0),_=n.useRef(w),F=n.useRef(0),{onToastAdd:j,onToastRemove:Q}=d,N=q(()=>{var g;(l==null?void 0:l.contains(document.activeElement))&&((g=d.viewport)==null||g.focus()),p()}),I=n.useCallback(i=>{!i||i===1/0||(window.clearTimeout(F.current),E.current=new Date().getTime(),F.current=window.setTimeout(N,i))},[N]);n.useEffect(()=>{const i=d.viewport;if(i){const g=()=>{I(_.current),a==null||a()},b=()=>{const L=new Date().getTime()-E.current;_.current=_.current-L,window.clearTimeout(F.current),T==null||T()};return i.addEventListener(Z,b),i.addEventListener(ee,g),()=>{i.removeEventListener(Z,b),i.removeEventListener(ee,g)}}},[d.viewport,w,T,a,I]),n.useEffect(()=>{u&&!d.isClosePausedRef.current&&I(w)},[u,w,d.isClosePausedRef,I]),n.useEffect(()=>(j(),()=>Q()),[j,Q]);const O=n.useMemo(()=>l?Me(l):null,[l]);return d.viewport?r.jsxs(r.Fragment,{children:[O&&r.jsx(mt,{__scopeToast:o,role:"status","aria-live":t==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),r.jsx(dt,{scope:o,onClose:N,children:$e.createPortal(r.jsx(oe.ItemSlot,{scope:o,children:r.jsx(ze,{asChild:!0,onEscapeKeyDown:P(m,()=>{d.isFocusedToastEscapeKeyDownRef.current||N(),d.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(D.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":d.swipeDirection,...R,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,i=>{i.key==="Escape"&&(m==null||m(i.nativeEvent),i.nativeEvent.defaultPrevented||(d.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:P(e.onPointerDown,i=>{i.button===0&&(v.current={x:i.clientX,y:i.clientY})}),onPointerMove:P(e.onPointerMove,i=>{if(!v.current)return;const g=i.clientX-v.current.x,b=i.clientY-v.current.y,L=!!x.current,M=["left","right"].includes(d.swipeDirection),k=["left","up"].includes(d.swipeDirection)?Math.min:Math.max,ke=M?k(0,g):0,Ve=M?0:k(0,b),G=i.pointerType==="touch"?10:2,V={x:ke,y:Ve},ae={originalEvent:i,delta:V};L?(x.current=V,W(ct,h,ae,{discrete:!1})):le(V,d.swipeDirection,G)?(x.current=V,W(it,C,ae,{discrete:!1}),i.target.setPointerCapture(i.pointerId)):(Math.abs(g)>G||Math.abs(b)>G)&&(v.current=null)}),onPointerUp:P(e.onPointerUp,i=>{const g=x.current,b=i.target;if(b.hasPointerCapture(i.pointerId)&&b.releasePointerCapture(i.pointerId),x.current=null,v.current=null,g){const L=i.currentTarget,M={originalEvent:i,delta:g};le(g,d.swipeDirection,d.swipeThreshold)?W(ut,S,M,{discrete:!0}):W(lt,A,M,{discrete:!0}),L.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),d.viewport)})]}):null}),mt=e=>{const{__scopeToast:s,children:o,...t}=e,c=X(Y,s),[u,p]=n.useState(!1),[m,T]=n.useState(!1);return wt(()=>p(!0)),n.useEffect(()=>{const a=window.setTimeout(()=>T(!0),1e3);return()=>window.clearTimeout(a)},[]),m?null:r.jsx(Qe,{asChild:!0,children:r.jsx(Pe,{...t,children:u&&r.jsxs(r.Fragment,{children:[c.label," ",o]})})})},vt="ToastTitle",Ne=n.forwardRef((e,s)=>{const{__scopeToast:o,...t}=e;return r.jsx(D.div,{...t,ref:s})});Ne.displayName=vt;var Tt="ToastDescription",De=n.forwardRef((e,s)=>{const{__scopeToast:o,...t}=e;return r.jsx(D.div,{...t,ref:s})});De.displayName=Tt;var Ae="ToastAction",xt=n.forwardRef((e,s)=>{const{altText:o,...t}=e;return o.trim()?r.jsx(Le,{altText:o,asChild:!0,children:r.jsx(ne,{...t,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ae}\`. Expected non-empty \`string\`.`),null)});xt.displayName=Ae;var Fe="ToastClose",ne=n.forwardRef((e,s)=>{const{__scopeToast:o,...t}=e,c=pt(Fe,o);return r.jsx(Le,{asChild:!0,children:r.jsx(D.button,{type:"button",...t,ref:s,onClick:P(e.onClick,c.onClose)})})});ne.displayName=Fe;var Le=n.forwardRef((e,s)=>{const{__scopeToast:o,altText:t,...c}=e;return r.jsx(D.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...c,ref:s})});function Me(e){const s=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&s.push(t.textContent),ht(t)){const c=t.ariaHidden||t.hidden||t.style.display==="none",u=t.dataset.radixToastAnnounceExclude==="";if(!c)if(u){const p=t.dataset.radixToastAnnounceAlt;p&&s.push(p)}else s.push(...Me(t))}}),s}function W(e,s,o,{discrete:t}){const c=o.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});s&&c.addEventListener(e,s,{once:!0}),t?Ye(c,u):c.dispatchEvent(u)}var le=(e,s,o=0)=>{const t=Math.abs(e.x),c=Math.abs(e.y),u=t>c;return s==="left"||s==="right"?u&&t>o:!u&&c>o};function wt(e=()=>{}){const s=q(e);qe(()=>{let o=0,t=0;return o=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(t)}},[s])}function ht(e){return e.nodeType===e.ELEMENT_NODE}function yt(e){const s=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const c=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||c?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)s.push(o.currentNode);return s}function J(e){const s=document.activeElement;return e.some(o=>o===s?!0:(o.focus(),document.activeElement!==s))}var Et=Se,gt=_e,Ct=je,Pt=Ne,bt=De,St=ne;const Rt=Ze(["will-change-transform will-change-opacity","data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)]","data-[swipe=cancel]:translate-x-0 data-[swipe=cancel]:transition-transform data-[swipe=cancel]:duration-200 data-[swipe=cancel]:ease-out","data-[swipe=end]:animate-swipeOut"],{variants:{variant:{normal:"",success:"text-positive",error:"text-negative"}},defaultVariants:{variant:"normal"}}),Oe=n.createContext(null),re=e=>{const{children:s,...o}=e,[t,c]=n.useState(new Set);return r.jsxs(Et,{...o,children:[r.jsxs(Oe.Provider,{value:c,children:[s,r.jsx(rt,{children:Array.from(t).map(u=>r.jsx(U,{...u},u.id))})]}),r.jsx(_t,{})]})},_t=()=>r.jsx(gt,{className:"fixed right-0 bottom-0 focus:outline-hidden w-full flex flex-col gap-2 p-4 pt-0 z-1000 list-none max-w-[532px]"}),U=e=>{const{id:s,variant:o,title:t,description:c,icon:u,isDismissible:p=!0,...m}=e,T=()=>{if(u)return r.jsx(u,{});switch(o){case"success":return r.jsx("div",{className:"bg-positive text-black rounded-full w-8 h-8 place-items-center min-w-0 shrink-0 flex items-center justify-center",children:r.jsx(Ke,{})});case"error":return r.jsx("div",{className:"bg-negative text-black rounded-full w-8 h-8 place-items-center min-w-0 shrink-0 flex items-center justify-center",children:r.jsx(ie,{})});default:return null}};return r.jsx(Ct,{className:Rt({variant:o}),open:!0,forceMount:!0,asChild:!0,...m,children:r.jsx(ge,{className:"rounded-md bg-button-glass backdrop-blur-xs relative flex justify-between w-full",asChild:!0,children:r.jsxs(tt.li,{layoutId:s,layout:!0,initial:{x:"100%"},animate:{x:0},exit:{y:"100%",opacity:0},children:[r.jsxs("div",{className:"flex gap-3 items-center",children:[T(),r.jsxs("div",{className:"flex flex-col gap-1",children:[t&&r.jsx(Pt,{children:r.jsx(ce,{variant:"normal",fontWeight:"bold",color:"secondary",asChild:!0,children:r.jsx("div",{children:t})})}),r.jsx(bt,{children:r.jsx(ce,{variant:"normal",fontWeight:"medium",color:"muted",asChild:!0,children:r.jsx("div",{children:c})})})]})]}),p&&r.jsx(St,{"aria-label":"Close",asChild:!0,children:r.jsx(et,{icon:ie,size:"xs"})})]})})})},It=()=>{const e=n.useContext(Oe);return s=>{const o={...s,id:Math.random().toString(36).slice(2,12),onOpenChange:t=>{t||e(c=>(c.delete(o),new Set([...c])))}};e(t=>new Set([...t,o]))}};try{re.displayName="ToastProvider",re.__docgenInfo={description:"",displayName:"ToastProvider",props:{}}}catch{}try{U.displayName="Toast",U.__docgenInfo={description:"",displayName:"Toast",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"success"'},{value:'"normal"'}]}},isDismissible:{defaultValue:null,description:"",name:"isDismissible",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ComponentType<IconProps>"}}}}}catch{}const er={title:"Components/Toast",component:U},z=e=>r.jsx(re,{swipeDirection:"right",children:r.jsx(jt,{...e})}),jt=e=>{const s=It();return r.jsx(ge,{children:r.jsx(We,{label:"Raise a Toast",onClick:()=>{s({...e,title:e.title+" "+new Date().getMilliseconds()})}})})},K={render:z,args:{title:"Title",description:"Description"}},H={render:z,args:{icon:He,title:"Transaction Sent",description:"Waiting for confirmation"}},$={render:z,args:{title:"Success",description:"Description",variant:"success"}},B={render:z,args:{title:"Error",description:'The transaction failed to send because the relayer encountered an error. "Not enough gas"',variant:"error"}};var ue,de,pe;K.parameters={...K.parameters,docs:{...(ue=K.parameters)==null?void 0:ue.docs,source:{originalSource:`{
  render: StoryWrapper,
  args: {
    title: 'Title',
    description: 'Description'
  }
}`,...(pe=(de=K.parameters)==null?void 0:de.docs)==null?void 0:pe.source}}};var fe,me,ve;H.parameters={...H.parameters,docs:{...(fe=H.parameters)==null?void 0:fe.docs,source:{originalSource:`{
  render: StoryWrapper,
  args: {
    icon: TransactionIcon,
    title: 'Transaction Sent',
    description: 'Waiting for confirmation'
  }
}`,...(ve=(me=H.parameters)==null?void 0:me.docs)==null?void 0:ve.source}}};var Te,xe,we;$.parameters={...$.parameters,docs:{...(Te=$.parameters)==null?void 0:Te.docs,source:{originalSource:`{
  render: StoryWrapper,
  args: {
    title: 'Success',
    description: 'Description',
    variant: 'success'
  }
}`,...(we=(xe=$.parameters)==null?void 0:xe.docs)==null?void 0:we.source}}};var he,ye,Ee;B.parameters={...B.parameters,docs:{...(he=B.parameters)==null?void 0:he.docs,source:{originalSource:`{
  render: StoryWrapper,
  args: {
    title: 'Error',
    description: 'The transaction failed to send because the relayer encountered an error. "Not enough gas"',
    variant: 'error'
  }
}`,...(Ee=(ye=B.parameters)==null?void 0:ye.docs)==null?void 0:Ee.source}}};const tr=["Default","WithIcon","Success","Error"];export{K as Default,B as Error,$ as Success,H as WithIcon,tr as __namedExportsOrder,er as default};
