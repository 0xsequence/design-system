var Ke=Object.defineProperty;var _=(a,c)=>Ke(a,"name",{value:c,configurable:!0});import{$ as qe,b as Se,a as B,c as D,_ as P,d as R,e as j,g as Ue,f as ze}from"./index.module.7ae073e4.js";import{r as e,j as I,a as re}from"./jsx-runtime.812d2fcc.js";import{r as _e}from"./index.1b0d8f3a.js";import{$ as Ge,a as Ye}from"./index.module.229e3b2c.js";import{$ as je}from"./index.module.a66e2082.js";import{h as Xe,$ as Ze,b as Je,a as Qe}from"./Combination.e4e20aa3.js";import{$ as xe}from"./index.module.c084e427.js";import{$ as et}from"./index.module.b847d150.js";import{$ as tt}from"./index.module.8fd1e01b.js";import{c as ot,B as Ce}from"./Box.9d3829fb.js";import{L as nt}from"./LabelledField.6e573f38.js";import{T as rt}from"./Text.448c223a.js";/* empty css                             *//* empty css                              */import{c as ye}from"./WarningIcon.38b0fde5.js";function Ee(a,[c,n]){return Math.min(n,Math.max(c,a))}_(Ee,"$ae6933e535247d3d$export$7d15b64cf5a3a4c4");const ct=[" ","Enter","ArrowUp","ArrowDown"],st=[" ","Enter"],se="Select",[ae,Ie,at]=Ge(se),[X,io]=qe(se,[at]),[lt,K]=X(se),[it,dt]=X(se),pt=_(a=>{const{__scopeSelect:c,children:n,open:d,defaultOpen:l,onOpenChange:o,value:r,defaultValue:x,onValueChange:t,dir:u,name:p,autoComplete:v,disabled:C,required:i}=a,[$,S]=e.exports.useState(null),[y,f]=e.exports.useState(null),[m,N]=e.exports.useState(!1),Z=Ye(u),[J=!1,q]=Se({prop:d,defaultProp:l,onChange:o}),[U,Q]=Se({prop:r,defaultProp:x,onChange:t}),z=e.exports.useRef(null),F=$?Boolean($.closest("form")):!0,[V,ee]=e.exports.useState(new Set),W=Array.from(V).map(T=>T.props.value).join(";");return e.exports.createElement(lt,{required:i,scope:c,trigger:$,onTriggerChange:S,valueNode:y,onValueNodeChange:f,valueNodeHasChildren:m,onValueNodeHasChildrenChange:N,contentId:xe(),value:U,onValueChange:Q,open:J,onOpenChange:q,dir:Z,triggerPointerDownPosRef:z,disabled:C},e.exports.createElement(ae.Provider,{scope:c},e.exports.createElement(it,{scope:a.__scopeSelect,onNativeOptionAdd:e.exports.useCallback(T=>{ee(G=>new Set(G).add(T))},[]),onNativeOptionRemove:e.exports.useCallback(T=>{ee(G=>{const te=new Set(G);return te.delete(T),te})},[])},n)),F?e.exports.createElement(Pe,{key:W,"aria-hidden":!0,required:i,tabIndex:-1,name:p,autoComplete:v,value:U,onChange:T=>Q(T.target.value),disabled:C},U===void 0?e.exports.createElement("option",{value:""}):null,Array.from(V)):null)},"$cc7e05a45900e73f$export$ef9b1a59e592288f"),ft="SelectTrigger",ut=e.exports.forwardRef((a,c)=>{const{__scopeSelect:n,disabled:d=!1,...l}=a,o=K(ft,n),r=o.disabled||d,x=B(c,o.onTriggerChange),t=Ie(n),[u,p,v]=Ne(i=>{const $=t().filter(f=>!f.disabled),S=$.find(f=>f.value===o.value),y=Oe($,i,S);y!==void 0&&o.onValueChange(y.value)}),C=_(()=>{r||(o.onOpenChange(!0),v())},"handleOpen");return e.exports.createElement(D.button,P({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:r,"data-disabled":r?"":void 0,"data-placeholder":o.value===void 0?"":void 0},l,{ref:x,onClick:R(l.onClick,i=>{i.currentTarget.focus()}),onPointerDown:R(l.onPointerDown,i=>{const $=i.target;$.hasPointerCapture(i.pointerId)&&$.releasePointerCapture(i.pointerId),i.button===0&&i.ctrlKey===!1&&(C(),o.triggerPointerDownPosRef.current={x:Math.round(i.pageX),y:Math.round(i.pageY)},i.preventDefault())}),onKeyDown:R(l.onKeyDown,i=>{const $=u.current!=="";!(i.ctrlKey||i.altKey||i.metaKey)&&i.key.length===1&&p(i.key),!($&&i.key===" ")&&ct.includes(i.key)&&(C(),i.preventDefault())})}))}),mt="SelectValue",xt=e.exports.forwardRef((a,c)=>{const{__scopeSelect:n,className:d,style:l,children:o,placeholder:r,...x}=a,t=K(mt,n),{onValueNodeHasChildrenChange:u}=t,p=o!==void 0,v=B(c,t.onValueNodeChange);return j(()=>{u(p)},[u,p]),e.exports.createElement(D.span,P({},x,{ref:v,style:{pointerEvents:"none"}}),t.value===void 0&&r!==void 0?r:o)}),bt=e.exports.forwardRef((a,c)=>{const{__scopeSelect:n,children:d,...l}=a;return e.exports.createElement(D.span,P({"aria-hidden":!0},l,{ref:c}),d||"\u25BC")}),be="SelectContent",gt=e.exports.forwardRef((a,c)=>{const n=K(be,a.__scopeSelect),[d,l]=e.exports.useState();return j(()=>{l(new DocumentFragment)},[]),e.exports.createElement(e.exports.Fragment,null,n.open?e.exports.createElement(ht,P({},a,{ref:c})):d?_e.exports.createPortal(e.exports.createElement(Re,{scope:a.__scopeSelect},e.exports.createElement(ae.Slot,{scope:a.__scopeSelect},e.exports.createElement("div",null,a.children))),d):null)}),M=10,[Re,ge]=X(be),ht=e.exports.forwardRef((a,c)=>{const{__scopeSelect:n,onCloseAutoFocus:d,...l}=a,o=K(be,n),[r,x]=e.exports.useState(null),[t,u]=e.exports.useState(null),[p,v]=e.exports.useState(null),C=B(c,s=>u(s)),[i,$]=e.exports.useState(null),[S,y]=e.exports.useState(null),f=Ie(n),[m,N]=e.exports.useState(!1),Z=e.exports.useRef(!0),J=e.exports.useRef(!1),q=e.exports.useRef(!1);e.exports.useEffect(()=>{if(t)return Xe(t)},[t]),Ze();const[U,Q]=e.exports.useState();j(()=>{t&&Q(window.getComputedStyle(t).zIndex)},[t]);const z=e.exports.useCallback(s=>{const[g,...E]=f().map(w=>w.ref.current),[b]=E.slice(-1),h=document.activeElement;for(const w of s)if(w===h||(w==null||w.scrollIntoView({block:"nearest"}),w===g&&p&&(p.scrollTop=0),w===b&&p&&(p.scrollTop=p.scrollHeight),w==null||w.focus(),document.activeElement!==h))return},[f,p]),F=e.exports.useCallback(()=>{if(o.trigger&&o.valueNode&&r&&t&&p&&i&&S){const s=o.trigger.getBoundingClientRect(),g=t.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),b=S.getBoundingClientRect();if(o.dir!=="rtl"){const A=b.left-g.left,k=E.left-A,L=s.left-k,H=s.width+L,de=Math.max(H,g.width),pe=window.innerWidth-M,fe=Ee(k,[M,pe-de]);r.style.minWidth=H+"px",r.style.left=fe+"px"}else{const A=g.right-b.right,k=window.innerWidth-E.right-A,L=window.innerWidth-s.right-k,H=s.width+L,de=Math.max(H,g.width),pe=window.innerWidth-M,fe=Ee(k,[M,pe-de]);r.style.minWidth=H+"px",r.style.right=fe+"px"}const h=f(),w=window.innerHeight-M*2,Y=p.scrollHeight,O=window.getComputedStyle(t),le=parseInt(O.borderTopWidth,10),he=parseInt(O.paddingTop,10),$e=parseInt(O.borderBottomWidth,10),Ve=parseInt(O.paddingBottom,10),we=le+he+Y+Ve+$e,Ae=Math.min(i.offsetHeight*5,we),ve=window.getComputedStyle(p),Le=parseInt(ve.paddingTop,10),He=parseInt(ve.paddingBottom,10),oe=s.top+s.height/2-M,Be=w-oe,ie=i.offsetHeight/2,Fe=i.offsetTop+ie,ne=le+he+Fe,We=we-ne;if(ne<=oe){const A=i===h[h.length-1].ref.current;r.style.bottom="0px";const k=t.clientHeight-p.offsetTop-p.offsetHeight,L=Math.max(Be,ie+(A?He:0)+k+$e),H=ne+L;r.style.height=H+"px"}else{const A=i===h[0].ref.current;r.style.top="0px";const L=Math.max(oe,le+p.offsetTop+(A?Le:0)+ie)+We;r.style.height=L+"px",p.scrollTop=ne-oe+p.offsetTop}r.style.margin=`${M}px 0`,r.style.minHeight=Ae+"px",r.style.maxHeight=w+"px",N(!0),requestAnimationFrame(()=>J.current=!0)}},[f,o.trigger,o.valueNode,r,t,p,i,S,o.dir]);j(()=>F(),[F]);const V=e.exports.useCallback(()=>z([i,t]),[z,i,t]);e.exports.useEffect(()=>{m&&V()},[m,V]);const ee=e.exports.useCallback(s=>{s&&Z.current===!0&&(F(),V(),Z.current=!1)},[F,V]),{onOpenChange:W,triggerPointerDownPosRef:T}=o;e.exports.useEffect(()=>{if(t){let s={x:0,y:0};const g=_(b=>{var h,w,Y,O;s={x:Math.abs(Math.round(b.pageX)-((h=(w=T.current)===null||w===void 0?void 0:w.x)!==null&&h!==void 0?h:0)),y:Math.abs(Math.round(b.pageY)-((Y=(O=T.current)===null||O===void 0?void 0:O.y)!==null&&Y!==void 0?Y:0))}},"handlePointerMove"),E=_(b=>{s.x<=10&&s.y<=10?b.preventDefault():t.contains(b.target)||W(!1),document.removeEventListener("pointermove",g),T.current=null},"handlePointerUp");return T.current!==null&&(document.addEventListener("pointermove",g),document.addEventListener("pointerup",E,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",E,{capture:!0})}}},[t,W,T]),e.exports.useEffect(()=>{const s=_(()=>W(!1),"close");return window.addEventListener("blur",s),window.addEventListener("resize",s),()=>{window.removeEventListener("blur",s),window.removeEventListener("resize",s)}},[W]);const[G,te]=Ne(s=>{const g=f().filter(h=>!h.disabled),E=g.find(h=>h.ref.current===document.activeElement),b=Oe(g,s,E);b&&setTimeout(()=>b.ref.current.focus())}),ke=e.exports.useCallback((s,g,E)=>{const b=!q.current&&!E;(o.value!==void 0&&o.value===g||b)&&($(s),b&&(q.current=!0))},[o.value]),Me=e.exports.useCallback(()=>t==null?void 0:t.focus(),[t]),De=e.exports.useCallback((s,g,E)=>{const b=!q.current&&!E;(o.value!==void 0&&o.value===g||b)&&y(s)},[o.value]);return e.exports.createElement(Re,{scope:n,contentWrapper:r,content:t,viewport:p,onViewportChange:v,itemRefCallback:ke,selectedItem:i,onItemLeave:Me,itemTextRefCallback:De,selectedItemText:S,onScrollButtonChange:ee,isPositioned:m,shouldExpandOnScrollRef:J,searchRef:G},e.exports.createElement(Je,{as:Ue,allowPinchZoom:!0},e.exports.createElement("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U}},e.exports.createElement(Qe,{asChild:!0,trapped:o.open,onMountAutoFocus:s=>{s.preventDefault()},onUnmountAutoFocus:R(d,s=>{var g;(g=o.trigger)===null||g===void 0||g.focus({preventScroll:!0}),s.preventDefault()})},e.exports.createElement(je,P({role:"listbox",id:o.contentId,"data-state":o.open?"open":"closed",dir:o.dir,onContextMenu:s=>s.preventDefault()},l,{ref:C,style:{display:"flex",flexDirection:"column",boxSizing:"border-box",maxHeight:"100%",outline:"none",...l.style},disableOutsidePointerEvents:!0,onFocusOutside:s=>s.preventDefault(),onDismiss:()=>o.onOpenChange(!1),onKeyDown:R(l.onKeyDown,s=>{const g=s.ctrlKey||s.altKey||s.metaKey;if(s.key==="Tab"&&s.preventDefault(),!g&&s.key.length===1&&te(s.key),["ArrowUp","ArrowDown","Home","End"].includes(s.key)){let b=f().filter(h=>!h.disabled).map(h=>h.ref.current);if(["ArrowUp","End"].includes(s.key)&&(b=b.slice().reverse()),["ArrowUp","ArrowDown"].includes(s.key)){const h=s.target,w=b.indexOf(h);b=b.slice(w+1)}setTimeout(()=>z(b)),s.preventDefault()}})}))))))}),$t="SelectViewport",wt=e.exports.forwardRef((a,c)=>{const{__scopeSelect:n,...d}=a,l=ge($t,n),o=B(c,l.onViewportChange),r=e.exports.useRef(0);return e.exports.createElement(e.exports.Fragment,null,e.exports.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),e.exports.createElement(ae.Slot,{scope:n},e.exports.createElement(D.div,P({"data-radix-select-viewport":"",role:"presentation"},d,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...d.style},onScroll:R(d.onScroll,x=>{const t=x.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:p}=l;if(p!=null&&p.current&&u){const v=Math.abs(r.current-t.scrollTop);if(v>0){const C=window.innerHeight-M*2,i=parseFloat(u.style.minHeight),$=parseFloat(u.style.height),S=Math.max(i,$);if(S<C){const y=S+v,f=Math.min(C,y),m=y-f;u.style.height=f+"px",u.style.bottom==="0px"&&(t.scrollTop=m>0?m:0,u.style.justifyContent="flex-end")}}}r.current=t.scrollTop})}))))}),vt="SelectGroup",[St,Ct]=X(vt),yt=e.exports.forwardRef((a,c)=>{const{__scopeSelect:n,...d}=a,l=xe();return e.exports.createElement(St,{scope:n,id:l},e.exports.createElement(D.div,P({role:"group","aria-labelledby":l},d,{ref:c})))}),Et="SelectLabel",Tt=e.exports.forwardRef((a,c)=>{const{__scopeSelect:n,...d}=a,l=Ct(Et,n);return e.exports.createElement(D.div,P({id:l.id},d,{ref:c}))}),me="SelectItem",[_t,It]=X(me),Rt=e.exports.forwardRef((a,c)=>{const{__scopeSelect:n,value:d,disabled:l=!1,textValue:o,...r}=a,x=K(me,n),t=ge(me,n),u=x.value===d,[p,v]=e.exports.useState(o!=null?o:""),[C,i]=e.exports.useState(!1),$=B(c,f=>{var m;return(m=t.itemRefCallback)===null||m===void 0?void 0:m.call(t,f,d,l)}),S=xe(),y=_(()=>{l||(x.onValueChange(d),x.onOpenChange(!1))},"handleSelect");return e.exports.createElement(_t,{scope:n,value:d,disabled:l,textId:S,isSelected:u,onItemTextChange:e.exports.useCallback(f=>{v(m=>{var N;return m||((N=f==null?void 0:f.textContent)!==null&&N!==void 0?N:"").trim()})},[])},e.exports.createElement(ae.ItemSlot,{scope:n,value:d,disabled:l,textValue:p},e.exports.createElement(D.div,P({role:"option","aria-labelledby":S,"data-highlighted":C?"":void 0,"aria-selected":u&&C,"data-state":u?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1},r,{ref:$,onFocus:R(r.onFocus,()=>i(!0)),onBlur:R(r.onBlur,()=>i(!1)),onPointerUp:R(r.onPointerUp,y),onPointerMove:R(r.onPointerMove,f=>{if(l){var m;(m=t.onItemLeave)===null||m===void 0||m.call(t)}else f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:R(r.onPointerLeave,f=>{if(f.currentTarget===document.activeElement){var m;(m=t.onItemLeave)===null||m===void 0||m.call(t)}}),onKeyDown:R(r.onKeyDown,f=>{var m;((m=t.searchRef)===null||m===void 0?void 0:m.current)!==""&&f.key===" "||(st.includes(f.key)&&y(),f.key===" "&&f.preventDefault())})}))))}),ce="SelectItemText",Pt=e.exports.forwardRef((a,c)=>{const{__scopeSelect:n,className:d,style:l,...o}=a,r=K(ce,n),x=ge(ce,n),t=It(ce,n),u=dt(ce,n),[p,v]=e.exports.useState(null),C=B(c,f=>v(f),t.onItemTextChange,f=>{var m;return(m=x.itemTextRefCallback)===null||m===void 0?void 0:m.call(x,f,t.value,t.disabled)}),i=p==null?void 0:p.textContent,$=e.exports.useMemo(()=>e.exports.createElement("option",{key:t.value,value:t.value,disabled:t.disabled},i),[t.disabled,t.value,i]),{onNativeOptionAdd:S,onNativeOptionRemove:y}=u;return j(()=>(S($),()=>y($)),[S,y,$]),e.exports.createElement(e.exports.Fragment,null,e.exports.createElement(D.span,P({id:t.textId},o,{ref:C})),t.isSelected&&r.valueNode&&!r.valueNodeHasChildren?_e.exports.createPortal(o.children,r.valueNode):null)}),Pe=e.exports.forwardRef((a,c)=>{const{value:n,...d}=a,l=e.exports.useRef(null),o=B(c,l),r=et(n);return e.exports.useEffect(()=>{const x=l.current,t=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(t,"value").set;if(r!==n&&p){const v=new Event("change",{bubbles:!0});p.call(x,n),x.dispatchEvent(v)}},[r,n]),e.exports.createElement(tt,{asChild:!0},e.exports.createElement("select",P({},d,{ref:o,defaultValue:n})))});Pe.displayName="BubbleSelect";function Ne(a){const c=ze(a),n=e.exports.useRef(""),d=e.exports.useRef(0),l=e.exports.useCallback(r=>{const x=n.current+r;c(x),_(function t(u){n.current=u,window.clearTimeout(d.current),u!==""&&(d.current=window.setTimeout(()=>t(""),1e3))},"updateSearch")(x)},[c]),o=e.exports.useCallback(()=>{n.current="",window.clearTimeout(d.current)},[]);return e.exports.useEffect(()=>()=>window.clearTimeout(d.current),[]),[n,l,o]}_(Ne,"$cc7e05a45900e73f$var$useTypeaheadSearch");function Oe(a,c,n){const l=c.length>1&&Array.from(c).every(u=>u===c[0])?c[0]:c,o=n?a.indexOf(n):-1;let r=Nt(a,Math.max(o,0));l.length===1&&(r=r.filter(u=>u!==n));const t=r.find(u=>u.textValue.toLowerCase().startsWith(l.toLowerCase()));return t!==n?t:void 0}_(Oe,"$cc7e05a45900e73f$var$findNextItem");function Nt(a,c){return a.map((n,d)=>a[(c+d)%a.length])}_(Nt,"$cc7e05a45900e73f$var$wrapArray");const Ot=pt,kt=ut,Mt=xt,Te=bt,Dt=gt,Vt=wt,At=yt,Lt=Tt,Ht=Rt,Bt=Pt;var Ft="tnw2beqw tnw2ber8 tnw2berk tnw2berw tnw2beto tnw2beuc tnw2besc tnw2bet0 tnw2be11k tnw2be11w tnw2be1gi tnw2be1g0 tnw2be190 tnw2be1fi tnw2be12c tnw2be15u tnw2be1c0 tnw2be1kc tnw2be12x",Wt="tnw2beh4 tnw2beik tnw2bee4 tnw2befk tnw2bexo tnw2bezs tnw2be1ko",Kt="tnw2beh4 tnw2beik tnw2bee4 tnw2befk tnw2bexo tnw2bezs tnw2be1n6 tnw2be1ne tnw2be1o9 tnw2be1oa tnw2be1kc tnw2be1kk tnw2be153 tnw2be154 tnw2be15b tnw2be1o0 tnw2be1nq",qt="gohwum1 tnw2be12f tnw2bev4 tnw2bewo tnw2bewg tnw2bevo tnw2beqw tnw2ber8 tnw2berk tnw2berw tnw2bets tnw2beug tnw2besg tnw2bet4 tnw2bee8 tnw2befo tnw2beh4 tnw2beik tnw2be1gi tnw2be1g0 tnw2be190 tnw2be1fi tnw2be10g tnw2be13c tnw2be1c0 tnw2be1n6 tnw2bey0 tnw2bevs tnw2bepg tnw2bezs tnw2be1o0 tnw2be1ny tnw2be12m";const Ut=e.exports.forwardRef(({children:a,className:c,...n},d)=>I(Ht,{className:ot(Kt,c),...n,ref:d,children:I(Bt,{children:a})})),ue=e.exports.forwardRef(({disabled:a=!1,id:c,label:n="",labelLocation:d="hidden",name:l,options:o,placeholder:r,processing:x=!1,...t},u)=>I(nt,{forId:c!=null?c:l,label:n,labelLocation:d,whiteSpace:"nowrap",children:re(Ot,{disabled:a||x,name:l,...t,children:[re(kt,{id:c!=null?c:l,className:qt,ref:u,children:[I(Mt,{placeholder:r}),I(Ce,{as:Te,display:"inline-flex",children:I(ye,{})})]}),I(Dt,{className:Ft,children:I(Vt,{children:re(At,{children:[re(Lt,{className:Wt,children:[I(rt,{children:r}),I(Ce,{as:Te,display:"inline-flex",children:I(ye,{})})]}),o.map(({value:p,label:v,...C})=>I(Ut,{value:p,...C,children:v},v))]})})})]})}));try{ue.displayName="Select",ue.__docgenInfo={description:"",displayName:"Select",props:{label:{defaultValue:{value:""},description:"",name:"label",required:!1,type:{name:"string"}},labelLocation:{defaultValue:{value:"hidden"},description:"",name:"labelLocation",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"hidden"'}]}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},processing:{defaultValue:{value:"false"},description:"",name:"processing",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"SelectOption[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Select/Select.tsx#Select"]={docgenInfo:ue.__docgenInfo,name:"Select",path:"src/components/Select/Select.tsx#Select"})}catch{}export{ue as S};
//# sourceMappingURL=Select.6be0b43c.js.map
