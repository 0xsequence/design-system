import{c as q,_ as G,a as Q,b as B,z as U,f as J,s as _,d as $,R as ee,e as re}from"./component-vxorUtT4.js";import{r as l}from"./iframe-PraEDYtv.js";var Z=q(),X=function(){},T=l.forwardRef(function(e,r){var a=l.useRef(null),n=l.useState({onScrollCapture:X,onWheelCapture:X,onTouchMoveCapture:X}),s=n[0],f=n[1],m=e.forwardProps,i=e.children,w=e.className,y=e.removeScrollBar,C=e.enabled,c=e.shards,u=e.sideCar,S=e.noRelative,b=e.noIsolation,t=e.inert,o=e.allowPinchZoom,v=e.as,d=v===void 0?"div":v,g=e.gapMode,R=G(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),h=u,k=Q([a,r]),E=B(B({},R),s);return l.createElement(l.Fragment,null,C&&l.createElement(h,{sideCar:Z,removeScrollBar:y,shards:c,noRelative:S,noIsolation:b,inert:t,setCallbacks:f,allowPinchZoom:!!o,lockRef:a,gapMode:g}),m?l.cloneElement(l.Children.only(i),B(B({},E),{ref:k})):l.createElement(d,B({},E,{className:w,ref:k}),i))});T.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};T.classNames={fullWidth:J,zeroRight:U};var I=!1;if(typeof window<"u")try{var L=Object.defineProperty({},"passive",{get:function(){return I=!0,!0}});window.addEventListener("test",L,L),window.removeEventListener("test",L,L)}catch{I=!1}var M=I?{passive:!1}:!1,te=function(e){return e.tagName==="TEXTAREA"},x=function(e,r){if(!(e instanceof Element))return!1;var a=window.getComputedStyle(e);return a[r]!=="hidden"&&!(a.overflowY===a.overflowX&&!te(e)&&a[r]==="visible")},ae=function(e){return x(e,"overflowY")},ne=function(e){return x(e,"overflowX")},H=function(e,r){var a=r.ownerDocument,n=r;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=z(e,n);if(s){var f=K(e,n),m=f[1],i=f[2];if(m>i)return!0}n=n.parentNode}while(n&&n!==a.body);return!1},le=function(e){var r=e.scrollTop,a=e.scrollHeight,n=e.clientHeight;return[r,a,n]},oe=function(e){var r=e.scrollLeft,a=e.scrollWidth,n=e.clientWidth;return[r,a,n]},z=function(e,r){return e==="v"?ae(r):ne(r)},K=function(e,r){return e==="v"?le(r):oe(r)},ce=function(e,r){return e==="h"&&r==="rtl"?-1:1},ie=function(e,r,a,n,s){var f=ce(e,window.getComputedStyle(r).direction),m=f*n,i=a.target,w=r.contains(i),y=!1,C=m>0,c=0,u=0;do{if(!i)break;var S=K(e,i),b=S[0],t=S[1],o=S[2],v=t-o-f*b;(b||v)&&z(e,i)&&(c+=v,u+=b);var d=i.parentNode;i=d&&d.nodeType===Node.DOCUMENT_FRAGMENT_NODE?d.host:d}while(!w&&i!==document.body||w&&(r.contains(i)||r===i));return(C&&Math.abs(c)<1||!C&&Math.abs(u)<1)&&(y=!0),y},N=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},F=function(e){return[e.deltaX,e.deltaY]},V=function(e){return e&&"current"in e?e.current:e},ue=function(e,r){return e[0]===r[0]&&e[1]===r[1]},se=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fe=0,P=[];function ve(e){var r=l.useRef([]),a=l.useRef([0,0]),n=l.useRef(),s=l.useState(fe++)[0],f=l.useState(_)[0],m=l.useRef(e);l.useEffect(function(){m.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=$([e.lockRef.current],(e.shards||[]).map(V),!0).filter(Boolean);return t.forEach(function(o){return o.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(o){return o.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=l.useCallback(function(t,o){if("touches"in t&&t.touches.length===2||t.type==="wheel"&&t.ctrlKey)return!m.current.allowPinchZoom;var v=N(t),d=a.current,g="deltaX"in t?t.deltaX:d[0]-v[0],R="deltaY"in t?t.deltaY:d[1]-v[1],h,k=t.target,E=Math.abs(g)>Math.abs(R)?"h":"v";if("touches"in t&&E==="h"&&k.type==="range")return!1;var p=H(E,k);if(!p)return!0;if(p?h=E:(h=E==="v"?"h":"v",p=H(E,k)),!p)return!1;if(!n.current&&"changedTouches"in t&&(g||R)&&(n.current=h),!h)return!0;var O=n.current||h;return ie(O,o,t,O==="h"?g:R)},[]),w=l.useCallback(function(t){var o=t;if(!(!P.length||P[P.length-1]!==f)){var v="deltaY"in o?F(o):N(o),d=r.current.filter(function(h){return h.name===o.type&&(h.target===o.target||o.target===h.shadowParent)&&ue(h.delta,v)})[0];if(d&&d.should){o.cancelable&&o.preventDefault();return}if(!d){var g=(m.current.shards||[]).map(V).filter(Boolean).filter(function(h){return h.contains(o.target)}),R=g.length>0?i(o,g[0]):!m.current.noIsolation;R&&o.cancelable&&o.preventDefault()}}},[]),y=l.useCallback(function(t,o,v,d){var g={name:t,delta:o,target:v,should:d,shadowParent:de(v)};r.current.push(g),setTimeout(function(){r.current=r.current.filter(function(R){return R!==g})},1)},[]),C=l.useCallback(function(t){a.current=N(t),n.current=void 0},[]),c=l.useCallback(function(t){y(t.type,F(t),t.target,i(t,e.lockRef.current))},[]),u=l.useCallback(function(t){y(t.type,N(t),t.target,i(t,e.lockRef.current))},[]);l.useEffect(function(){return P.push(f),e.setCallbacks({onScrollCapture:c,onWheelCapture:c,onTouchMoveCapture:u}),document.addEventListener("wheel",w,M),document.addEventListener("touchmove",w,M),document.addEventListener("touchstart",C,M),function(){P=P.filter(function(t){return t!==f}),document.removeEventListener("wheel",w,M),document.removeEventListener("touchmove",w,M),document.removeEventListener("touchstart",C,M)}},[]);var S=e.removeScrollBar,b=e.inert;return l.createElement(l.Fragment,null,b?l.createElement(f,{styles:se(s)}):null,S?l.createElement(ee,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function de(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const he=re(Z,ve);var me=l.forwardRef(function(e,r){return l.createElement(T,B({},e,{ref:r,sideCar:he}))});me.classNames=T.classNames;var Se=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},A=new WeakMap,W=new WeakMap,D={},Y=0,j=function(e){return e&&(e.host||j(e.parentNode))},we=function(e,r){return r.map(function(a){if(e.contains(a))return a;var n=j(a);return n&&e.contains(n)?n:(console.error("aria-hidden",a,"in not contained inside",e,". Doing nothing"),null)}).filter(function(a){return!!a})},ye=function(e,r,a,n){var s=we(r,Array.isArray(e)?e:[e]);D[a]||(D[a]=new WeakMap);var f=D[a],m=[],i=new Set,w=new Set(s),y=function(c){!c||i.has(c)||(i.add(c),y(c.parentNode))};s.forEach(y);var C=function(c){!c||w.has(c)||Array.prototype.forEach.call(c.children,function(u){if(i.has(u))C(u);else try{var S=u.getAttribute(n),b=S!==null&&S!=="false",t=(A.get(u)||0)+1,o=(f.get(u)||0)+1;A.set(u,t),f.set(u,o),m.push(u),t===1&&b&&W.set(u,!0),o===1&&u.setAttribute(a,"true"),b||u.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",u,v)}})};return C(r),i.clear(),Y++,function(){m.forEach(function(c){var u=A.get(c)-1,S=f.get(c)-1;A.set(c,u),f.set(c,S),u||(W.has(c)||c.removeAttribute(n),W.delete(c)),S||c.removeAttribute(a)}),Y--,Y||(A=new WeakMap,A=new WeakMap,W=new WeakMap,D={})}},be=function(e,r,a){a===void 0&&(a="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=Se(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),ye(n,s,a,"aria-hidden")):function(){return null}};export{me as R,be as h};
