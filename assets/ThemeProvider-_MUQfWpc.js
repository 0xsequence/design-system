import{j as f}from"./jsx-runtime-z8MfsBtr.js";import{r as o}from"./index-D1TSixAU.js";import{c as T}from"./color-Cn0GlU5F.js";const n=["dark","light"],a="dark",i="data-theme",l="@sequence.theme",g=e=>n.includes(e),E=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),d=e=>e?`${l}.${e}`:l,y=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),m=(e,t)=>{Object.entries(t).forEach(([s,c])=>{if(c){const r=y(s);e.style.setProperty(`--seq-color-${r}`,c)}})},S=e=>{const t=localStorage.getItem(d(e));return t&&n.includes(t)?t:null},C=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":matchMedia("(prefers-color-scheme: dark)").matches?"dark":null,h=o.createContext(null),u=e=>{const[t,s]=o.useState(e.theme||a);o.useEffect(()=>{/Mac/.test(window.navigator.userAgent)&&window.document.documentElement.classList.add("is-apple")},[]),o.useEffect(()=>{const r=e.theme||S(e.scope)||e.prefersColorScheme&&C()||a;s(r)},[e.theme,e.scope,e.prefersColorScheme]),o.useEffect(()=>{const r=document.querySelector(e.root||":root");r&&(g(t)?(r.setAttribute(i,t),m(r,T[t])):E(t)&&(r.setAttribute(i,"custom"),m(r,t)),e.root&&r.classList.add("seq-root"))},[t,e.root]);const c=o.useMemo(()=>({theme:t,root:e.root,setTheme:r=>{n.includes(r)&&(localStorage.setItem(d(e.scope),r),s(r))}}),[t,e.root,e.scope]);return f.jsx(h.Provider,{value:c,children:e.children})},x=()=>{const e=o.useContext(h);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e};try{u.displayName="ThemeProvider",u.__docgenInfo={description:"",displayName:"ThemeProvider",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:'"dark" | "light" | Partial<ColorTokens>'}},root:{defaultValue:null,description:"",name:"root",required:!1,type:{name:"string"}},scope:{defaultValue:null,description:"",name:"scope",required:!1,type:{name:"string"}},prefersColorScheme:{defaultValue:null,description:"",name:"prefersColorScheme",required:!1,type:{name:"boolean"}}}}}catch{}export{u as T,x as u};
