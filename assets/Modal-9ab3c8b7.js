import{r as e}from"./index-d8ade8ea.js";import{u as N,s as Z,a as J,P as Q,w as X,L as ee,b as te,e as oe,m as k}from"./motion-7df5a7b3.js";import{j as b,a as I}from"./jsx-runtime-a9c13c85.js";import{_ as g}from"./extends-98964cd2.js";import{$ as ne,a as _}from"./index.module-99b258bb.js";import{$ as re,d as ae,b as L,a as V}from"./index.module-1b91e82f.js";import{$ as D}from"./index.module-cc7c4bf6.js";import{c as se,a as ce,b as ie,$ as le}from"./Combination-ff871947.js";import{$ as de}from"./index.module-05556e0d.js";import{$ as O}from"./index.module-5cafe27c.js";import{h as ue}from"./index-807b81f6.js";import{B as A}from"./Box-62a4f41e.js";import{c as fe}from"./WarningIcon-c6479824.js";import{I as pe}from"./IconButton-cfefcaf6.js";import{S as me}from"./Scroll-2bf6a9a6.js";import"./atoms-b77c2037.js";import{c as $e}from"./vanilla-extract-recipes-createRuntimeFn.esm-d30eb010.js";function z(){const t=e.useRef(!1);return N(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function be(){const t=z(),[c,o]=e.useState(0),n=e.useCallback(()=>{t.current&&o(c+1)},[c]);return[e.useCallback(()=>Z.postRender(n),[n]),c]}class ge extends e.Component{getSnapshotBeforeUpdate(c){const o=this.props.childRef.current;if(o&&c.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=o.offsetHeight||0,n.width=o.offsetWidth||0,n.top=o.offsetTop,n.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ve({children:t,isPresent:c}){const o=e.useId(),n=e.useRef(null),a=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:r,height:s,top:i,left:f}=a.current;if(c||!n.current||!r||!s)return;n.current.dataset.motionPopId=o;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${s}px !important;
            top: ${i}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[c]),e.createElement(ge,{isPresent:c,childRef:n,sizeRef:a},e.cloneElement(t,{ref:n}))}const M=({children:t,initial:c,isPresent:o,onExitComplete:n,custom:a,presenceAffectsLayout:r,mode:s})=>{const i=J(he),f=e.useId(),p=e.useMemo(()=>({id:f,initial:c,isPresent:o,custom:a,onExitComplete:u=>{i.set(u,!0);for(const l of i.values())if(!l)return;n&&n()},register:u=>(i.set(u,!1),()=>i.delete(u))}),r?void 0:[o]);return e.useMemo(()=>{i.forEach((u,l)=>i.set(l,!1))},[o]),e.useEffect(()=>{!o&&!i.size&&n&&n()},[o]),s==="popLayout"&&(t=e.createElement(ve,{isPresent:o},t)),e.createElement(Q.Provider,{value:p},t)};function he(){return new Map}const h=t=>t.key||"";function ye(t,c){t.forEach(o=>{const n=h(o);c.set(n,o)})}function Ce(t){const c=[];return e.Children.forEach(t,o=>{e.isValidElement(o)&&c.push(o)}),c}const at=({children:t,custom:c,initial:o=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:r=!0,mode:s="sync"})=>{a&&(s="wait",X(!1,"Replace exitBeforeEnter with mode='wait'"));let[i]=be();const f=e.useContext(ee).forceRender;f&&(i=f);const p=z(),u=Ce(t);let l=u;const m=new Set,y=e.useRef(l),x=e.useRef(new Map).current,E=e.useRef(!0);if(N(()=>{E.current=!1,ye(u,x),y.current=l}),te(()=>{E.current=!0,x.clear(),m.clear()}),E.current)return e.createElement(e.Fragment,null,l.map(d=>e.createElement(M,{key:h(d),isPresent:!0,initial:o?void 0:!1,presenceAffectsLayout:r,mode:s},d)));l=[...l];const R=y.current.map(h),w=u.map(h),U=R.length;for(let d=0;d<U;d++){const $=R[d];w.indexOf($)===-1&&m.add($)}return s==="wait"&&m.size&&(l=[]),m.forEach(d=>{if(w.indexOf(d)!==-1)return;const $=x.get(d);if(!$)return;const j=R.indexOf(d),G=()=>{x.delete(d),m.delete(d);const Y=y.current.findIndex(W=>W.key===d);if(y.current.splice(Y,1),!m.size){if(y.current=u,p.current===!1)return;i(),n&&n()}};l.splice(j,0,e.createElement(M,{key:h($),isPresent:!1,onExitComplete:G,custom:c,presenceAffectsLayout:r,mode:s},$))}),l=l.map(d=>{const $=d.key;return m.has($)?d:e.createElement(M,{key:h(d),isPresent:!0,presenceAffectsLayout:r,mode:s},d)}),oe!=="production"&&s==="wait"&&l.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),e.createElement(e.Fragment,null,m.size?l:l.map(d=>e.cloneElement(d)))},q="Dialog",[S,st]=re(q),[xe,v]=S(q),_e=t=>{const{__scopeDialog:c,children:o,open:n,defaultOpen:a,onOpenChange:r,modal:s=!0}=t,i=e.useRef(null),f=e.useRef(null),[p=!1,u]=ne({prop:n,defaultProp:a,onChange:r});return e.createElement(xe,{scope:c,triggerRef:i,contentRef:f,contentId:D(),titleId:D(),descriptionId:D(),open:p,onOpenChange:u,onOpenToggle:e.useCallback(()=>u(l=>!l),[u]),modal:s},o)},T="DialogPortal",[Ee,B]=S(T,{forceMount:void 0}),Re=t=>{const{__scopeDialog:c,forceMount:o,children:n,container:a}=t,r=v(T,c);return e.createElement(Ee,{scope:c,forceMount:o},e.Children.map(n,s=>e.createElement(O,{present:o||r.open},e.createElement(de,{asChild:!0,container:a},s))))},P="DialogOverlay",De=e.forwardRef((t,c)=>{const o=B(P,t.__scopeDialog),{forceMount:n=o.forceMount,...a}=t,r=v(P,t.__scopeDialog);return r.modal?e.createElement(O,{present:n||r.open},e.createElement(Me,g({},a,{ref:c}))):null}),Me=e.forwardRef((t,c)=>{const{__scopeDialog:o,...n}=t,a=v(P,o);return e.createElement(se,{as:ae,allowPinchZoom:!0,shards:[a.contentRef]},e.createElement(L.div,g({"data-state":K(a.open)},n,{ref:c,style:{pointerEvents:"auto",...n.style}})))}),C="DialogContent",Pe=e.forwardRef((t,c)=>{const o=B(C,t.__scopeDialog),{forceMount:n=o.forceMount,...a}=t,r=v(C,t.__scopeDialog);return e.createElement(O,{present:n||r.open},r.modal?e.createElement(Oe,g({},a,{ref:c})):e.createElement(we,g({},a,{ref:c})))}),Oe=e.forwardRef((t,c)=>{const o=v(C,t.__scopeDialog),n=e.useRef(null),a=V(c,o.contentRef,n);return e.useEffect(()=>{const r=n.current;if(r)return ue(r)},[]),e.createElement(H,g({},t,{ref:a,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(t.onCloseAutoFocus,r=>{var s;r.preventDefault(),(s=o.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:_(t.onPointerDownOutside,r=>{const s=r.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&r.preventDefault()}),onFocusOutside:_(t.onFocusOutside,r=>r.preventDefault())}))}),we=e.forwardRef((t,c)=>{const o=v(C,t.__scopeDialog),n=e.useRef(!1);return e.createElement(H,g({},t,{ref:c,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var r;if((r=t.onCloseAutoFocus)===null||r===void 0||r.call(t,a),!a.defaultPrevented){var s;n.current||(s=o.triggerRef.current)===null||s===void 0||s.focus(),a.preventDefault()}n.current=!1},onInteractOutside:a=>{var r,s;(r=t.onInteractOutside)===null||r===void 0||r.call(t,a),a.defaultPrevented||(n.current=!0);const i=a.target;((s=o.triggerRef.current)===null||s===void 0?void 0:s.contains(i))&&a.preventDefault()}}))}),H=e.forwardRef((t,c)=>{const{__scopeDialog:o,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:r,...s}=t,i=v(C,o),f=e.useRef(null),p=V(c,f);return ce(),e.createElement(e.Fragment,null,e.createElement(ie,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:r},e.createElement(le,g({role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":K(i.open)},s,{ref:p,onDismiss:()=>i.onOpenChange(!1)}))),!1)}),ke="DialogClose",Ie=e.forwardRef((t,c)=>{const{__scopeDialog:o,...n}=t,a=v(ke,o);return e.createElement(L.button,g({type:"button"},n,{ref:c,onClick:_(t.onClick,()=>a.onOpenChange(!1))}))});function K(t){return t?"open":"closed"}const Ae=_e,Fe=Re,Ne=De,Le=Pe,Ve=Ie;var ze="fyvr110o fyvr112o fyvr114o fyvr116o fyvr11ho fyvr1qo fyvr1ko fyvr11n9",qe=$e({defaultClassName:"_5b32m95 fyvr11ls fyvr11m4 fyvr11h0 fyvr11i4 fyvr11hs fyvr11p5 fyvr1mo fyvr12sk",variantClassNames:{size:{sm:"_5b32m96",lg:"_5b32m97"},autoHeight:{true:"_5b32m98"}},defaultVariants:{},compoundVariants:[[{autoHeight:!0,size:"lg"},"_5b32m99"]]}),Se="fyvr11hs fyvr1ko fyvr1oo fyvr1qo fyvr1mo",Te="fyvr11jg fyvr11ko fyvr11h0 fyvr11hs fyvr11n9 fyvr1ko fyvr1oo fyvr1qo fyvr1mo";const F=t=>{const{autoHeight:c=!1,backdropColor:o="gradientBackdrop",children:n,disableAnimation:a=!1,isDismissible:r=!0,onClose:s,scroll:i=!0,size:f="lg",overlayProps:p,contentProps:u}=t;return b(Ae,{defaultOpen:!0,onOpenChange:s,children:b(Fe,{forceMount:!0,children:I(A,{className:Te,children:[b(A,{as:Ne,asChild:!0,background:o,className:Se,forceMount:!0,children:b(k.div,{initial:a?!1:{opacity:0},animate:a?!1:{opacity:1},exit:a?void 0:{opacity:0},transition:{type:"tween",ease:"linear"},...p},"modal-overlay")}),b(Le,{asChild:!0,className:qe({autoHeight:c,size:f}),forceMount:!0,onEscapeKeyDown:l=>{r?s==null||s():l.preventDefault()},onInteractOutside:l=>{r?s==null||s():l.preventDefault()},children:I(k.div,{initial:a?!1:{y:"100%"},animate:a?!1:{y:0},exit:a?void 0:{y:"100%"},transition:{type:"tween",ease:"easeOut"},...u,children:[i?b(me,{children:n}):n,r&&b(Ve,{asChild:!0,children:b(pe,{icon:fe,size:"xs",className:ze,"aria-label":"Close"})})]},"modal-content")})]})})})};try{F.displayName="Modal",F.__docgenInfo={description:"",displayName:"Modal",props:{backdropColor:{defaultValue:null,description:"",name:"backdropColor",required:!1,type:{name:'ConditionalStyle<Values<MapLeafNodes<{ arbitrumDark: string; avalanceDark: string; bscDark: string; ethereumDark: string; gnosisDark: string; polygonDark: string; arbitrumLight: string; avalanceLight: string; bscLight: string; ... 28 more ...; transparent: "transparent"; }, CSSVarFunction>, { ...; }>>'}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disableAnimation:{defaultValue:null,description:"",name:"disableAnimation",required:!1,type:{name:"boolean"}},isDismissible:{defaultValue:null,description:"",name:"isDismissible",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},scroll:{defaultValue:null,description:"",name:"scroll",required:!1,type:{name:"boolean"}},overlayProps:{defaultValue:null,description:"",name:"overlayProps",required:!1,type:{name:"MotionProps"}},contentProps:{defaultValue:null,description:"",name:"contentProps",required:!1,type:{name:"MotionProps"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"lg"'}]}},autoHeight:{defaultValue:null,description:"",name:"autoHeight",required:!1,type:{name:"boolean"}}}}}catch{}export{at as A,F as M};
//# sourceMappingURL=Modal-9ab3c8b7.js.map
