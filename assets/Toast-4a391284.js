import{a as M,j as v}from"./jsx-runtime-a9c13c85.js";import{_ as g}from"./extends-9cd95192.js";import{r as t}from"./index-d8ade8ea.js";import{r as we}from"./index-6cf4ba34.js";import{$ as Te,c as q,a as C,b as Ee}from"./index.module-99b258bb.js";import{$ as xe,a as ae,b as A,e as ye}from"./index.module-4456f0d6.js";import{$ as he}from"./index.module-a3790cd2.js";import{a as Ce,b as ge}from"./index.module-f536abc8.js";import{$ as _e}from"./index.module-5c3234a3.js";import{$ as Pe}from"./index.module-cacec922.js";import{a as ie}from"./index.module-ba9cd207.js";import{i as te,d as Se}from"./WarningIcon-60d06b1a.js";import{B as H}from"./Box-9e9f1e0d.js";import{C as Re}from"./Card-4eb0dff8.js";import{I as Ie}from"./IconButton-fd570a0d.js";import{T as oe}from"./Text-755617cc.js";import"./atoms-53256ec3.js";import{c as De}from"./vanilla-extract-recipes-createRuntimeFn.esm-bf276de8.js";const ce="ToastProvider",[Z,Fe,Ae]=he("Toast"),[de,St]=xe("Toast",[Ae]),[Ne,X]=de(ce),le=e=>{const{__scopeToast:r,label:n="Notification",duration:o=5e3,swipeDirection:a="right",swipeThreshold:d=50,children:p}=e,[f,b]=t.useState(null),[i,y]=t.useState(0),E=t.useRef(!1),N=t.useRef(!1);return t.createElement(Z.Provider,{scope:r},t.createElement(Ne,{scope:r,label:n,duration:o,swipeDirection:a,swipeThreshold:d,toastCount:i,viewport:f,onViewportChange:b,onToastAdd:t.useCallback(()=>y(S=>S+1),[]),onToastRemove:t.useCallback(()=>y(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:N},p))};le.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const r=`Invalid prop \`label\` supplied to \`${ce}\`. Expected non-empty \`string\`.`;return new Error(r)}return null}};const ke="ToastViewport",Oe=["F8"],G="toast.viewportPause",Q="toast.viewportResume",Le=t.forwardRef((e,r)=>{const{__scopeToast:n,hotkey:o=Oe,label:a="Notifications ({hotkey})",...d}=e,p=X(ke,n),f=Fe(n),b=t.useRef(null),i=t.useRef(null),y=t.useRef(null),E=t.useRef(null),N=ae(r,E,p.onViewportChange),S=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=p.toastCount>0;t.useEffect(()=>{const c=x=>{var u;o.every($=>x[$]||x.code===$)&&((u=E.current)===null||u===void 0||u.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[o]),t.useEffect(()=>{const c=b.current,x=E.current;if(R&&c&&x){const u=()=>{if(!p.isClosePausedRef.current){const T=new CustomEvent(G);x.dispatchEvent(T),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const T=new CustomEvent(Q);x.dispatchEvent(T),p.isClosePausedRef.current=!1}},$=T=>{!c.contains(T.relatedTarget)&&m()},w=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",u),c.addEventListener("focusout",$),c.addEventListener("pointermove",u),c.addEventListener("pointerleave",w),window.addEventListener("blur",u),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",u),c.removeEventListener("focusout",$),c.removeEventListener("pointermove",u),c.removeEventListener("pointerleave",w),window.removeEventListener("blur",u),window.removeEventListener("focus",m)}}},[R,p.isClosePausedRef]);const l=t.useCallback(({tabbingDirection:c})=>{const u=f().map(m=>{const $=m.ref.current,w=[$,...et($)];return c==="forwards"?w:w.reverse()});return(c==="forwards"?u.reverse():u).flat()},[f]);return t.useEffect(()=>{const c=E.current;if(c){const x=u=>{const m=u.altKey||u.ctrlKey||u.metaKey;if(u.key==="Tab"&&!m){const k=document.activeElement,D=u.shiftKey;if(u.target===c&&D){var w;(w=i.current)===null||w===void 0||w.focus();return}const I=l({tabbingDirection:D?"backwards":"forwards"}),V=I.findIndex(s=>s===k);if(z(I.slice(V+1)))u.preventDefault();else{var T,_;D?(T=i.current)===null||T===void 0||T.focus():(_=y.current)===null||_===void 0||_.focus()}}};return c.addEventListener("keydown",x),()=>c.removeEventListener("keydown",x)}},[f,l]),t.createElement(Ce,{ref:b,role:"region","aria-label":a.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:R?void 0:"none"}},R&&t.createElement(re,{ref:i,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"forwards"});z(c)}}),t.createElement(Z.Slot,{scope:n},t.createElement(A.ol,g({tabIndex:-1},d,{ref:N}))),R&&t.createElement(re,{ref:y,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"backwards"});z(c)}}))}),Me="ToastFocusProxy",re=t.forwardRef((e,r)=>{const{__scopeToast:n,onFocusFromOutsideViewport:o,...a}=e,d=X(Me,n);return t.createElement(ie,g({"aria-hidden":!0,tabIndex:0},a,{ref:r,style:{position:"fixed"},onFocus:p=>{var f;const b=p.relatedTarget;!((f=d.viewport)!==null&&f!==void 0&&f.contains(b))&&o()}}))}),B="Toast",Ve="toast.swipeStart",Ke="toast.swipeMove",We="toast.swipeCancel",He="toast.swipeEnd",Ue=t.forwardRef((e,r)=>{const{forceMount:n,open:o,defaultOpen:a,onOpenChange:d,...p}=e,[f=!0,b]=Te({prop:o,defaultProp:a,onChange:d});return t.createElement(Pe,{present:n||f},t.createElement(ue,g({open:f},p,{ref:r,onClose:()=>b(!1),onPause:q(e.onPause),onResume:q(e.onResume),onSwipeStart:C(e.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:C(e.onSwipeMove,i=>{const{x:y,y:E}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:C(e.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:C(e.onSwipeEnd,i=>{const{x:y,y:E}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),b(!1)})})))}),[qe,Xe]=de(B,{onClose(){}}),ue=t.forwardRef((e,r)=>{const{__scopeToast:n,type:o="foreground",duration:a,open:d,onClose:p,onEscapeKeyDown:f,onPause:b,onResume:i,onSwipeStart:y,onSwipeMove:E,onSwipeCancel:N,onSwipeEnd:S,...R}=e,l=X(B,n),[c,x]=t.useState(null),u=ae(r,s=>x(s)),m=t.useRef(null),$=t.useRef(null),w=a||l.duration,T=t.useRef(0),_=t.useRef(w),k=t.useRef(0),{onToastAdd:D,onToastRemove:Y}=l,F=q(()=>{var s;(c==null?void 0:c.contains(document.activeElement))&&((s=l.viewport)===null||s===void 0||s.focus()),p()}),I=t.useCallback(s=>{!s||s===1/0||(window.clearTimeout(k.current),T.current=new Date().getTime(),k.current=window.setTimeout(F,s))},[F]);t.useEffect(()=>{const s=l.viewport;if(s){const h=()=>{I(_.current),i==null||i()},P=()=>{const O=new Date().getTime()-T.current;_.current=_.current-O,window.clearTimeout(k.current),b==null||b()};return s.addEventListener(G,P),s.addEventListener(Q,h),()=>{s.removeEventListener(G,P),s.removeEventListener(Q,h)}}},[l.viewport,w,b,i,I]),t.useEffect(()=>{d&&!l.isClosePausedRef.current&&I(w)},[d,w,l.isClosePausedRef,I]),t.useEffect(()=>(D(),()=>Y()),[D,Y]);const V=t.useMemo(()=>c?be(c):null,[c]);return l.viewport?t.createElement(t.Fragment,null,V&&t.createElement(Be,{__scopeToast:n,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0},V),t.createElement(qe,{scope:n,onClose:F},we.createPortal(t.createElement(Z.ItemSlot,{scope:n},t.createElement(ge,{asChild:!0,onEscapeKeyDown:C(f,()=>{l.isFocusedToastEscapeKeyDownRef.current||F(),l.isFocusedToastEscapeKeyDownRef.current=!1})},t.createElement(A.li,g({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":l.swipeDirection},R,{ref:u,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:C(e.onKeyDown,s=>{s.key==="Escape"&&(f==null||f(s.nativeEvent),s.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:C(e.onPointerDown,s=>{s.button===0&&(m.current={x:s.clientX,y:s.clientY})}),onPointerMove:C(e.onPointerMove,s=>{if(!m.current)return;const h=s.clientX-m.current.x,P=s.clientY-m.current.y,O=Boolean($.current),L=["left","right"].includes(l.swipeDirection),K=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,$e=L?K(0,h):0,ve=L?0:K(0,P),j=s.pointerType==="touch"?10:2,W={x:$e,y:ve},ee={originalEvent:s,delta:W};O?($.current=W,U(Ke,E,ee,{discrete:!1})):ne(W,l.swipeDirection,j)?($.current=W,U(Ve,y,ee,{discrete:!1}),s.target.setPointerCapture(s.pointerId)):(Math.abs(h)>j||Math.abs(P)>j)&&(m.current=null)}),onPointerUp:C(e.onPointerUp,s=>{const h=$.current,P=s.target;if(P.hasPointerCapture(s.pointerId)&&P.releasePointerCapture(s.pointerId),$.current=null,m.current=null,h){const O=s.currentTarget,L={originalEvent:s,delta:h};ne(h,l.swipeDirection,l.swipeThreshold)?U(He,S,L,{discrete:!0}):U(We,N,L,{discrete:!0}),O.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})))),l.viewport))):null});ue.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const r=`Invalid prop \`type\` supplied to \`${B}\`. Expected \`foreground | background\`.`;return new Error(r)}return null}};const Be=e=>{const{__scopeToast:r,children:n,...o}=e,a=X(B,r),[d,p]=t.useState(!1),[f,b]=t.useState(!1);return Je(()=>p(!0)),t.useEffect(()=>{const i=window.setTimeout(()=>b(!0),1e3);return()=>window.clearTimeout(i)},[]),f?null:t.createElement(_e,{asChild:!0},t.createElement(ie,o,d&&t.createElement(t.Fragment,null,a.label," ",n)))},Ye=t.forwardRef((e,r)=>{const{__scopeToast:n,...o}=e;return t.createElement(A.div,g({},o,{ref:r}))}),je=t.forwardRef((e,r)=>{const{__scopeToast:n,...o}=e;return t.createElement(A.div,g({},o,{ref:r}))}),ze="ToastAction",Ge=t.forwardRef((e,r)=>{const{altText:n,...o}=e;return n?t.createElement(fe,{altText:n,asChild:!0},t.createElement(pe,g({},o,{ref:r}))):null});Ge.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${ze}\``)}};const Qe="ToastClose",pe=t.forwardRef((e,r)=>{const{__scopeToast:n,...o}=e,a=Xe(Qe,n);return t.createElement(fe,{asChild:!0},t.createElement(A.button,g({type:"button"},o,{ref:r,onClick:C(e.onClick,a.onClose)})))}),fe=t.forwardRef((e,r)=>{const{__scopeToast:n,altText:o,...a}=e;return t.createElement(A.div,g({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0},a,{ref:r}))});function be(e){const r=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&r.push(o.textContent),Ze(o)){const a=o.ariaHidden||o.hidden||o.style.display==="none",d=o.dataset.radixToastAnnounceExclude==="";if(!a)if(d){const p=o.dataset.radixToastAnnounceAlt;p&&r.push(p)}else r.push(...be(o))}}),r}function U(e,r,n,{discrete:o}){const a=n.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),o?ye(a,d):a.dispatchEvent(d)}const ne=(e,r,n=0)=>{const o=Math.abs(e.x),a=Math.abs(e.y),d=o>a;return r==="left"||r==="right"?d&&o>n:!d&&a>n};function Je(e=()=>{}){const r=q(e);Ee(()=>{let n=0,o=0;return n=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(o)}},[r])}function Ze(e){return e.nodeType===e.ELEMENT_NODE}function et(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function z(e){const r=document.activeElement;return e.some(n=>n===r?!0:(n.focus(),document.activeElement!==r))}const tt=le,ot=Le,rt=Ue,nt=Ye,st=je,at=pe;var it=De({defaultClassName:"_6wut8v4",variantClassNames:{variant:{normal:"_6wut8v5",success:"_6wut8v6",error:"_6wut8v7"}},defaultVariants:{},compoundVariants:[]}),ct="_6wut8v0";const me=t.createContext(null),se=e=>{const{children:r,...n}=e,[o,a]=t.useState(new Set);return M(tt,{...n,children:[M(me.Provider,{value:a,children:[r,Array.from(o).map(d=>v(J,{...d},d.id))]}),v(dt,{})]})},dt=()=>v(ot,{className:ct}),J=e=>{const{variant:r,title:n,description:o,icon:a,isDismissible:d=!0,...p}=e,f=()=>{if(a)return v(a,{});switch(r){case"success":return v(H,{background:"positive",color:"black",borderRadius:"circle",width:"8",height:"8",placeItems:"center",minWidth:"0",flexShrink:"0",children:v(Se,{})});case"error":return v(H,{background:"negative",color:"black",borderRadius:"circle",width:"8",height:"8",placeItems:"center",minWidth:"0",flexShrink:"0",children:v(te,{})});default:return null}};return v(rt,{className:it({variant:r}),asChild:!0,duration:r==="error"?1/0:5e3,...p,children:M(Re,{as:"li",borderRadius:"md",background:"buttonGlass",backdropFilter:"blur",position:"relative",width:"full",justifyContent:"space-between",children:[M(H,{gap:"3",alignItems:"center",children:[f(),M(H,{flexDirection:"column",gap:"1",children:[n&&v(nt,{children:v(oe,{as:"div",variant:"normal",fontWeight:"bold",color:"text80",children:n})}),v(st,{children:v(oe,{as:"div",variant:"normal",fontWeight:"medium",color:"text50",children:o})})]})]}),d&&v(at,{"aria-label":"Close",asChild:!0,children:v(Ie,{icon:te,size:"xs"})})]})})},Rt=()=>{const e=t.useContext(me);return r=>{const n={...r,id:crypto.randomUUID(),onOpenChange:o=>{o||e(a=>(a.delete(n),console.log(a),new Set([...a])))}};e(o=>new Set([...o,n]))}};try{se.displayName="ToastProvider",se.__docgenInfo={description:"",displayName:"ToastProvider",props:{}}}catch{}try{J.displayName="Toast",J.__docgenInfo={description:"",displayName:"Toast",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"error"'},{value:'"success"'}]}},isDismissible:{defaultValue:null,description:"",name:"isDismissible",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ComponentType<VariantSelection<{ size: { xs: { height: CSSVarFunction; width: CSSVarFunction; }; sm: { height: CSSVarFunction; width: CSSVarFunction; }; md: { ...; }; lg: { ...; }; xl: { ...; }; }; }> & ... 4 more ... & ChildSprinkleProps<...>>"}}}}}catch{}export{J as T,se as a,Rt as u};
//# sourceMappingURL=Toast-4a391284.js.map
