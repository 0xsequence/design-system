import{j as y}from"./jsx-runtime-z8MfsBtr.js";import{r as o}from"./index-D1TSixAU.js";import{c as g,a as E}from"./color-CiP8tUik.js";const i="dark",l="data-theme",m="@sequence.theme",a=e=>typeof e=="string"&&g.includes(e),S=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),f=e=>e?`${m}.${e}`:m,b=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),u=(e,t)=>{Object.entries(t).forEach(([n,s])=>{if(s){const c=b(n);e.style.setProperty(`--color-${c}`,s)}})},C=e=>{const t=localStorage.getItem(f(e));return t&&a(t)?t:null},_=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":matchMedia("(prefers-color-scheme: dark)").matches?"dark":null,h=o.createContext(null),d=e=>{const[t,n]=o.useState(e.theme||i),[s,c]=o.useState(void 0);o.useEffect(()=>{/Mac/.test(window.navigator.userAgent)&&window.document.documentElement.classList.add("is-apple")},[]),o.useEffect(()=>{const r=e.theme||C(e.scope)||e.prefersColorScheme&&_()||i;n(r)},[e.theme,e.scope,e.prefersColorScheme]),o.useEffect(()=>{const r=typeof e.root=="object"?e.root:document.querySelector(e.root||":root");r&&(a(t)?(r.setAttribute(l,t),u(r,E[t])):S(t)&&(r.setAttribute(l,"custom"),u(r,t)),e.root&&r.classList.add("seq-root"),c(e.root?r:document.body))},[t,e.root]);const T=o.useMemo(()=>({theme:t,container:s,setTheme:r=>{a(r)&&localStorage.setItem(f(e.scope),r),n(r)}}),[t,s,e.scope]);return y.jsx(h.Provider,{value:T,children:e.children})},w=()=>{const e=o.useContext(h);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e};try{d.displayName="ThemeProvider",d.__docgenInfo={description:"",displayName:"ThemeProvider",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},root:{defaultValue:null,description:"",name:"root",required:!1,type:{name:"string | HTMLElement"}},scope:{defaultValue:null,description:"",name:"scope",required:!1,type:{name:"string"}},prefersColorScheme:{defaultValue:null,description:"",name:"prefersColorScheme",required:!1,type:{name:"boolean"}}}}}catch{}export{d as T,w as u};
