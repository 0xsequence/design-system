import{j as w}from"./jsx-runtime-DoxjgJx5.js";import{r as s}from"./index-Cu9bd8lq.js";import{c as l}from"./vars.css-vIjhzn4K.js";import{c as S}from"./color-qnkbROzP.js";function x(e){var t=e.match(/^var\((.*)\)$/);return t?t[1]:e}function j(e,t){var o=e;for(var i of t){if(!(i in o))throw new Error("Path ".concat(t.join(" -> ")," does not exist in object"));o=o[i]}return o}function g(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=e.constructor();for(var r in e){var n=e[r],c=[...o,r];typeof n=="string"||typeof n=="number"||n==null?i[r]=t(n,c):typeof n=="object"&&!Array.isArray(n)?i[r]=g(n,t,c):console.warn('Skipping invalid key "'.concat(c.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(n)?"Array":typeof n,'"'))}return i}function m(e,t,o){e.style.setProperty(x(t),o)}function f(e,t,o){if(typeof o=="object"){var i=t;g(o,(u,A)=>{u!=null&&m(e,j(i,A),String(u))})}else{var r=t;for(var n in r){var c=r[n];c!=null&&m(e,n,r[n])}}}const a=["dark","light"],T="dark",p="data-theme",d="@sequence.theme",b=e=>a.includes(e),v=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),y=e=>e?`${d}.${e}`:d,V=e=>{const t=localStorage.getItem(y(e));return t&&a.includes(t)?t:T},E=s.createContext(null),h=e=>{const[t,o]=s.useState(e.theme||T);s.useEffect(()=>{/Mac/.test(window.navigator.userAgent)&&window.document.documentElement.classList.add("is-apple")},[]),s.useEffect(()=>{e.theme||o(V(e.scope))},[e.theme,e.scope]),s.useEffect(()=>{e.theme&&o(e.theme)},[e.theme]),s.useEffect(()=>{const r=document.querySelector(e.root||":root");r&&(b(t)?(r.setAttribute(p,t),f(r,l,{colors:S[t]})):v(t)&&f(r,l,{colors:t}))},[t,e.root]);const i=s.useMemo(()=>({theme:t,root:e.root,setTheme:r=>{a.includes(r)&&(localStorage.setItem(y(e.scope),r),o(r))}}),[t,e.root,e.scope]);return w.jsx(E.Provider,{value:i,children:e.children})},C=()=>{const e=s.useContext(E);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e};try{h.displayName="ThemeProvider",h.__docgenInfo={description:"",displayName:"ThemeProvider",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:'"dark" | "light" | Partial<ColorTokens>'}},root:{defaultValue:null,description:"",name:"root",required:!1,type:{name:"string"}},scope:{defaultValue:null,description:"",name:"scope",required:!1,type:{name:"string"}}}}}catch{}export{h as T,C as u};
