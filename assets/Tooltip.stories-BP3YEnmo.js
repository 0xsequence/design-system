import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{B as w}from"./Button-C-ekSsTg.js";import{M as ie}from"./Modal-CroHyFSd.js";import{r as l}from"./index-CFahbR6w.js";import{a as ce,c as C}from"./index-CwKqVHPA.js";import{u as K,b as ue}from"./index-B2_zDxcN.js";import{c as pe,P as de}from"./index-8B1X6Yi1.js";import{P as fe,D as me}from"./index-58Ynm-YQ.js";import{u as he}from"./index-I99my8Lv.js";import{c as J,R as ve,A as xe,a as ge,C as Te}from"./index-QCEmxFZi.js";import{P as Q}from"./index-B02fpc2Q.js";import{R as be}from"./index-dqOyKpGN.js";import{T as ye}from"./Text-CkPI9aF3.js";import{u as Ce}from"./ThemeProvider-Bf-MMZPN.js";import"./index-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./classnames-BovuWA26.js";import"./Combination-UMvBg7LK.js";import"./YoutubeIcon-DD-bp7UA.js";import"./IconButton-WX-gDB63.js";import"./Scroll-BSPgPk9N.js";import"./proxy-CM0HYg4P.js";import"./index-CHC4nfYS.js";import"./index-chp1rBSu.js";import"./index-BYZlhqyu.js";import"./color-DbP-jgcz.js";var[M,vt]=pe("Tooltip",[J]),A=J(),Z="TooltipProvider",we=700,N="tooltip.open",[Pe,H]=M(Z),ee=e=>{const{__scopeTooltip:o,delayDuration:t=we,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:i}=e,c=l.useRef(!0),f=l.useRef(!1),a=l.useRef(0);return l.useEffect(()=>{const d=a.current;return()=>window.clearTimeout(d)},[]),s.jsx(Pe,{scope:o,isOpenDelayedRef:c,delayDuration:t,onOpen:l.useCallback(()=>{window.clearTimeout(a.current),c.current=!1},[]),onClose:l.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:l.useCallback(d=>{f.current=d},[]),disableHoverableContent:n,children:i})};ee.displayName=Z;var L="Tooltip",[Ee,_]=M(L),te=e=>{const{__scopeTooltip:o,children:t,open:r,defaultOpen:n=!1,onOpenChange:i,disableHoverableContent:c,delayDuration:f}=e,a=H(L,e.__scopeTooltip),d=A(o),[u,m]=l.useState(null),v=he(),p=l.useRef(0),h=c??a.disableHoverableContent,g=f??a.delayDuration,x=l.useRef(!1),[b=!1,T]=ce({prop:r,defaultProp:n,onChange:V=>{V?(a.onOpen(),document.dispatchEvent(new CustomEvent(N))):a.onClose(),i==null||i(V)}}),E=l.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),j=l.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x.current=!1,T(!0)},[T]),R=l.useCallback(()=>{window.clearTimeout(p.current),p.current=0,T(!1)},[T]),I=l.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{x.current=!0,T(!0),p.current=0},g)},[g,T]);return l.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(ve,{...d,children:s.jsx(Ee,{scope:o,contentId:v,open:b,stateAttribute:E,trigger:u,onTriggerChange:m,onTriggerEnter:l.useCallback(()=>{a.isOpenDelayedRef.current?I():j()},[a.isOpenDelayedRef,I,j]),onTriggerLeave:l.useCallback(()=>{h?R():(window.clearTimeout(p.current),p.current=0)},[R,h]),onOpen:j,onClose:R,disableHoverableContent:h,children:t})})};te.displayName=L;var B="TooltipTrigger",oe=l.forwardRef((e,o)=>{const{__scopeTooltip:t,...r}=e,n=_(B,t),i=H(B,t),c=A(t),f=l.useRef(null),a=K(o,f,n.onTriggerChange),d=l.useRef(!1),u=l.useRef(!1),m=l.useCallback(()=>d.current=!1,[]);return l.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(xe,{asChild:!0,...c,children:s.jsx(de.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:a,onPointerMove:C(e.onPointerMove,v=>{v.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:C(e.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:C(e.onPointerDown,()=>{n.open&&n.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:C(e.onFocus,()=>{d.current||n.onOpen()}),onBlur:C(e.onBlur,n.onClose),onClick:C(e.onClick,n.onClose)})})});oe.displayName=B;var S="TooltipPortal",[je,Re]=M(S,{forceMount:void 0}),re=e=>{const{__scopeTooltip:o,forceMount:t,children:r,container:n}=e,i=_(S,o);return s.jsx(je,{scope:o,forceMount:t,children:s.jsx(Q,{present:t||i.open,children:s.jsx(fe,{asChild:!0,container:n,children:r})})})};re.displayName=S;var P="TooltipContent",ne=l.forwardRef((e,o)=>{const t=Re(P,e.__scopeTooltip),{forceMount:r=t.forceMount,side:n="top",...i}=e,c=_(P,e.__scopeTooltip);return s.jsx(Q,{present:r||c.open,children:c.disableHoverableContent?s.jsx(se,{side:n,...i,ref:o}):s.jsx(_e,{side:n,...i,ref:o})})}),_e=l.forwardRef((e,o)=>{const t=_(P,e.__scopeTooltip),r=H(P,e.__scopeTooltip),n=l.useRef(null),i=K(o,n),[c,f]=l.useState(null),{trigger:a,onClose:d}=t,u=n.current,{onPointerInTransitChange:m}=r,v=l.useCallback(()=>{f(null),m(!1)},[m]),p=l.useCallback((h,g)=>{const x=h.currentTarget,b={x:h.clientX,y:h.clientY},T=Me(b,x.getBoundingClientRect()),E=Ae(b,T),j=Le(g.getBoundingClientRect()),R=Be([...E,...j]);f(R),m(!0)},[m]);return l.useEffect(()=>()=>v(),[v]),l.useEffect(()=>{if(a&&u){const h=x=>p(x,u),g=x=>p(x,a);return a.addEventListener("pointerleave",h),u.addEventListener("pointerleave",g),()=>{a.removeEventListener("pointerleave",h),u.removeEventListener("pointerleave",g)}}},[a,u,p,v]),l.useEffect(()=>{if(c){const h=g=>{const x=g.target,b={x:g.clientX,y:g.clientY},T=(a==null?void 0:a.contains(x))||(u==null?void 0:u.contains(x)),E=!Ne(b,c);T?v():E&&(v(),d())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[a,u,c,d,v]),s.jsx(se,{...e,ref:i})}),[Oe,De]=M(L,{isInside:!1}),ke=ue("TooltipContent"),se=l.forwardRef((e,o)=>{const{__scopeTooltip:t,children:r,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:c,...f}=e,a=_(P,t),d=A(t),{onClose:u}=a;return l.useEffect(()=>(document.addEventListener(N,u),()=>document.removeEventListener(N,u)),[u]),l.useEffect(()=>{if(a.trigger){const m=v=>{const p=v.target;p!=null&&p.contains(a.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[a.trigger,u]),s.jsx(me,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:s.jsxs(Te,{"data-state":a.stateAttribute,...d,...f,ref:o,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(ke,{children:r}),s.jsx(Oe,{scope:t,isInside:!0,children:s.jsx(be,{id:a.contentId,role:"tooltip",children:n||r})})]})})});ne.displayName=P;var ae="TooltipArrow",le=l.forwardRef((e,o)=>{const{__scopeTooltip:t,...r}=e,n=A(t);return De(ae,t).isInside?null:s.jsx(ge,{...n,...r,ref:o})});le.displayName=ae;function Me(e,o){const t=Math.abs(o.top-e.y),r=Math.abs(o.bottom-e.y),n=Math.abs(o.right-e.x),i=Math.abs(o.left-e.x);switch(Math.min(t,r,n,i)){case i:return"left";case n:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Ae(e,o,t=5){const r=[];switch(o){case"top":r.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":r.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":r.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":r.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return r}function Le(e){const{top:o,right:t,bottom:r,left:n}=e;return[{x:n,y:o},{x:t,y:o},{x:t,y:r},{x:n,y:r}]}function Ne(e,o){const{x:t,y:r}=e;let n=!1;for(let i=0,c=o.length-1;i<o.length;c=i++){const f=o[i].x,a=o[i].y,d=o[c].x,u=o[c].y;a>r!=u>r&&t<(d-f)*(r-a)/(u-a)+f&&(n=!n)}return n}function Be(e){const o=e.slice();return o.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),He(o)}function He(e){if(e.length<=1)return e.slice();const o=[];for(let r=0;r<e.length;r++){const n=e[r];for(;o.length>=2;){const i=o[o.length-1],c=o[o.length-2];if((i.x-c.x)*(n.y-c.y)>=(i.y-c.y)*(n.x-c.x))o.pop();else break}o.push(n)}o.pop();const t=[];for(let r=e.length-1;r>=0;r--){const n=e[r];for(;t.length>=2;){const i=t[t.length-1],c=t[t.length-2];if((i.x-c.x)*(n.y-c.y)>=(i.y-c.y)*(n.x-c.x))t.pop();else break}t.push(n)}return t.pop(),o.length===1&&t.length===1&&o[0].x===t[0].x&&o[0].y===t[0].y?o:o.concat(t)}var Se=ee,Ie=te,Ve=oe,qe=re,Ge=ne,Fe=le;const y=e=>{const{align:o="center",children:t,delayDuration:r=0,disabled:n=!1,hOffset:i=0,message:c,side:f="top",vOffset:a=0}=e,{container:d}=Ce();return n?s.jsx(s.Fragment,{children:t}):s.jsx(Se,{children:s.jsxs(Ie,{delayDuration:r,children:[s.jsx(Ve,{asChild:!0,children:t}),s.jsx(qe,{container:d,children:s.jsxs(Ge,{className:"backdrop-blur-xs bg-background-raised rounded-lg px-4 pb-3 pt-2 shadow-[0_0_10px_0_rgba(0,0,0,0.5)] fill-background-raised z-1000",side:f,align:o,sideOffset:a,alignOffset:i,children:[s.jsx(ye,{variant:"small",fontWeight:"medium",color:"secondary",children:c}),s.jsx(Fe,{offset:12,width:10,height:5})]})})]})})};try{y.displayName="Tooltip",y.__docgenInfo={description:"",displayName:"Tooltip",props:{align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"start"'},{value:'"end"'}]}},delayDuration:{defaultValue:null,description:"",name:"delayDuration",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},hOffset:{defaultValue:null,description:"",name:"hOffset",required:!1,type:{name:"number"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ReactNode"}},side:{defaultValue:null,description:"",name:"side",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"left"'},{value:'"right"'},{value:'"bottom"'}]}},vOffset:{defaultValue:null,description:"",name:"vOffset",required:!1,type:{name:"number"}}}}}catch{}const xt={title:"Components/Tooltip",component:y},O={args:{message:"Hello, world!",children:s.jsx(w,{label:"Hover me"}),disabled:!1}},D={render:e=>s.jsxs("div",{className:"flex gap-2 h-[200px] items-center justify-center",children:[s.jsx(y,{...e,message:"Suprise!",children:s.jsx(w,{label:"Button 1"})}),s.jsx(y,{...e,message:"Peekaboo!",children:s.jsx(w,{label:"Button 2"})}),s.jsx(y,{...e,message:"Hi, there!",children:s.jsx(w,{label:"Button 3"})})]})},k={tags:["!autodocs"],render:e=>s.jsx(ie,{children:s.jsxs("div",{className:"flex p-4 gap-2",children:[s.jsx(y,{...e,message:"Tooltip 1",children:s.jsx(w,{label:"Button 1"})}),s.jsx(y,{...e,message:"Tooltip 2",children:s.jsx(w,{label:"Button 2"})})]})})};var q,G,F;O.parameters={...O.parameters,docs:{...(q=O.parameters)==null?void 0:q.docs,source:{originalSource:`{
  args: {
    message: 'Hello, world!',
    children: <Button label="Hover me" />,
    disabled: false
  }
}`,...(F=(G=O.parameters)==null?void 0:G.docs)==null?void 0:F.source}}};var W,U,Y;D.parameters={...D.parameters,docs:{...(W=D.parameters)==null?void 0:W.docs,source:{originalSource:`{
  render: args => {
    return <div className="flex gap-2 h-[200px] items-center justify-center">
        <Tooltip {...args} message="Suprise!">
          <Button label="Button 1" />
        </Tooltip>
        <Tooltip {...args} message="Peekaboo!">
          <Button label="Button 2" />
        </Tooltip>
        <Tooltip {...args} message="Hi, there!">
          <Button label="Button 3" />
        </Tooltip>
      </div>;
  }
}`,...(Y=(U=D.parameters)==null?void 0:U.docs)==null?void 0:Y.source}}};var X,$,z;k.parameters={...k.parameters,docs:{...(X=k.parameters)==null?void 0:X.docs,source:{originalSource:`{
  tags: ['!autodocs'],
  render: args => {
    return <Modal>
        <div className="flex p-4 gap-2">
          <Tooltip {...args} message="Tooltip 1">
            <Button label="Button 1" />
          </Tooltip>
          <Tooltip {...args} message="Tooltip 2">
            <Button label="Button 2" />
          </Tooltip>
        </div>
      </Modal>;
  }
}`,...(z=($=k.parameters)==null?void 0:$.docs)==null?void 0:z.source}}};const gt=["Default","Multiple","WithinModal"];export{O as Default,D as Multiple,k as WithinModal,gt as __namedExportsOrder,xt as default};
