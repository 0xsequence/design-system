import{r as e}from"./index-d8ade8ea.js";import{u as N,s as Z,a as J,P as Q,w as X,L as ee,b as te,e as ne,m as k}from"./motion-7df5a7b3.js";import{j as b,a as I}from"./jsx-runtime-a9c13c85.js";import{_ as g}from"./extends-98964cd2.js";import{$ as oe,b as re,h as ae,c as L,a as V,d as _}from"./index.module-d15610cf.js";import{$ as D}from"./index.module-a9b21657.js";import{c as ce,a as se,b as le,$ as ie}from"./Combination-78ef0d5c.js";import{$ as de}from"./index.module-f17d4a85.js";import{$ as O}from"./index.module-732cca0e.js";import{h as ue}from"./index-807b81f6.js";import{B as A}from"./Box-fa0ac857.js";import{c as fe}from"./WarningIcon-25714511.js";import{I as pe}from"./IconButton-752759c9.js";import{S as me}from"./Scroll-99234cc4.js";import"./atoms-37a3518e.js";import{c as $e}from"./vanilla-extract-recipes-createRuntimeFn.esm-d30eb010.js";function z(){const t=e.useRef(!1);return N(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function be(){const t=z(),[a,o]=e.useState(0),n=e.useCallback(()=>{t.current&&o(a+1)},[a]);return[e.useCallback(()=>Z.postRender(n),[n]),a]}class ge extends e.Component{getSnapshotBeforeUpdate(a){const o=this.props.childRef.current;if(o&&a.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=o.offsetHeight||0,n.width=o.offsetWidth||0,n.top=o.offsetTop,n.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ve({children:t,isPresent:a}){const o=e.useId(),n=e.useRef(null),c=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:r,height:s,top:l,left:f}=c.current;if(a||!n.current||!r||!s)return;n.current.dataset.motionPopId=o;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[a]),e.createElement(ge,{isPresent:a,childRef:n,sizeRef:c},e.cloneElement(t,{ref:n}))}const M=({children:t,initial:a,isPresent:o,onExitComplete:n,custom:c,presenceAffectsLayout:r,mode:s})=>{const l=J(he),f=e.useId(),p=e.useMemo(()=>({id:f,initial:a,isPresent:o,custom:c,onExitComplete:d=>{l.set(d,!0);for(const u of l.values())if(!u)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),r?void 0:[o]);return e.useMemo(()=>{l.forEach((d,u)=>l.set(u,!1))},[o]),e.useEffect(()=>{!o&&!l.size&&n&&n()},[o]),s==="popLayout"&&(t=e.createElement(ve,{isPresent:o},t)),e.createElement(Q.Provider,{value:p},t)};function he(){return new Map}const h=t=>t.key||"";function ye(t,a){t.forEach(o=>{const n=h(o);a.set(n,o)})}function Ce(t){const a=[];return e.Children.forEach(t,o=>{e.isValidElement(o)&&a.push(o)}),a}const rt=({children:t,custom:a,initial:o=!0,onExitComplete:n,exitBeforeEnter:c,presenceAffectsLayout:r=!0,mode:s="sync"})=>{c&&(s="wait",X(!1,"Replace exitBeforeEnter with mode='wait'"));let[l]=be();const f=e.useContext(ee).forceRender;f&&(l=f);const p=z(),d=Ce(t);let u=d;const m=new Set,y=e.useRef(u),x=e.useRef(new Map).current,E=e.useRef(!0);if(N(()=>{E.current=!1,ye(d,x),y.current=u}),te(()=>{E.current=!0,x.clear(),m.clear()}),E.current)return e.createElement(e.Fragment,null,u.map(i=>e.createElement(M,{key:h(i),isPresent:!0,initial:o?void 0:!1,presenceAffectsLayout:r,mode:s},i)));u=[...u];const R=y.current.map(h),w=d.map(h),U=R.length;for(let i=0;i<U;i++){const $=R[i];w.indexOf($)===-1&&m.add($)}return s==="wait"&&m.size&&(u=[]),m.forEach(i=>{if(w.indexOf(i)!==-1)return;const $=x.get(i);if(!$)return;const G=R.indexOf(i),Y=()=>{x.delete(i),m.delete(i);const H=y.current.findIndex(W=>W.key===i);if(y.current.splice(H,1),!m.size){if(y.current=d,p.current===!1)return;l(),n&&n()}};u.splice(G,0,e.createElement(M,{key:h($),isPresent:!1,onExitComplete:Y,custom:a,presenceAffectsLayout:r,mode:s},$))}),u=u.map(i=>{const $=i.key;return m.has($)?i:e.createElement(M,{key:h(i),isPresent:!0,presenceAffectsLayout:r,mode:s},i)}),ne!=="production"&&s==="wait"&&u.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),e.createElement(e.Fragment,null,m.size?u:u.map(i=>e.cloneElement(i)))},S="Dialog",[q,at]=oe(S),[xe,v]=q(S),_e=t=>{const{__scopeDialog:a,children:o,open:n,defaultOpen:c,onOpenChange:r,modal:s=!0}=t,l=e.useRef(null),f=e.useRef(null),[p=!1,d]=re({prop:n,defaultProp:c,onChange:r});return e.createElement(xe,{scope:a,triggerRef:l,contentRef:f,contentId:D(),titleId:D(),descriptionId:D(),open:p,onOpenChange:d,onOpenToggle:e.useCallback(()=>d(u=>!u),[d]),modal:s},o)},T="DialogPortal",[Ee,j]=q(T,{forceMount:void 0}),Re=t=>{const{__scopeDialog:a,forceMount:o,children:n,container:c}=t,r=v(T,a);return e.createElement(Ee,{scope:a,forceMount:o},e.Children.map(n,s=>e.createElement(O,{present:o||r.open},e.createElement(de,{asChild:!0,container:c},s))))},P="DialogOverlay",De=e.forwardRef((t,a)=>{const o=j(P,t.__scopeDialog),{forceMount:n=o.forceMount,...c}=t,r=v(P,t.__scopeDialog);return r.modal?e.createElement(O,{present:n||r.open},e.createElement(Me,g({},c,{ref:a}))):null}),Me=e.forwardRef((t,a)=>{const{__scopeDialog:o,...n}=t,c=v(P,o);return e.createElement(ce,{as:ae,allowPinchZoom:!0,shards:[c.contentRef]},e.createElement(L.div,g({"data-state":K(c.open)},n,{ref:a,style:{pointerEvents:"auto",...n.style}})))}),C="DialogContent",Pe=e.forwardRef((t,a)=>{const o=j(C,t.__scopeDialog),{forceMount:n=o.forceMount,...c}=t,r=v(C,t.__scopeDialog);return e.createElement(O,{present:n||r.open},r.modal?e.createElement(Oe,g({},c,{ref:a})):e.createElement(we,g({},c,{ref:a})))}),Oe=e.forwardRef((t,a)=>{const o=v(C,t.__scopeDialog),n=e.useRef(null),c=V(a,o.contentRef,n);return e.useEffect(()=>{const r=n.current;if(r)return ue(r)},[]),e.createElement(B,g({},t,{ref:c,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(t.onCloseAutoFocus,r=>{var s;r.preventDefault(),(s=o.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:_(t.onPointerDownOutside,r=>{const s=r.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&r.preventDefault()}),onFocusOutside:_(t.onFocusOutside,r=>r.preventDefault())}))}),we=e.forwardRef((t,a)=>{const o=v(C,t.__scopeDialog),n=e.useRef(!1);return e.createElement(B,g({},t,{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var r;if((r=t.onCloseAutoFocus)===null||r===void 0||r.call(t,c),!c.defaultPrevented){var s;n.current||(s=o.triggerRef.current)===null||s===void 0||s.focus(),c.preventDefault()}n.current=!1},onInteractOutside:c=>{var r,s;(r=t.onInteractOutside)===null||r===void 0||r.call(t,c),c.defaultPrevented||(n.current=!0);const l=c.target;((s=o.triggerRef.current)===null||s===void 0?void 0:s.contains(l))&&c.preventDefault()}}))}),B=e.forwardRef((t,a)=>{const{__scopeDialog:o,trapFocus:n,onOpenAutoFocus:c,onCloseAutoFocus:r,...s}=t,l=v(C,o),f=e.useRef(null),p=V(a,f);return se(),e.createElement(e.Fragment,null,e.createElement(le,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:c,onUnmountAutoFocus:r},e.createElement(ie,g({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":K(l.open)},s,{ref:p,onDismiss:()=>l.onOpenChange(!1)}))),!1)}),ke="DialogClose",Ie=e.forwardRef((t,a)=>{const{__scopeDialog:o,...n}=t,c=v(ke,o);return e.createElement(L.button,g({type:"button"},n,{ref:a,onClick:_(t.onClick,()=>c.onOpenChange(!1))}))});function K(t){return t?"open":"closed"}const Ae=_e,Fe=Re,Ne=De,Le=Pe,Ve=Ie;var ze="fyvr1xk fyvr1zc fyvr1114 fyvr112w fyvr11dg fyvr1oo fyvr1jc fyvr11j1",Se=$e({defaultClassName:"_5b32m95 fyvr11hk fyvr11hw fyvr11dk fyvr11kx fyvr1l4 fyvr12oc",variantClassNames:{size:{sm:"_5b32m96",lg:"_5b32m97"}},defaultVariants:{},compoundVariants:[]}),qe="fyvr11dk fyvr1jc fyvr1mw fyvr1oo fyvr1l4",Te="fyvr11f8 fyvr11gg fyvr11cs fyvr11dk fyvr11j1 fyvr1jc fyvr1mw fyvr1oo fyvr1l4";const F=t=>{const{backdropColor:a="gradientBackdrop",children:o,disableAnimation:n=!1,isDismissible:c=!0,onClose:r,scroll:s=!0,size:l="lg",overlayProps:f,contentProps:p}=t;return b(Ae,{defaultOpen:!0,onOpenChange:r,children:b(Fe,{forceMount:!0,children:I(A,{className:Te,children:[b(A,{as:Ne,asChild:!0,background:a,className:qe,forceMount:!0,children:b(k.div,{initial:n?!1:{opacity:0},animate:n?!1:{opacity:1},exit:n?void 0:{opacity:0},transition:{type:"tween",ease:"linear"},...f},"modal-overlay")}),b(Le,{asChild:!0,className:Se({size:l}),forceMount:!0,onEscapeKeyDown:d=>{c?r==null||r():d.preventDefault()},onInteractOutside:d=>{c?r==null||r():d.preventDefault()},children:I(k.div,{initial:n?!1:{y:"100%"},animate:n?!1:{y:0},exit:n?void 0:{y:"100%"},transition:{type:"tween",ease:"easeOut"},...p,children:[s?b(me,{children:o}):o,c&&b(Ve,{asChild:!0,children:b(pe,{icon:fe,size:"xs",className:ze,"aria-label":"Close"})})]},"modal-content")})]})})})};try{F.displayName="Modal",F.__docgenInfo={description:"",displayName:"Modal",props:{backdropColor:{defaultValue:null,description:"",name:"backdropColor",required:!1,type:{name:'ConditionalStyle<Values<MapLeafNodes<{ arbitrumDark: string; avalanceDark: string; bscDark: string; ethereumDark: string; gnosisDark: string; polygonDark: string; arbitrumLight: string; avalanceLight: string; bscLight: string; ... 28 more ...; transparent: "transparent"; }, CSSVarFunction>, { ...; }>>'}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disableAnimation:{defaultValue:null,description:"",name:"disableAnimation",required:!1,type:{name:"boolean"}},isDismissible:{defaultValue:null,description:"",name:"isDismissible",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},scroll:{defaultValue:null,description:"",name:"scroll",required:!1,type:{name:"boolean"}},overlayProps:{defaultValue:null,description:"",name:"overlayProps",required:!1,type:{name:"MotionProps"}},contentProps:{defaultValue:null,description:"",name:"contentProps",required:!1,type:{name:"MotionProps"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"lg"'}]}}}}}catch{}export{rt as A,F as M};
//# sourceMappingURL=Modal-4d25c564.js.map
