import{j as T,a as j}from"./jsx-runtime-a9c13c85.js";import{_ as g}from"./extends-98964cd2.js";import{r as e}from"./index-d8ade8ea.js";import{r as ve}from"./index-6cf4ba34.js";import{$ as we,c as q,a as C,b as Te}from"./index.module-99b258bb.js";import{$ as Ee,a as ae,b as A,e as xe}from"./index.module-4456f0d6.js";import{$ as ye}from"./index.module-a3790cd2.js";import{a as he,b as Ce}from"./index.module-8c8c5ddb.js";import{$ as ge}from"./index.module-5c3234a3.js";import{$ as _e}from"./index.module-cacec922.js";import{a as ie}from"./index.module-ba9cd207.js";import{i as ee,d as Pe}from"./WarningIcon-60d06b1a.js";import{B as W}from"./Box-9e9f1e0d.js";import{C as Re}from"./Card-4eb0dff8.js";import{I as Se}from"./IconButton-fd570a0d.js";import{T as te}from"./Text-755617cc.js";import"./atoms-53256ec3.js";import{c as Ie}from"./vanilla-extract-recipes-createRuntimeFn.esm-bf276de8.js";const ce="ToastProvider",[Q,De,Fe]=ye("Toast"),[de,_t]=Ee("Toast",[Fe]),[Ae,U]=de(ce),le=t=>{const{__scopeToast:r,label:n="Notification",duration:o=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:p}=t,[f,b]=e.useState(null),[a,y]=e.useState(0),E=e.useRef(!1),N=e.useRef(!1);return e.createElement(Q.Provider,{scope:r},e.createElement(Ae,{scope:r,label:n,duration:o,swipeDirection:c,swipeThreshold:d,toastCount:a,viewport:f,onViewportChange:b,onToastAdd:e.useCallback(()=>y(R=>R+1),[]),onToastRemove:e.useCallback(()=>y(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:N},p))};le.propTypes={label(t){if(t.label&&typeof t.label=="string"&&!t.label.trim()){const r=`Invalid prop \`label\` supplied to \`${ce}\`. Expected non-empty \`string\`.`;return new Error(r)}return null}};const Ne="ToastViewport",ke=["F8"],G="toast.viewportPause",J="toast.viewportResume",Le=e.forwardRef((t,r)=>{const{__scopeToast:n,hotkey:o=ke,label:c="Notifications ({hotkey})",...d}=t,p=U(Ne,n),f=De(n),b=e.useRef(null),a=e.useRef(null),y=e.useRef(null),E=e.useRef(null),N=ae(r,E,p.onViewportChange),R=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=p.toastCount>0;e.useEffect(()=>{const i=x=>{var u;o.every($=>x[$]||x.code===$)&&((u=E.current)===null||u===void 0||u.focus())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[o]),e.useEffect(()=>{const i=b.current,x=E.current;if(S&&i&&x){const u=()=>{if(!p.isClosePausedRef.current){const w=new CustomEvent(G);x.dispatchEvent(w),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const w=new CustomEvent(J);x.dispatchEvent(w),p.isClosePausedRef.current=!1}},$=w=>{!i.contains(w.relatedTarget)&&m()},v=()=>{i.contains(document.activeElement)||m()};return i.addEventListener("focusin",u),i.addEventListener("focusout",$),i.addEventListener("pointermove",u),i.addEventListener("pointerleave",v),window.addEventListener("blur",u),window.addEventListener("focus",m),()=>{i.removeEventListener("focusin",u),i.removeEventListener("focusout",$),i.removeEventListener("pointermove",u),i.removeEventListener("pointerleave",v),window.removeEventListener("blur",u),window.removeEventListener("focus",m)}}},[S,p.isClosePausedRef]);const l=e.useCallback(({tabbingDirection:i})=>{const u=f().map(m=>{const $=m.ref.current,v=[$,...Ze($)];return i==="forwards"?v:v.reverse()});return(i==="forwards"?u.reverse():u).flat()},[f]);return e.useEffect(()=>{const i=E.current;if(i){const x=u=>{const m=u.altKey||u.ctrlKey||u.metaKey;if(u.key==="Tab"&&!m){const k=document.activeElement,D=u.shiftKey;if(u.target===i&&D){var v;(v=a.current)===null||v===void 0||v.focus();return}const I=l({tabbingDirection:D?"backwards":"forwards"}),M=I.findIndex(s=>s===k);if(z(I.slice(M+1)))u.preventDefault();else{var w,_;D?(w=a.current)===null||w===void 0||w.focus():(_=y.current)===null||_===void 0||_.focus()}}};return i.addEventListener("keydown",x),()=>i.removeEventListener("keydown",x)}},[f,l]),e.createElement(Ce,{ref:b,role:"region","aria-label":c.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:S?void 0:"none"}},S&&e.createElement(oe,{ref:a,onFocusFromOutsideViewport:()=>{const i=l({tabbingDirection:"forwards"});z(i)}}),e.createElement(Q.Slot,{scope:n},e.createElement(A.ol,g({tabIndex:-1},d,{ref:N}))),S&&e.createElement(oe,{ref:y,onFocusFromOutsideViewport:()=>{const i=l({tabbingDirection:"backwards"});z(i)}}))}),Oe="ToastFocusProxy",oe=e.forwardRef((t,r)=>{const{__scopeToast:n,onFocusFromOutsideViewport:o,...c}=t,d=U(Oe,n);return e.createElement(ie,g({"aria-hidden":!0,tabIndex:0},c,{ref:r,style:{position:"fixed"},onFocus:p=>{var f;const b=p.relatedTarget;!((f=d.viewport)!==null&&f!==void 0&&f.contains(b))&&o()}}))}),X="Toast",Me="toast.swipeStart",Ve="toast.swipeMove",Ke="toast.swipeCancel",We="toast.swipeEnd",He=e.forwardRef((t,r)=>{const{forceMount:n,open:o,defaultOpen:c,onOpenChange:d,...p}=t,[f=!0,b]=we({prop:o,defaultProp:c,onChange:d});return e.createElement(_e,{present:n||f},e.createElement(ue,g({open:f},p,{ref:r,onClose:()=>b(!1),onPause:q(t.onPause),onResume:q(t.onResume),onSwipeStart:C(t.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:C(t.onSwipeMove,a=>{const{x:y,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:C(t.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:C(t.onSwipeEnd,a=>{const{x:y,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),b(!1)})})))}),[qe,Ue]=de(X,{onClose(){}}),ue=e.forwardRef((t,r)=>{const{__scopeToast:n,type:o="foreground",duration:c,open:d,onClose:p,onEscapeKeyDown:f,onPause:b,onResume:a,onSwipeStart:y,onSwipeMove:E,onSwipeCancel:N,onSwipeEnd:R,...S}=t,l=U(X,n),[i,x]=e.useState(null),u=ae(r,s=>x(s)),m=e.useRef(null),$=e.useRef(null),v=c||l.duration,w=e.useRef(0),_=e.useRef(v),k=e.useRef(0),{onToastAdd:D,onToastRemove:B}=l,F=q(()=>{var s;(i==null?void 0:i.contains(document.activeElement))&&((s=l.viewport)===null||s===void 0||s.focus()),p()}),I=e.useCallback(s=>{!s||s===1/0||(window.clearTimeout(k.current),w.current=new Date().getTime(),k.current=window.setTimeout(F,s))},[F]);e.useEffect(()=>{const s=l.viewport;if(s){const h=()=>{I(_.current),a==null||a()},P=()=>{const L=new Date().getTime()-w.current;_.current=_.current-L,window.clearTimeout(k.current),b==null||b()};return s.addEventListener(G,P),s.addEventListener(J,h),()=>{s.removeEventListener(G,P),s.removeEventListener(J,h)}}},[l.viewport,v,b,a,I]),e.useEffect(()=>{d&&!l.isClosePausedRef.current&&I(v)},[d,v,l.isClosePausedRef,I]),e.useEffect(()=>(D(),()=>B()),[D,B]);const M=e.useMemo(()=>i?be(i):null,[i]);return l.viewport?e.createElement(e.Fragment,null,M&&e.createElement(Xe,{__scopeToast:n,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0},M),e.createElement(qe,{scope:n,onClose:F},ve.createPortal(e.createElement(Q.ItemSlot,{scope:n},e.createElement(he,{asChild:!0,onEscapeKeyDown:C(f,()=>{l.isFocusedToastEscapeKeyDownRef.current||F(),l.isFocusedToastEscapeKeyDownRef.current=!1})},e.createElement(A.li,g({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":l.swipeDirection},S,{ref:u,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:C(t.onKeyDown,s=>{s.key==="Escape"&&(f==null||f(s.nativeEvent),s.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:C(t.onPointerDown,s=>{s.button===0&&(m.current={x:s.clientX,y:s.clientY})}),onPointerMove:C(t.onPointerMove,s=>{if(!m.current)return;const h=s.clientX-m.current.x,P=s.clientY-m.current.y,L=Boolean($.current),O=["left","right"].includes(l.swipeDirection),V=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,me=O?V(0,h):0,$e=O?0:V(0,P),Y=s.pointerType==="touch"?10:2,K={x:me,y:$e},Z={originalEvent:s,delta:K};L?($.current=K,H(Ve,E,Z,{discrete:!1})):re(K,l.swipeDirection,Y)?($.current=K,H(Me,y,Z,{discrete:!1}),s.target.setPointerCapture(s.pointerId)):(Math.abs(h)>Y||Math.abs(P)>Y)&&(m.current=null)}),onPointerUp:C(t.onPointerUp,s=>{const h=$.current,P=s.target;if(P.hasPointerCapture(s.pointerId)&&P.releasePointerCapture(s.pointerId),$.current=null,m.current=null,h){const L=s.currentTarget,O={originalEvent:s,delta:h};re(h,l.swipeDirection,l.swipeThreshold)?H(We,R,O,{discrete:!0}):H(Ke,N,O,{discrete:!0}),L.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})))),l.viewport))):null});ue.propTypes={type(t){if(t.type&&!["foreground","background"].includes(t.type)){const r=`Invalid prop \`type\` supplied to \`${X}\`. Expected \`foreground | background\`.`;return new Error(r)}return null}};const Xe=t=>{const{__scopeToast:r,children:n,...o}=t,c=U(X,r),[d,p]=e.useState(!1),[f,b]=e.useState(!1);return Je(()=>p(!0)),e.useEffect(()=>{const a=window.setTimeout(()=>b(!0),1e3);return()=>window.clearTimeout(a)},[]),f?null:e.createElement(ge,{asChild:!0},e.createElement(ie,o,d&&e.createElement(e.Fragment,null,c.label," ",n)))},Be=e.forwardRef((t,r)=>{const{__scopeToast:n,...o}=t;return e.createElement(A.div,g({},o,{ref:r}))}),Ye=e.forwardRef((t,r)=>{const{__scopeToast:n,...o}=t;return e.createElement(A.div,g({},o,{ref:r}))}),je="ToastAction",ze=e.forwardRef((t,r)=>{const{altText:n,...o}=t;return n?e.createElement(fe,{altText:n,asChild:!0},e.createElement(pe,g({},o,{ref:r}))):null});ze.propTypes={altText(t){return t.altText?null:new Error(`Missing prop \`altText\` expected on \`${je}\``)}};const Ge="ToastClose",pe=e.forwardRef((t,r)=>{const{__scopeToast:n,...o}=t,c=Ue(Ge,n);return e.createElement(fe,{asChild:!0},e.createElement(A.button,g({type:"button"},o,{ref:r,onClick:C(t.onClick,c.onClose)})))}),fe=e.forwardRef((t,r)=>{const{__scopeToast:n,altText:o,...c}=t;return e.createElement(A.div,g({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0},c,{ref:r}))});function be(t){const r=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&r.push(o.textContent),Qe(o)){const c=o.ariaHidden||o.hidden||o.style.display==="none",d=o.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const p=o.dataset.radixToastAnnounceAlt;p&&r.push(p)}else r.push(...be(o))}}),r}function H(t,r,n,{discrete:o}){const c=n.originalEvent.currentTarget,d=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});r&&c.addEventListener(t,r,{once:!0}),o?xe(c,d):c.dispatchEvent(d)}const re=(t,r,n=0)=>{const o=Math.abs(t.x),c=Math.abs(t.y),d=o>c;return r==="left"||r==="right"?d&&o>n:!d&&c>n};function Je(t=()=>{}){const r=q(t);Te(()=>{let n=0,o=0;return n=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(o)}},[r])}function Qe(t){return t.nodeType===t.ELEMENT_NODE}function Ze(t){const r=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function z(t){const r=document.activeElement;return t.some(n=>n===r?!0:(n.focus(),document.activeElement!==r))}const et=le,tt=Le,ot=He,rt=Be,nt=Ye,st=pe;var at=Ie({defaultClassName:"_6wut8v4",variantClassNames:{variant:{success:"_6wut8v5",error:"_6wut8v6"}},defaultVariants:{},compoundVariants:[]}),it="_6wut8v0";const ne=et,Pt=()=>T(tt,{className:it}),se=t=>{const{variant:r,title:n,description:o,icon:c,isDismissible:d=!0,...p}=t,f=()=>{if(c)return T(c,{});switch(r){case"success":return T(W,{background:"positive",color:"black",borderRadius:"circle",width:"8",height:"8",placeItems:"center",minWidth:"0",flexShrink:"0",children:T(Pe,{})});case"error":return T(W,{background:"negative",color:"black",borderRadius:"circle",width:"8",height:"8",placeItems:"center",minWidth:"0",flexShrink:"0",children:T(ee,{})});default:return null}};return T(ot,{className:at({variant:r}),asChild:!0,duration:r==="error"?1/0:5e3,...p,children:j(Re,{as:"li",borderRadius:"md",background:"buttonGlass",backdropFilter:"blur",position:"relative",width:"full",justifyContent:"space-between",children:[j(W,{gap:"3",alignItems:"center",children:[f(),j(W,{flexDirection:"column",gap:"1",children:[n&&T(rt,{children:T(te,{as:"div",variant:"normal",fontWeight:"bold",color:"text80",children:n})}),T(nt,{children:T(te,{as:"div",variant:"normal",fontWeight:"medium",color:"text50",children:o})})]})]}),d&&T(st,{"aria-label":"Close",asChild:!0,children:T(Se,{icon:ee,size:"xs"})})]})})};try{ne.displayName="ToastProvider",ne.__docgenInfo={description:"",displayName:"ToastProvider",props:{}}}catch{}try{se.displayName="Toast",se.__docgenInfo={description:"",displayName:"Toast",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"success"'}]}},isDismissible:{defaultValue:null,description:"",name:"isDismissible",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ComponentType<VariantSelection<{ size: { xs: { height: CSSVarFunction; width: CSSVarFunction; }; sm: { height: CSSVarFunction; width: CSSVarFunction; }; md: { ...; }; lg: { ...; }; xl: { ...; }; }; }> & ... 4 more ... & ChildSprinkleProps<...>>"}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}export{se as T,ne as a,Pt as b};
//# sourceMappingURL=Toast-3aa22492.js.map
