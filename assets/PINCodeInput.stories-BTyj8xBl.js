import{r as d,j as c}from"./iframe-4jdeRta1.js";import{c as P}from"./index-Dp3B9jqt.js";import{c as q}from"./clsx-B-dksMZM.js";import{f as E,i as S,d as F}from"./styles-Dnb-ama7.js";import{c as A}from"./classnames-CzI9s_aO.js";import{t as V}from"./Text-DZp5baOb.js";import"./preload-helper-Dp1pzeXC.js";import"./index-DPmhm0QD.js";q(V({variant:"large"}),"w-10 h-12 flex justify-center items-center p-[10px] bg-background-secondary rounded-lg text-primary");const $=P([V({variant:"large"}),"flex justify-center items-center h-12 w-10 p-[10px]","rounded-lg text-primary bg-background-input text-center","caret-transparent selection:bg-transparent",E(),S,F],{variants:{},defaultVariants:{}}),g=o=>{const{value:u,digits:s=6,group:m,onChange:b,onConfirm:y,disabled:_=!1}=o,n=d.useMemo(()=>D(0,s).map(()=>d.createRef()),[s]);d.useEffect(()=>{var t,e;(e=(t=n[0])==null?void 0:t.current)==null||e.focus()},[n]);const h=(t,e)=>{var r,i;/^\d$/.test(e)||(e="");const a=[...u];a[t]=e,e!==""&&((i=(r=n[t+1])==null?void 0:r.current)==null||i.focus()),b(a)},k=()=>u.join("").length===s,N=(t,e)=>{var l,p;const a=n[t].current,r=(l=n[t-1])==null?void 0:l.current,i=(p=n[t+1])==null?void 0:p.current;switch(e.key){case"Backspace":e.preventDefault(),a&&(a.value="",h(t,"")),r==null||r.focus();break;case"ArrowLeft":e.preventDefault(),r==null||r.focus();break;case"ArrowRight":e.preventDefault(),i==null||i.focus();break;case"Enter":e.preventDefault(),k()&&(y==null||y());break;default:(a==null?void 0:a.value)===e.key&&(e.preventDefault(),h(t,e.key))}},w=(t,e)=>{var l,p;e.preventDefault();const r=e.clipboardData.getData("text/plain").replace(/\D/g,"");new RegExp(`^\\d{${s}}$`).test(r)&&((p=(l=n[0])==null?void 0:l.current)==null||p.focus(),b(r.split("")),setTimeout(()=>{var C,x;(x=(C=n[n.length-1])==null?void 0:C.current)==null||x.focus()}))};return c.jsx("div",{className:"flex gap-2",children:D(0,s).map(t=>c.jsxs(d.Fragment,{children:[!!m&&t>0&&t%m===0&&c.jsx("span",{}),c.jsx("input",{className:A($()),value:u[t]||"",ref:n[t],type:"text",inputMode:"numeric",maxLength:1,disabled:_,onFocus:e=>e.target.select(),onPaste:e=>w(t,e),onChange:e=>h(t,e.target.value),onKeyDown:e=>{N(t,e)}})]},t))})},D=(o,u)=>Array.from({length:u-o},(s,m)=>m+o);try{g.displayName="PINCodeInput",g.__docgenInfo={description:"",displayName:"PINCodeInput",props:{digits:{defaultValue:null,description:"",name:"digits",required:!0,type:{name:"number"}},group:{defaultValue:null,description:"",name:"group",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(code: string[]) => void"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!1,type:{name:"(() => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string[]"}}}}}catch{}const G={title:"Forms/PINCodeInput",component:g},B=o=>{const[u,s]=d.useState([]);return c.jsx(c.Fragment,{children:c.jsx(g,{...o,onChange:s,value:u})})},f={render:B,args:{digits:6}};var I,j,v;f.parameters={...f.parameters,docs:{...(I=f.parameters)==null?void 0:I.docs,source:{originalSource:`{
  render: StoryWrapper,
  args: {
    digits: 6
  }
}`,...(v=(j=f.parameters)==null?void 0:j.docs)==null?void 0:v.source}}};const H=["Default"];export{f as Default,H as __namedExportsOrder,G as default};
