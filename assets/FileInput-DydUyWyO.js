import{r as l,j as e}from"./iframe-4jdeRta1.js";import{c as _}from"./YoutubeIcon-CzVHBqrL.js";import"./SearchIcon-C82-TMiw.js";import{f as E,i as F}from"./styles-Dnb-ama7.js";import{c as N}from"./classnames-CzI9s_aO.js";import{I as z}from"./IconButton-D7ddeTCO.js";import{T as o,t as C}from"./Text-DZp5baOb.js";const R={png:".png,image/png",jpeg:".jpeg,image/jpeg",jpg:".jpg,image/jpg",images:"image/*, video/*",pdf:".pdf,application/pdf",mp4:".mp4,video/mp4",csv:".csv,text/csv",json:".json,application/json",gif:".gif,image/gif",webp:".webp,image/webp",svg:".svg,image/svg+xml"},m=p=>{const{disabled:f=!1,id:g,name:c,onValueChange:i,placeholder:x="Upload a file",validExtensions:v,className:j,ref:h,...y}=p,n=l.useRef(null);l.useImperativeHandle(h,()=>n.current);const[a,d]=l.useState(null),b=t=>{const s=t.currentTarget.files;if(!s||!s[0])return;const r=s[0],u=r.name,I=r.size/1e3;d({name:u,size:I,extension:u.split(".").pop()??""}),i==null||i(r)},w=v.map(t=>R[t]).join(",");return e.jsxs("div",{className:N(C({variant:"normal"}),"w-full min-w-0 inline-flex items-center flex-row justify-start p-4 relative h-[52px]","rounded-xl bg-background-input","[&:has(:disabled)]:cursor-default [&:has(:disabled)]:opacity-50",a?"justify-between text-primary":"justify-start text-muted",E({variant:"within"}),F,"has-[[aria-invalid=true]]:border-destructive has-[[aria-invalid=true]]:outline-destructive","border-dashed",j),children:[a?e.jsxs("div",{className:"flex flex-row gap-2 items-center min-w-0",children:[e.jsx(o,{ellipsis:!0,asChild:!0,children:e.jsx("p",{children:a.name})}),e.jsxs(o,{color:"muted",variant:"xsmall",nowrap:!0,children:[a.size.toFixed(2)," kb"]})]}):e.jsx(o,{ellipsis:!0,asChild:!0,children:e.jsx("p",{children:x})}),e.jsx("input",{accept:w,className:"absolute inset-0 opacity-0 cursor-pointer focus:outline-hidden",disabled:f,id:g??c,name:c,onChange:b,ref:n,type:"file",...y}),a&&e.jsx(z,{className:"cursor-pointer z-10 ml-1",icon:_,size:"xs",onClick:t=>{var s;t.preventDefault(),t.stopPropagation(),(s=n.current)!=null&&s.value&&(n.current.value=""),i==null||i(null),d(null)}})]})};try{m.displayName="FileInput",m.__docgenInfo={description:"",displayName:"FileInput",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},validExtensions:{defaultValue:null,description:"",name:"validExtensions",required:!0,type:{name:'("svg" | "png" | "jpeg" | "jpg" | "images" | "pdf" | "mp4" | "csv" | "json" | "gif" | "webp")[]'}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!1,type:{name:"((value: File | null) => void)"}}}}}catch{}export{m as F};
