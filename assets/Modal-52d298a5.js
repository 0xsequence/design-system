import{r as e}from"./index-d8ade8ea.js";import{u as N,s as Z,a as J,P as Q,w as X,L as ee,b as te,e as ne,m as P}from"./motion-7df5a7b3.js";import{j as $,a as I}from"./jsx-runtime-a9c13c85.js";import{_ as g}from"./extends-98964cd2.js";import{$ as oe,b as re,h as ce,c as L,a as z,d as _}from"./index.module-d15610cf.js";import{$ as y}from"./index.module-a9b21657.js";import{c as ae,a as se,b as ie,$ as le}from"./Combination-78ef0d5c.js";import{$ as de}from"./index.module-f17d4a85.js";import{$ as M}from"./index.module-732cca0e.js";import{h as ue}from"./index-807b81f6.js";import{B as A}from"./Box-71460fdd.js";import{c as fe}from"./WarningIcon-e965e419.js";import{I as pe}from"./IconButton-2fef59d9.js";import{S as me}from"./Scroll-f849ceca.js";import"./atoms.css-afddc020.js";import{c as be}from"./vanilla-extract-recipes-createRuntimeFn.esm-d30eb010.js";function V(){const t=e.useRef(!1);return N(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function $e(){const t=V(),[c,o]=e.useState(0),n=e.useCallback(()=>{t.current&&o(c+1)},[c]);return[e.useCallback(()=>Z.postRender(n),[n]),c]}class ge extends e.Component{getSnapshotBeforeUpdate(c){const o=this.props.childRef.current;if(o&&c.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=o.offsetHeight||0,n.width=o.offsetWidth||0,n.top=o.offsetTop,n.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function he({children:t,isPresent:c}){const o=e.useId(),n=e.useRef(null),a=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:r,height:s,top:i,left:u}=a.current;if(c||!n.current||!r||!s)return;n.current.dataset.motionPopId=o;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${s}px !important;
            top: ${i}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[c]),e.createElement(ge,{isPresent:c,childRef:n,sizeRef:a},e.cloneElement(t,{ref:n}))}const D=({children:t,initial:c,isPresent:o,onExitComplete:n,custom:a,presenceAffectsLayout:r,mode:s})=>{const i=J(ve),u=e.useId(),p=e.useMemo(()=>({id:u,initial:c,isPresent:o,custom:a,onExitComplete:f=>{i.set(f,!0);for(const d of i.values())if(!d)return;n&&n()},register:f=>(i.set(f,!1),()=>i.delete(f))}),r?void 0:[o]);return e.useMemo(()=>{i.forEach((f,d)=>i.set(d,!1))},[o]),e.useEffect(()=>{!o&&!i.size&&n&&n()},[o]),s==="popLayout"&&(t=e.createElement(he,{isPresent:o},t)),e.createElement(Q.Provider,{value:p},t)};function ve(){return new Map}const v=t=>t.key||"";function Ce(t,c){t.forEach(o=>{const n=v(o);c.set(n,o)})}function we(t){const c=[];return e.Children.forEach(t,o=>{e.isValidElement(o)&&c.push(o)}),c}const rt=({children:t,custom:c,initial:o=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:r=!0,mode:s="sync"})=>{a&&(s="wait",X(!1,"Replace exitBeforeEnter with mode='wait'"));let[i]=$e();const u=e.useContext(ee).forceRender;u&&(i=u);const p=V(),f=we(t);let d=f;const m=new Set,C=e.useRef(d),x=e.useRef(new Map).current,E=e.useRef(!0);if(N(()=>{E.current=!1,Ce(f,x),C.current=d}),te(()=>{E.current=!0,x.clear(),m.clear()}),E.current)return e.createElement(e.Fragment,null,d.map(l=>e.createElement(D,{key:v(l),isPresent:!0,initial:o?void 0:!1,presenceAffectsLayout:r,mode:s},l)));d=[...d];const R=C.current.map(v),k=f.map(v),U=R.length;for(let l=0;l<U;l++){const b=R[l];k.indexOf(b)===-1&&m.add(b)}return s==="wait"&&m.size&&(d=[]),m.forEach(l=>{if(k.indexOf(l)!==-1)return;const b=x.get(l);if(!b)return;const G=R.indexOf(l),Y=()=>{x.delete(l),m.delete(l);const H=C.current.findIndex(W=>W.key===l);if(C.current.splice(H,1),!m.size){if(C.current=f,p.current===!1)return;i(),n&&n()}};d.splice(G,0,e.createElement(D,{key:v(b),isPresent:!1,onExitComplete:Y,custom:c,presenceAffectsLayout:r,mode:s},b))}),d=d.map(l=>{const b=l.key;return m.has(b)?l:e.createElement(D,{key:v(l),isPresent:!0,presenceAffectsLayout:r,mode:s},l)}),ne!=="production"&&s==="wait"&&d.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),e.createElement(e.Fragment,null,m.size?d:d.map(l=>e.cloneElement(l)))},S="Dialog",[T,ct]=oe(S),[xe,h]=T(S),_e=t=>{const{__scopeDialog:c,children:o,open:n,defaultOpen:a,onOpenChange:r,modal:s=!0}=t,i=e.useRef(null),u=e.useRef(null),[p=!1,f]=re({prop:n,defaultProp:a,onChange:r});return e.createElement(xe,{scope:c,triggerRef:i,contentRef:u,contentId:y(),titleId:y(),descriptionId:y(),open:p,onOpenChange:f,onOpenToggle:e.useCallback(()=>f(d=>!d),[f]),modal:s},o)},j="DialogPortal",[Ee,q]=T(j,{forceMount:void 0}),Re=t=>{const{__scopeDialog:c,forceMount:o,children:n,container:a}=t,r=h(j,c);return e.createElement(Ee,{scope:c,forceMount:o},e.Children.map(n,s=>e.createElement(M,{present:o||r.open},e.createElement(de,{asChild:!0,container:a},s))))},O="DialogOverlay",ye=e.forwardRef((t,c)=>{const o=q(O,t.__scopeDialog),{forceMount:n=o.forceMount,...a}=t,r=h(O,t.__scopeDialog);return r.modal?e.createElement(M,{present:n||r.open},e.createElement(De,g({},a,{ref:c}))):null}),De=e.forwardRef((t,c)=>{const{__scopeDialog:o,...n}=t,a=h(O,o);return e.createElement(ae,{as:ce,allowPinchZoom:!0,shards:[a.contentRef]},e.createElement(L.div,g({"data-state":K(a.open)},n,{ref:c,style:{pointerEvents:"auto",...n.style}})))}),w="DialogContent",Oe=e.forwardRef((t,c)=>{const o=q(w,t.__scopeDialog),{forceMount:n=o.forceMount,...a}=t,r=h(w,t.__scopeDialog);return e.createElement(M,{present:n||r.open},r.modal?e.createElement(Me,g({},a,{ref:c})):e.createElement(ke,g({},a,{ref:c})))}),Me=e.forwardRef((t,c)=>{const o=h(w,t.__scopeDialog),n=e.useRef(null),a=z(c,o.contentRef,n);return e.useEffect(()=>{const r=n.current;if(r)return ue(r)},[]),e.createElement(B,g({},t,{ref:a,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(t.onCloseAutoFocus,r=>{var s;r.preventDefault(),(s=o.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:_(t.onPointerDownOutside,r=>{const s=r.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&r.preventDefault()}),onFocusOutside:_(t.onFocusOutside,r=>r.preventDefault())}))}),ke=e.forwardRef((t,c)=>{const o=h(w,t.__scopeDialog),n=e.useRef(!1);return e.createElement(B,g({},t,{ref:c,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var r;if((r=t.onCloseAutoFocus)===null||r===void 0||r.call(t,a),!a.defaultPrevented){var s;n.current||(s=o.triggerRef.current)===null||s===void 0||s.focus(),a.preventDefault()}n.current=!1},onInteractOutside:a=>{var r,s;(r=t.onInteractOutside)===null||r===void 0||r.call(t,a),a.defaultPrevented||(n.current=!0);const i=a.target;((s=o.triggerRef.current)===null||s===void 0?void 0:s.contains(i))&&a.preventDefault()}}))}),B=e.forwardRef((t,c)=>{const{__scopeDialog:o,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:r,...s}=t,i=h(w,o),u=e.useRef(null),p=z(c,u);return se(),e.createElement(e.Fragment,null,e.createElement(ie,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:r},e.createElement(le,g({role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":K(i.open)},s,{ref:p,onDismiss:()=>i.onOpenChange(!1)}))),!1)}),Pe="DialogClose",Ie=e.forwardRef((t,c)=>{const{__scopeDialog:o,...n}=t,a=h(Pe,o);return e.createElement(L.button,g({type:"button"},n,{ref:c,onClick:_(t.onClick,()=>a.onOpenChange(!1))}))});function K(t){return t?"open":"closed"}const Ae=_e,Fe=Re,Ne=ye,Le=Oe,ze=Ie;var Ve="tnw2bexk tnw2bezc tnw2be114 tnw2be12w tnw2be1dg tnw2beoo tnw2bejc tnw2be1j1",Se=be({defaultClassName:"_5b32m95 tnw2be1hk tnw2be1hw tnw2be1dk tnw2be1kx tnw2bel4 tnw2be2nc",variantClassNames:{size:{sm:"_5b32m96",lg:"_5b32m97"}},defaultVariants:{},compoundVariants:[]}),Te="tnw2be1dk tnw2bejc tnw2bemw tnw2beoo tnw2bel4",je="tnw2be1f8 tnw2be1gg tnw2be1cs tnw2be1dk tnw2be1j1 tnw2bejc tnw2bemw tnw2beoo tnw2bel4";const F=t=>{const{backdropColor:c="gradientBackdrop",children:o,disableAnimation:n=!1,isDismissible:a=!0,onClose:r,scroll:s=!0,size:i="lg"}=t;return $(Ae,{defaultOpen:!0,onOpenChange:r,children:$(Fe,{forceMount:!0,children:I(A,{className:je,children:[$(A,{as:Ne,asChild:!0,background:c,className:Te,forceMount:!0,children:$(P.div,{initial:n?!1:{opacity:0},animate:n?!1:{opacity:1},exit:n?void 0:{opacity:0},transition:{type:"tween",ease:"linear"}},"modal-overlay")}),$(Le,{asChild:!0,className:Se({size:i}),forceMount:!0,onEscapeKeyDown:u=>{a?r==null||r():u.preventDefault()},onInteractOutside:u=>{a?r==null||r():u.preventDefault()},children:I(P.div,{initial:n?!1:{y:"100%"},animate:n?!1:{y:0},exit:n?void 0:{y:"100%"},transition:{type:"tween",ease:"easeOut"},children:[s?$(me,{children:o}):o,a&&$(ze,{asChild:!0,children:$(pe,{icon:fe,size:"xs",className:Ve,"aria-label":"Close"})})]},"modal-content")})]})})})};try{F.displayName="Modal",F.__docgenInfo={description:"",displayName:"Modal",props:{backdropColor:{defaultValue:null,description:"",name:"backdropColor",required:!1,type:{name:'ConditionalStyle<Values<MapLeafNodes<{ arbitrumDark: string; avalanceDark: string; bscDark: string; ethereumDark: string; gnosisDark: string; polygonDark: string; arbitrumLight: string; avalanceLight: string; bscLight: string; ... 27 more ...; white: "#ffffff"; }, CSSVarFunction>, { ...; }>>'}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disableAnimation:{defaultValue:null,description:"",name:"disableAnimation",required:!1,type:{name:"boolean"}},isDismissible:{defaultValue:null,description:"",name:"isDismissible",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},scroll:{defaultValue:null,description:"",name:"scroll",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"lg"'}]}}}}}catch{}export{rt as A,F as M};
//# sourceMappingURL=Modal-52d298a5.js.map
