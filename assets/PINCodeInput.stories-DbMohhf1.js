import{j as c}from"./jsx-runtime-D_zvdyIk.js";import{r as d}from"./index-CFahbR6w.js";import{c as P}from"./index-Dp3B9jqt.js";import{c as q}from"./clsx-B-dksMZM.js";import{t as _}from"./Text-C9__OIjH.js";import{c as E}from"./classnames-BovuWA26.js";import"./index-B2_zDxcN.js";q(_({variant:"large"}),"w-10 h-12 flex justify-center items-center p-[10px] bg-background-secondary rounded-lg text-primary");const F=P([_({variant:"large"}),"flex justify-center items-center h-12 w-10 p-[10px]","border-none rounded-lg text-primary bg-transparent text-center","caret-transparent selection:bg-transparent","ring-inset ring-1 ring-border-normal hover:ring-border-focus","disabled:cursor-default disabled:opacity-50","focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-border-focus"],{variants:{},defaultVariants:{}}),g=o=>{const{value:i,digits:s=6,group:f,onChange:h,onConfirm:y,disabled:N=!1}=o,n=d.useMemo(()=>x(0,s).map(()=>d.createRef()),[s]);d.useEffect(()=>{var t,e;(e=(t=n[0])==null?void 0:t.current)==null||e.focus()},[n]);const b=(t,e)=>{var r,u;/^\d$/.test(e)||(e="");const a=[...i];a[t]=e,e!==""&&((u=(r=n[t+1])==null?void 0:r.current)==null||u.focus()),h(a)},V=()=>i.join("").length===s,k=(t,e)=>{var l,p;const a=n[t].current,r=(l=n[t-1])==null?void 0:l.current,u=(p=n[t+1])==null?void 0:p.current;switch(e.key){case"Backspace":e.preventDefault(),a&&(a.value="",b(t,"")),r==null||r.focus();break;case"ArrowLeft":e.preventDefault(),r==null||r.focus();break;case"ArrowRight":e.preventDefault(),u==null||u.focus();break;case"Enter":e.preventDefault(),V()&&(y==null||y());break;default:(a==null?void 0:a.value)===e.key&&(e.preventDefault(),b(t,e.key))}},w=(t,e)=>{var l,p;e.preventDefault();const r=e.clipboardData.getData("text/plain").replace(/\D/g,"");new RegExp(`^\\d{${s}}$`).test(r)&&((p=(l=n[0])==null?void 0:l.current)==null||p.focus(),h(r.split("")),setTimeout(()=>{var v,C;(C=(v=n[n.length-1])==null?void 0:v.current)==null||C.focus()}))};return c.jsx("div",{className:"flex gap-2",children:x(0,s).map(t=>c.jsxs(d.Fragment,{children:[!!f&&t>0&&t%f===0&&c.jsx("span",{}),c.jsx("input",{className:E(F()),value:i[t]||"",ref:n[t],type:"text",inputMode:"numeric",maxLength:1,disabled:N,onFocus:e=>e.target.select(),onPaste:e=>w(t,e),onChange:e=>b(t,e.target.value),onKeyDown:e=>{k(t,e)}})]},t))})},x=(o,i)=>Array.from({length:i-o},(s,f)=>f+o);try{g.displayName="PINCodeInput",g.__docgenInfo={description:"",displayName:"PINCodeInput",props:{digits:{defaultValue:null,description:"",name:"digits",required:!0,type:{name:"number"}},group:{defaultValue:null,description:"",name:"group",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(code: string[]) => void"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!1,type:{name:"(() => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string[]"}}}}}catch{}const O={title:"Forms/PINCodeInput",component:g},S=o=>{const[i,s]=d.useState([]);return c.jsx(c.Fragment,{children:c.jsx(g,{...o,onChange:s,value:i})})},m={render:S,args:{digits:6}};var D,I,j;m.parameters={...m.parameters,docs:{...(D=m.parameters)==null?void 0:D.docs,source:{originalSource:`{
  render: StoryWrapper,
  args: {
    digits: 6
  }
}`,...(j=(I=m.parameters)==null?void 0:I.docs)==null?void 0:j.source}}};const T=["Default"];export{m as Default,T as __namedExportsOrder,O as default};
