import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as u}from"./index-CFahbR6w.js";import{F as V}from"./Field-CU5Y9b43.js";import{I as z}from"./IconButton-WX-gDB63.js";import{T as m,t as D}from"./Text-CkPI9aF3.js";import{d as C}from"./YoutubeIcon-DD-bp7UA.js";import{c as T}from"./classnames-BovuWA26.js";const L=(...s)=>l=>s.forEach(i=>{i&&(typeof i=="function"?i(l):i.current=l)}),S={png:".png,image/png",jpeg:".jpeg,image/jpeg",jpg:".jpg,image/jpg",images:"image/*, video/*",pdf:".pdf,application/pdf",mp4:".mp4,video/mp4",csv:".csv,text/csv",json:".json,application/json",gif:".gif,image/gif",webp:".webp,image/webp",svg:".svg,image/svg+xml"},j=u.forwardRef((s,l)=>{const{description:i,disabled:o=!1,id:f,label:h="",labelLocation:v="hidden",name:p,onValueChange:t,placeholder:y="Upload a file",validExtensions:w,className:N,error:g,trailDescription:F,...R}=s,d=u.useRef(null),_=L(d,l),[r,x]=u.useState(null),q=n=>{const a=n.currentTarget.files;if(!a||!a[0])return;const c=a[0],b=c.name,I=c.size/1e3;x({name:b,size:I,extension:b.split(".").pop()??""}),t==null||t(c)},E=w.map(n=>S[n]).join(",");return e.jsx(V,{description:i,disabled:o,id:f??p,label:h,labelLocation:v,className:"grid",error:g,trailDescription:F,children:e.jsx("div",{className:"w-full min-w-0",children:e.jsxs("div",{className:T(D({variant:"normal"}),"inline-flex items-center flex-row justify-start min-w-full p-4 relative h-[52px]","border border-dashed rounded-xl","[&:has(:disabled)]:cursor-default [&:has(:disabled)]:opacity-50","focus-within:opacity-100 focus-within:ring-2 focus-within:ring-inset focus-within:border-transparent",r?"justify-between":"justify-start",r?"text-primary":"text-muted",g&&!o?"border-border-error focus-within:ring-border-error":"border-border-normal focus-within:ring-border-focus",N),children:[r?e.jsxs("div",{className:"flex flex-row gap-2 items-center min-w-0",children:[e.jsx(m,{ellipsis:!0,children:r.name}),e.jsxs(m,{color:"muted",variant:"xsmall",nowrap:!0,children:[r.size.toFixed(2)," kb"]})]}):e.jsx(m,{ellipsis:!0,children:y}),e.jsx("input",{accept:E,className:"absolute inset-0 opacity-0 cursor-pointer focus:outline-hidden",disabled:o,id:f??p,name:p,onChange:q,ref:_,type:"file",...R}),r&&e.jsx(z,{className:"cursor-pointer z-10",icon:C,size:"xs",onClick:n=>{var a;n.preventDefault(),n.stopPropagation(),(a=d.current)!=null&&a.value&&(d.current.value=""),t==null||t(null),x(null)}})]})})})});try{j.displayName="FileInput",j.__docgenInfo={description:"",displayName:"FileInput",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},validExtensions:{defaultValue:null,description:"",name:"validExtensions",required:!0,type:{name:'("svg" | "png" | "jpeg" | "jpg" | "images" | "pdf" | "mp4" | "csv" | "json" | "gif" | "webp")[]'}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!1,type:{name:"((value: File | null) => void)"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},trailDescription:{defaultValue:null,description:"",name:"trailDescription",required:!1,type:{name:"ReactNode"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},labelLocation:{defaultValue:null,description:"",name:"labelLocation",required:!1,type:{name:'"hidden" | "top" | "left" | "right" | null'}}}}}catch{}export{j as F};
