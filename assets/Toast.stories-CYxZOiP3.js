import{r as n,j as r}from"./iframe-BdNJ3tS_.js";import{c as ie,d as _e,bT as Ie}from"./YoutubeIcon-DEJBtFXw.js";import"./SearchIcon-CS4SWwZk.js";import{B as je}from"./Button-DOAZXdZC.js";import{C as ue}from"./Card-B7JvHbFm.js";import{r as De}from"./index-DAX1YB6G.js";import{b as Ne,a as C,P as I,c as Ae,f as Fe,u as Le}from"./index-BEXvY1IK.js";import{u as de}from"./index-DhWVUv1C.js";import{c as Me}from"./index-DUVRQ_Qq.js";import{R as Oe,P as ke,B as Ve}from"./index-BC2XWsEY.js";import{P as Ke}from"./index-Dw1YjwRx.js";import{u as U}from"./index-DkahqK_5.js";import{a as pe}from"./index-D52DoBR6.js";import{a as We}from"./index-Cn1xQXcm.js";import{I as He}from"./IconButton-DVQG-JLY.js";import{T as ce}from"./Text-0pqb9V3N.js";import{m as $e}from"./proxy-aqHX3dUG.js";import{A as Be}from"./index-CV6oM7Jk.js";import"./preload-helper-PPVm8Dsz.js";import"./index-BFBpQ4u7.js";import"./styles-DSBOcsIh.js";import"./index-Bmp3b_ZE.js";var re="ToastProvider",[se,qe,Ue]=Me("Toast"),[fe]=Ae("Toast",[Ue]),[Xe,Y]=fe(re),me=e=>{const{__scopeToast:s,label:o="Notification",duration:t=5e3,swipeDirection:a="right",swipeThreshold:u=50,children:p}=e,[v,T]=n.useState(null),[l,g]=n.useState(0),x=n.useRef(!1),j=n.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${re}\`. Expected non-empty \`string\`.`),r.jsx(se.Provider,{scope:s,children:r.jsx(Xe,{scope:s,label:o,duration:t,swipeDirection:a,swipeThreshold:u,toastCount:l,viewport:v,onViewportChange:T,onToastAdd:n.useCallback(()=>g(S=>S+1),[]),onToastRemove:n.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:j,children:p})})};me.displayName=re;var ve="ToastViewport",Ye=["F8"],J="toast.viewportPause",Z="toast.viewportResume",Te=n.forwardRef((e,s)=>{const{__scopeToast:o,hotkey:t=Ye,label:a="Notifications ({hotkey})",...u}=e,p=Y(ve,o),v=qe(o),T=n.useRef(null),l=n.useRef(null),g=n.useRef(null),x=n.useRef(null),j=de(s,x,p.onViewportChange),S=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=p.toastCount>0;n.useEffect(()=>{const c=h=>{t.length!==0&&t.every(m=>h[m]||h.code===m)&&x.current?.focus()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[t]),n.useEffect(()=>{const c=T.current,h=x.current;if(R&&c&&h){const f=()=>{if(!p.isClosePausedRef.current){const w=new CustomEvent(J);h.dispatchEvent(w),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const w=new CustomEvent(Z);h.dispatchEvent(w),p.isClosePausedRef.current=!1}},y=w=>{!c.contains(w.relatedTarget)&&m()},E=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",f),c.addEventListener("focusout",y),c.addEventListener("pointermove",f),c.addEventListener("pointerleave",E),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",f),c.removeEventListener("focusout",y),c.removeEventListener("pointermove",f),c.removeEventListener("pointerleave",E),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[R,p.isClosePausedRef]);const d=n.useCallback(({tabbingDirection:c})=>{const f=v().map(m=>{const y=m.ref.current,E=[y,...ct(y)];return c==="forwards"?E:E.reverse()});return(c==="forwards"?f.reverse():f).flat()},[v]);return n.useEffect(()=>{const c=x.current;if(c){const h=f=>{const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const E=document.activeElement,w=f.shiftKey;if(f.target===c&&w){l.current?.focus();return}const N=d({tabbingDirection:w?"backwards":"forwards"}),O=N.findIndex(_=>_===E);G(N.slice(O+1))?f.preventDefault():w?l.current?.focus():g.current?.focus()}};return c.addEventListener("keydown",h),()=>c.removeEventListener("keydown",h)}},[v,d]),r.jsxs(Ve,{ref:T,role:"region","aria-label":a.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&r.jsx(ee,{ref:l,onFocusFromOutsideViewport:()=>{const c=d({tabbingDirection:"forwards"});G(c)}}),r.jsx(se.Slot,{scope:o,children:r.jsx(I.ol,{tabIndex:-1,...u,ref:j})}),R&&r.jsx(ee,{ref:g,onFocusFromOutsideViewport:()=>{const c=d({tabbingDirection:"backwards"});G(c)}})]})});Te.displayName=ve;var we="ToastFocusProxy",ee=n.forwardRef((e,s)=>{const{__scopeToast:o,onFocusFromOutsideViewport:t,...a}=e,u=Y(we,o);return r.jsx(pe,{tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:p=>{const v=p.relatedTarget;!u.viewport?.contains(v)&&t()}})});ee.displayName=we;var L="Toast",ze="toast.swipeStart",Qe="toast.swipeMove",Ge="toast.swipeCancel",Je="toast.swipeEnd",xe=n.forwardRef((e,s)=>{const{forceMount:o,open:t,defaultOpen:a,onOpenChange:u,...p}=e,[v,T]=Ne({prop:t,defaultProp:a??!0,onChange:u,caller:L});return r.jsx(Ke,{present:o||v,children:r.jsx(tt,{open:v,...p,ref:s,onClose:()=>T(!1),onPause:U(e.onPause),onResume:U(e.onResume),onSwipeStart:C(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:C(e.onSwipeMove,l=>{const{x:g,y:x}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:C(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:C(e.onSwipeEnd,l=>{const{x:g,y:x}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),T(!1)})})})});xe.displayName=L;var[Ze,et]=fe(L,{onClose(){}}),tt=n.forwardRef((e,s)=>{const{__scopeToast:o,type:t="foreground",duration:a,open:u,onClose:p,onEscapeKeyDown:v,onPause:T,onResume:l,onSwipeStart:g,onSwipeMove:x,onSwipeCancel:j,onSwipeEnd:S,...R}=e,d=Y(L,o),[c,h]=n.useState(null),f=de(s,i=>h(i)),m=n.useRef(null),y=n.useRef(null),E=a||d.duration,w=n.useRef(0),D=n.useRef(E),M=n.useRef(0),{onToastAdd:N,onToastRemove:O}=d,_=U(()=>{c?.contains(document.activeElement)&&d.viewport?.focus(),p()}),k=n.useCallback(i=>{!i||i===1/0||(window.clearTimeout(M.current),w.current=new Date().getTime(),M.current=window.setTimeout(_,i))},[_]);n.useEffect(()=>{const i=d.viewport;if(i){const P=()=>{k(D.current),l?.()},b=()=>{const A=new Date().getTime()-w.current;D.current=D.current-A,window.clearTimeout(M.current),T?.()};return i.addEventListener(J,b),i.addEventListener(Z,P),()=>{i.removeEventListener(J,b),i.removeEventListener(Z,P)}}},[d.viewport,E,T,l,k]),n.useEffect(()=>{u&&!d.isClosePausedRef.current&&k(E)},[u,E,d.isClosePausedRef,k]),n.useEffect(()=>(N(),()=>O()),[N,O]);const ne=n.useMemo(()=>c?Pe(c):null,[c]);return d.viewport?r.jsxs(r.Fragment,{children:[ne&&r.jsx(rt,{__scopeToast:o,role:"status","aria-live":t==="foreground"?"assertive":"polite",children:ne}),r.jsx(Ze,{scope:o,onClose:_,children:De.createPortal(r.jsx(se.ItemSlot,{scope:o,children:r.jsx(Oe,{asChild:!0,onEscapeKeyDown:C(v,()=>{d.isFocusedToastEscapeKeyDownRef.current||_(),d.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(I.li,{tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":d.swipeDirection,...R,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:C(e.onKeyDown,i=>{i.key==="Escape"&&(v?.(i.nativeEvent),i.nativeEvent.defaultPrevented||(d.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:C(e.onPointerDown,i=>{i.button===0&&(m.current={x:i.clientX,y:i.clientY})}),onPointerMove:C(e.onPointerMove,i=>{if(!m.current)return;const P=i.clientX-m.current.x,b=i.clientY-m.current.y,A=!!y.current,F=["left","right"].includes(d.swipeDirection),V=["left","up"].includes(d.swipeDirection)?Math.min:Math.max,Se=F?V(0,P):0,Re=F?0:V(0,b),Q=i.pointerType==="touch"?10:2,K={x:Se,y:Re},ae={originalEvent:i,delta:K};A?(y.current=K,W(Qe,x,ae,{discrete:!1})):le(K,d.swipeDirection,Q)?(y.current=K,W(ze,g,ae,{discrete:!1}),i.target.setPointerCapture(i.pointerId)):(Math.abs(P)>Q||Math.abs(b)>Q)&&(m.current=null)}),onPointerUp:C(e.onPointerUp,i=>{const P=y.current,b=i.target;if(b.hasPointerCapture(i.pointerId)&&b.releasePointerCapture(i.pointerId),y.current=null,m.current=null,P){const A=i.currentTarget,F={originalEvent:i,delta:P};le(P,d.swipeDirection,d.swipeThreshold)?W(Je,S,F,{discrete:!0}):W(Ge,j,F,{discrete:!0}),A.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),d.viewport)})]}):null}),rt=e=>{const{__scopeToast:s,children:o,...t}=e,a=Y(L,s),[u,p]=n.useState(!1),[v,T]=n.useState(!1);return at(()=>p(!0)),n.useEffect(()=>{const l=window.setTimeout(()=>T(!0),1e3);return()=>window.clearTimeout(l)},[]),v?null:r.jsx(ke,{asChild:!0,children:r.jsx(pe,{...t,children:u&&r.jsxs(r.Fragment,{children:[a.label," ",o]})})})},st="ToastTitle",he=n.forwardRef((e,s)=>{const{__scopeToast:o,...t}=e;return r.jsx(I.div,{...t,ref:s})});he.displayName=st;var ot="ToastDescription",ye=n.forwardRef((e,s)=>{const{__scopeToast:o,...t}=e;return r.jsx(I.div,{...t,ref:s})});ye.displayName=ot;var Ee="ToastAction",nt=n.forwardRef((e,s)=>{const{altText:o,...t}=e;return o.trim()?r.jsx(Ce,{altText:o,asChild:!0,children:r.jsx(oe,{...t,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ee}\`. Expected non-empty \`string\`.`),null)});nt.displayName=Ee;var ge="ToastClose",oe=n.forwardRef((e,s)=>{const{__scopeToast:o,...t}=e,a=et(ge,o);return r.jsx(Ce,{asChild:!0,children:r.jsx(I.button,{type:"button",...t,ref:s,onClick:C(e.onClick,a.onClose)})})});oe.displayName=ge;var Ce=n.forwardRef((e,s)=>{const{__scopeToast:o,altText:t,...a}=e;return r.jsx(I.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...a,ref:s})});function Pe(e){const s=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&s.push(t.textContent),it(t)){const a=t.ariaHidden||t.hidden||t.style.display==="none",u=t.dataset.radixToastAnnounceExclude==="";if(!a)if(u){const p=t.dataset.radixToastAnnounceAlt;p&&s.push(p)}else s.push(...Pe(t))}}),s}function W(e,s,o,{discrete:t}){const a=o.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});s&&a.addEventListener(e,s,{once:!0}),t?Fe(a,u):a.dispatchEvent(u)}var le=(e,s,o=0)=>{const t=Math.abs(e.x),a=Math.abs(e.y),u=t>a;return s==="left"||s==="right"?u&&t>o:!u&&a>o};function at(e=()=>{}){const s=U(e);Le(()=>{let o=0,t=0;return o=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(t)}},[s])}function it(e){return e.nodeType===e.ELEMENT_NODE}function ct(e){const s=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const a=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||a?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)s.push(o.currentNode);return s}function G(e){const s=document.activeElement;return e.some(o=>o===s?!0:(o.focus(),document.activeElement!==s))}var lt=me,ut=Te,dt=xe,pt=he,ft=ye,mt=oe;const vt=We(["will-change-transform will-change-opacity","data-[swipe=move]:translate-x-(--radix-toast-swipe-move-x)","data-[swipe=cancel]:translate-x-0 data-[swipe=cancel]:transition-transform data-[swipe=cancel]:duration-200 data-[swipe=cancel]:ease-out","data-[swipe=end]:animate-swipe-out"],{variants:{variant:{normal:"",success:"text-positive",error:"text-negative"}},defaultVariants:{variant:"normal"}}),be=n.createContext(null),te=e=>{const{children:s,...o}=e,[t,a]=n.useState(new Set);return r.jsxs(lt,{...o,children:[r.jsxs(be.Provider,{value:a,children:[s,r.jsx(Be,{children:Array.from(t).map(u=>r.jsx(X,{...u},u.id))})]}),r.jsx(Tt,{})]})},Tt=()=>r.jsx(ut,{className:"fixed right-0 bottom-0 focus:outline-hidden w-full flex flex-col gap-2 p-4 pt-0 z-1000 list-none max-w-[532px]"}),X=e=>{const{id:s,variant:o,title:t,description:a,icon:u,isDismissible:p=!0,...v}=e,T=()=>{if(u)return r.jsx(u,{});switch(o){case"success":return r.jsx("div",{className:"bg-positive text-white rounded-full w-8 h-8 place-items-center min-w-0 shrink-0 flex items-center justify-center",children:r.jsx(_e,{})});case"error":return r.jsx("div",{className:"bg-negative text-white rounded-full w-8 h-8 place-items-center min-w-0 shrink-0 flex items-center justify-center",children:r.jsx(ie,{})});default:return null}};return r.jsx(dt,{className:vt({variant:o}),open:!0,forceMount:!0,asChild:!0,...v,children:r.jsx(ue,{className:"rounded-md bg-background-raised relative flex justify-between w-full shadow-primary",asChild:!0,children:r.jsxs($e.li,{layoutId:s,layout:!0,initial:{x:"100%"},animate:{x:0},exit:{y:"100%",opacity:0},children:[r.jsxs("div",{className:"flex gap-3 items-center",children:[T(),r.jsxs("div",{className:"flex flex-col gap-1",children:[t&&r.jsx(pt,{children:r.jsx(ce,{variant:"normal",fontWeight:"bold",color:"secondary",asChild:!0,children:r.jsx("div",{children:t})})}),r.jsx(ft,{children:r.jsx(ce,{variant:"normal",fontWeight:"medium",color:"muted",asChild:!0,children:r.jsx("div",{children:a})})})]})]}),p&&r.jsx(mt,{"aria-label":"Close",asChild:!0,children:r.jsx(He,{icon:ie,size:"xs"})})]})})})},wt=()=>{const e=n.useContext(be);return s=>{const o={...s,id:Math.random().toString(36).slice(2,12),onOpenChange:t=>{t||e(a=>(a.delete(o),new Set([...a])))}};e(t=>new Set([...t,o]))}};try{te.displayName="ToastProvider",te.__docgenInfo={description:"",displayName:"ToastProvider",props:{}}}catch{}try{X.displayName="Toast",X.__docgenInfo={description:"",displayName:"Toast",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"success"'},{value:'"error"'}]}},isDismissible:{defaultValue:null,description:"",name:"isDismissible",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ComponentType<IconProps>"}}}}}catch{}const Wt={title:"Components/Toast",component:X},z=e=>r.jsx(te,{swipeDirection:"right",children:r.jsx(xt,{...e})}),xt=e=>{const s=wt();return r.jsx(ue,{children:r.jsx(je,{onClick:()=>{s({...e,title:e.title+" "+new Date().getMilliseconds()})},children:"Raise a Toast"})})},H={render:z,args:{title:"Title",description:"Description"}},$={render:z,args:{icon:Ie,title:"Transaction Sent",description:"Waiting for confirmation"}},B={render:z,args:{title:"Success",description:"Description",variant:"success"}},q={render:z,args:{title:"Error",description:'The transaction failed to send because the relayer encountered an error. "Not enough gas"',variant:"error"}};H.parameters={...H.parameters,docs:{...H.parameters?.docs,source:{originalSource:`{
  render: StoryWrapper,
  args: {
    title: 'Title',
    description: 'Description'
  }
}`,...H.parameters?.docs?.source}}};$.parameters={...$.parameters,docs:{...$.parameters?.docs,source:{originalSource:`{
  render: StoryWrapper,
  args: {
    icon: TransactionIcon,
    title: 'Transaction Sent',
    description: 'Waiting for confirmation'
  }
}`,...$.parameters?.docs?.source}}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  render: StoryWrapper,
  args: {
    title: 'Success',
    description: 'Description',
    variant: 'success'
  }
}`,...B.parameters?.docs?.source}}};q.parameters={...q.parameters,docs:{...q.parameters?.docs,source:{originalSource:`{
  render: StoryWrapper,
  args: {
    title: 'Error',
    description: 'The transaction failed to send because the relayer encountered an error. "Not enough gas"',
    variant: 'error'
  }
}`,...q.parameters?.docs?.source}}};const Ht=["Default","WithIcon","Success","Error"];export{H as Default,q as Error,B as Success,$ as WithIcon,Ht as __namedExportsOrder,Wt as default};
