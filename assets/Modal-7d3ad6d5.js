import{r as e}from"./index-d8ade8ea.js";import{u as N,s as Z,a as J,P as Q,w as X,L as ee,b as te,e as oe,m as k}from"./motion-7df5a7b3.js";import{j as b,a as I}from"./jsx-runtime-a9c13c85.js";import{_ as g}from"./extends-98964cd2.js";import{$ as ne,b as re,h as ae,c as L,a as V,d as _}from"./index.module-d15610cf.js";import{$ as D}from"./index.module-a9b21657.js";import{c as ce,a as se,b as le,$ as ie}from"./Combination-78ef0d5c.js";import{$ as de}from"./index.module-f17d4a85.js";import{$ as O}from"./index.module-732cca0e.js";import{h as ue}from"./index-807b81f6.js";import{B as A}from"./Box-fa0ac857.js";import{c as fe}from"./WarningIcon-25714511.js";import{I as pe}from"./IconButton-752759c9.js";import{S as me}from"./Scroll-99234cc4.js";import"./atoms-37a3518e.js";import{c as $e}from"./vanilla-extract-recipes-createRuntimeFn.esm-d30eb010.js";function z(){const t=e.useRef(!1);return N(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function be(){const t=z(),[s,o]=e.useState(0),n=e.useCallback(()=>{t.current&&o(s+1)},[s]);return[e.useCallback(()=>Z.postRender(n),[n]),s]}class ge extends e.Component{getSnapshotBeforeUpdate(s){const o=this.props.childRef.current;if(o&&s.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=o.offsetHeight||0,n.width=o.offsetWidth||0,n.top=o.offsetTop,n.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ve({children:t,isPresent:s}){const o=e.useId(),n=e.useRef(null),a=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:r,height:c,top:l,left:f}=a.current;if(s||!n.current||!r||!c)return;n.current.dataset.motionPopId=o;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${c}px !important;
            top: ${l}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[s]),e.createElement(ge,{isPresent:s,childRef:n,sizeRef:a},e.cloneElement(t,{ref:n}))}const M=({children:t,initial:s,isPresent:o,onExitComplete:n,custom:a,presenceAffectsLayout:r,mode:c})=>{const l=J(he),f=e.useId(),p=e.useMemo(()=>({id:f,initial:s,isPresent:o,custom:a,onExitComplete:u=>{l.set(u,!0);for(const i of l.values())if(!i)return;n&&n()},register:u=>(l.set(u,!1),()=>l.delete(u))}),r?void 0:[o]);return e.useMemo(()=>{l.forEach((u,i)=>l.set(i,!1))},[o]),e.useEffect(()=>{!o&&!l.size&&n&&n()},[o]),c==="popLayout"&&(t=e.createElement(ve,{isPresent:o},t)),e.createElement(Q.Provider,{value:p},t)};function he(){return new Map}const h=t=>t.key||"";function ye(t,s){t.forEach(o=>{const n=h(o);s.set(n,o)})}function Ce(t){const s=[];return e.Children.forEach(t,o=>{e.isValidElement(o)&&s.push(o)}),s}const rt=({children:t,custom:s,initial:o=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:r=!0,mode:c="sync"})=>{a&&(c="wait",X(!1,"Replace exitBeforeEnter with mode='wait'"));let[l]=be();const f=e.useContext(ee).forceRender;f&&(l=f);const p=z(),u=Ce(t);let i=u;const m=new Set,y=e.useRef(i),x=e.useRef(new Map).current,E=e.useRef(!0);if(N(()=>{E.current=!1,ye(u,x),y.current=i}),te(()=>{E.current=!0,x.clear(),m.clear()}),E.current)return e.createElement(e.Fragment,null,i.map(d=>e.createElement(M,{key:h(d),isPresent:!0,initial:o?void 0:!1,presenceAffectsLayout:r,mode:c},d)));i=[...i];const R=y.current.map(h),w=u.map(h),K=R.length;for(let d=0;d<K;d++){const $=R[d];w.indexOf($)===-1&&m.add($)}return c==="wait"&&m.size&&(i=[]),m.forEach(d=>{if(w.indexOf(d)!==-1)return;const $=x.get(d);if(!$)return;const U=R.indexOf(d),G=()=>{x.delete(d),m.delete(d);const Y=y.current.findIndex(W=>W.key===d);if(y.current.splice(Y,1),!m.size){if(y.current=u,p.current===!1)return;l(),n&&n()}};i.splice(U,0,e.createElement(M,{key:h($),isPresent:!1,onExitComplete:G,custom:s,presenceAffectsLayout:r,mode:c},$))}),i=i.map(d=>{const $=d.key;return m.has($)?d:e.createElement(M,{key:h(d),isPresent:!0,presenceAffectsLayout:r,mode:c},d)}),oe!=="production"&&c==="wait"&&i.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),e.createElement(e.Fragment,null,m.size?i:i.map(d=>e.cloneElement(d)))},S="Dialog",[q,at]=ne(S),[xe,v]=q(S),_e=t=>{const{__scopeDialog:s,children:o,open:n,defaultOpen:a,onOpenChange:r,modal:c=!0}=t,l=e.useRef(null),f=e.useRef(null),[p=!1,u]=re({prop:n,defaultProp:a,onChange:r});return e.createElement(xe,{scope:s,triggerRef:l,contentRef:f,contentId:D(),titleId:D(),descriptionId:D(),open:p,onOpenChange:u,onOpenToggle:e.useCallback(()=>u(i=>!i),[u]),modal:c},o)},T="DialogPortal",[Ee,j]=q(T,{forceMount:void 0}),Re=t=>{const{__scopeDialog:s,forceMount:o,children:n,container:a}=t,r=v(T,s);return e.createElement(Ee,{scope:s,forceMount:o},e.Children.map(n,c=>e.createElement(O,{present:o||r.open},e.createElement(de,{asChild:!0,container:a},c))))},P="DialogOverlay",De=e.forwardRef((t,s)=>{const o=j(P,t.__scopeDialog),{forceMount:n=o.forceMount,...a}=t,r=v(P,t.__scopeDialog);return r.modal?e.createElement(O,{present:n||r.open},e.createElement(Me,g({},a,{ref:s}))):null}),Me=e.forwardRef((t,s)=>{const{__scopeDialog:o,...n}=t,a=v(P,o);return e.createElement(ce,{as:ae,allowPinchZoom:!0,shards:[a.contentRef]},e.createElement(L.div,g({"data-state":H(a.open)},n,{ref:s,style:{pointerEvents:"auto",...n.style}})))}),C="DialogContent",Pe=e.forwardRef((t,s)=>{const o=j(C,t.__scopeDialog),{forceMount:n=o.forceMount,...a}=t,r=v(C,t.__scopeDialog);return e.createElement(O,{present:n||r.open},r.modal?e.createElement(Oe,g({},a,{ref:s})):e.createElement(we,g({},a,{ref:s})))}),Oe=e.forwardRef((t,s)=>{const o=v(C,t.__scopeDialog),n=e.useRef(null),a=V(s,o.contentRef,n);return e.useEffect(()=>{const r=n.current;if(r)return ue(r)},[]),e.createElement(B,g({},t,{ref:a,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(t.onCloseAutoFocus,r=>{var c;r.preventDefault(),(c=o.triggerRef.current)===null||c===void 0||c.focus()}),onPointerDownOutside:_(t.onPointerDownOutside,r=>{const c=r.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0;(c.button===2||l)&&r.preventDefault()}),onFocusOutside:_(t.onFocusOutside,r=>r.preventDefault())}))}),we=e.forwardRef((t,s)=>{const o=v(C,t.__scopeDialog),n=e.useRef(!1);return e.createElement(B,g({},t,{ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var r;if((r=t.onCloseAutoFocus)===null||r===void 0||r.call(t,a),!a.defaultPrevented){var c;n.current||(c=o.triggerRef.current)===null||c===void 0||c.focus(),a.preventDefault()}n.current=!1},onInteractOutside:a=>{var r,c;(r=t.onInteractOutside)===null||r===void 0||r.call(t,a),a.defaultPrevented||(n.current=!0);const l=a.target;((c=o.triggerRef.current)===null||c===void 0?void 0:c.contains(l))&&a.preventDefault()}}))}),B=e.forwardRef((t,s)=>{const{__scopeDialog:o,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:r,...c}=t,l=v(C,o),f=e.useRef(null),p=V(s,f);return se(),e.createElement(e.Fragment,null,e.createElement(le,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:r},e.createElement(ie,g({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":H(l.open)},c,{ref:p,onDismiss:()=>l.onOpenChange(!1)}))),!1)}),ke="DialogClose",Ie=e.forwardRef((t,s)=>{const{__scopeDialog:o,...n}=t,a=v(ke,o);return e.createElement(L.button,g({type:"button"},n,{ref:s,onClick:_(t.onClick,()=>a.onOpenChange(!1))}))});function H(t){return t?"open":"closed"}const Ae=_e,Fe=Re,Ne=De,Le=Pe,Ve=Ie;var ze="fyvr1xk fyvr1zc fyvr1114 fyvr112w fyvr11dg fyvr1oo fyvr1jc fyvr11j1",Se=$e({defaultClassName:"_5b32m95 fyvr11hk fyvr11hw fyvr11cs fyvr11dw fyvr11dk fyvr11kx fyvr1l4 fyvr12oc",variantClassNames:{size:{sm:"_5b32m96",lg:"_5b32m97"},autoHeight:{true:"_5b32m98"}},defaultVariants:{},compoundVariants:[[{autoHeight:!0,size:"lg"},"_5b32m99"]]}),qe="fyvr11dk fyvr1jc fyvr1mw fyvr1oo fyvr1l4",Te="fyvr11f8 fyvr11gg fyvr11cs fyvr11dk fyvr11j1 fyvr1jc fyvr1mw fyvr1oo fyvr1l4";const F=t=>{const{autoHeight:s=!1,backdropColor:o="gradientBackdrop",children:n,disableAnimation:a=!1,isDismissible:r=!0,onClose:c,scroll:l=!0,size:f="lg",overlayProps:p,contentProps:u}=t;return b(Ae,{defaultOpen:!0,onOpenChange:c,children:b(Fe,{forceMount:!0,children:I(A,{className:Te,children:[b(A,{as:Ne,asChild:!0,background:o,className:qe,forceMount:!0,children:b(k.div,{initial:a?!1:{opacity:0},animate:a?!1:{opacity:1},exit:a?void 0:{opacity:0},transition:{type:"tween",ease:"linear"},...p},"modal-overlay")}),b(Le,{asChild:!0,className:Se({autoHeight:s,size:f}),forceMount:!0,onEscapeKeyDown:i=>{r?c==null||c():i.preventDefault()},onInteractOutside:i=>{r?c==null||c():i.preventDefault()},children:I(k.div,{initial:a?!1:{y:"100%"},animate:a?!1:{y:0},exit:a?void 0:{y:"100%"},transition:{type:"tween",ease:"easeOut"},...u,children:[l?b(me,{children:n}):n,r&&b(Ve,{asChild:!0,children:b(pe,{icon:fe,size:"xs",className:ze,"aria-label":"Close"})})]},"modal-content")})]})})})};try{F.displayName="Modal",F.__docgenInfo={description:"",displayName:"Modal",props:{backdropColor:{defaultValue:null,description:"",name:"backdropColor",required:!1,type:{name:'ConditionalStyle<Values<MapLeafNodes<{ arbitrumDark: string; avalanceDark: string; bscDark: string; ethereumDark: string; gnosisDark: string; polygonDark: string; arbitrumLight: string; avalanceLight: string; bscLight: string; ... 28 more ...; transparent: "transparent"; }, CSSVarFunction>, { ...; }>>'}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disableAnimation:{defaultValue:null,description:"",name:"disableAnimation",required:!1,type:{name:"boolean"}},isDismissible:{defaultValue:null,description:"",name:"isDismissible",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},scroll:{defaultValue:null,description:"",name:"scroll",required:!1,type:{name:"boolean"}},overlayProps:{defaultValue:null,description:"",name:"overlayProps",required:!1,type:{name:"MotionProps"}},contentProps:{defaultValue:null,description:"",name:"contentProps",required:!1,type:{name:"MotionProps"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"lg"'}]}},autoHeight:{defaultValue:null,description:"",name:"autoHeight",required:!1,type:{name:"boolean"}}}}}catch{}export{rt as A,F as M};
//# sourceMappingURL=Modal-7d3ad6d5.js.map
