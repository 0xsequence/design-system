var Ke=Object.defineProperty;var _=(s,l)=>Ke(s,"name",{value:l,configurable:!0});import{$ as qe,a as Se,d as B,b as D,_ as P,c as R,e as Y,f as Ue,g as je}from"./index.module.b72dfbbb.js";import{r as e,j as I,a as re}from"./jsx-runtime.d1999ebe.js";import{r as _e}from"./index.c15027db.js";import{$ as ze,a as Ge}from"./index.module.044d309f.js";import{$ as Ye}from"./index.module.4f7282b1.js";import{h as Xe,a as Ze,$ as Je,b as Qe}from"./index.8fc761e9.js";import{$ as xe}from"./index.module.332f3ad4.js";import{$ as et}from"./index.module.d8a7778c.js";import{a as tt}from"./index.module.e96d79da.js";import{c as ot,B as Ce}from"./Box.476646d9.js";import{L as nt}from"./LabelledField.cec874e3.js";import{T as rt}from"./Text.4bce75ac.js";import{g as ye}from"./WarningIcon.34c9b5ed.js";/* empty css                             *//* empty css                              */function Ee(s,[l,o]){return Math.min(o,Math.max(l,s))}_(Ee,"$ae6933e535247d3d$export$7d15b64cf5a3a4c4");const ct=[" ","Enter","ArrowUp","ArrowDown"],st=[" ","Enter"],se="Select",[ae,Ie,at]=ze(se),[X,io]=qe(se,[at]),[lt,K]=X(se),[it,dt]=X(se),pt=_(s=>{const{__scopeSelect:l,children:o,open:d,defaultOpen:i,onOpenChange:n,value:r,defaultValue:x,onValueChange:t,dir:f,name:p,autoComplete:v,disabled:S,required:a}=s,[$,C]=e.exports.useState(null),[y,u]=e.exports.useState(null),[m,N]=e.exports.useState(!1),Z=Ge(f),[J=!1,q]=Se({prop:d,defaultProp:i,onChange:n}),[U,Q]=Se({prop:r,defaultProp:x,onChange:t}),j=e.exports.useRef(null),F=$?Boolean($.closest("form")):!0,[V,ee]=e.exports.useState(new Set),W=Array.from(V).map(T=>T.props.value).join(";");return e.exports.createElement(lt,{required:a,scope:l,trigger:$,onTriggerChange:C,valueNode:y,onValueNodeChange:u,valueNodeHasChildren:m,onValueNodeHasChildrenChange:N,contentId:xe(),value:U,onValueChange:Q,open:J,onOpenChange:q,dir:Z,triggerPointerDownPosRef:j,disabled:S},e.exports.createElement(ae.Provider,{scope:l},e.exports.createElement(it,{scope:s.__scopeSelect,onNativeOptionAdd:e.exports.useCallback(T=>{ee(z=>new Set(z).add(T))},[]),onNativeOptionRemove:e.exports.useCallback(T=>{ee(z=>{const te=new Set(z);return te.delete(T),te})},[])},o)),F?e.exports.createElement(Pe,{key:W,"aria-hidden":!0,required:a,tabIndex:-1,name:p,autoComplete:v,value:U,onChange:T=>Q(T.target.value),disabled:S},U===void 0?e.exports.createElement("option",{value:""}):null,Array.from(V)):null)},"$cc7e05a45900e73f$export$ef9b1a59e592288f"),ut="SelectTrigger",ft=e.exports.forwardRef((s,l)=>{const{__scopeSelect:o,disabled:d=!1,...i}=s,n=K(ut,o),r=n.disabled||d,x=B(l,n.onTriggerChange),t=Ie(o),[f,p,v]=Ne(a=>{const $=t().filter(u=>!u.disabled),C=$.find(u=>u.value===n.value),y=Oe($,a,C);y!==void 0&&n.onValueChange(y.value)}),S=_(()=>{r||(n.onOpenChange(!0),v())},"handleOpen");return e.exports.createElement(D.button,P({type:"button",role:"combobox","aria-controls":n.contentId,"aria-expanded":n.open,"aria-required":n.required,"aria-autocomplete":"none",dir:n.dir,"data-state":n.open?"open":"closed",disabled:r,"data-disabled":r?"":void 0,"data-placeholder":n.value===void 0?"":void 0},i,{ref:x,onClick:R(i.onClick,a=>{a.currentTarget.focus()}),onPointerDown:R(i.onPointerDown,a=>{const $=a.target;$.hasPointerCapture(a.pointerId)&&$.releasePointerCapture(a.pointerId),a.button===0&&a.ctrlKey===!1&&(S(),n.triggerPointerDownPosRef.current={x:Math.round(a.pageX),y:Math.round(a.pageY)},a.preventDefault())}),onKeyDown:R(i.onKeyDown,a=>{const $=f.current!=="";!(a.ctrlKey||a.altKey||a.metaKey)&&a.key.length===1&&p(a.key),!($&&a.key===" ")&&ct.includes(a.key)&&(S(),a.preventDefault())})}))}),mt="SelectValue",xt=e.exports.forwardRef((s,l)=>{const{__scopeSelect:o,className:d,style:i,children:n,placeholder:r,...x}=s,t=K(mt,o),{onValueNodeHasChildrenChange:f}=t,p=n!==void 0,v=B(l,t.onValueNodeChange);return Y(()=>{f(p)},[f,p]),e.exports.createElement(D.span,P({},x,{ref:v,style:{pointerEvents:"none"}}),t.value===void 0&&r!==void 0?r:n)}),bt=e.exports.forwardRef((s,l)=>{const{__scopeSelect:o,children:d,...i}=s;return e.exports.createElement(D.span,P({"aria-hidden":!0},i,{ref:l}),d||"\u25BC")}),be="SelectContent",gt=e.exports.forwardRef((s,l)=>{const o=K(be,s.__scopeSelect),[d,i]=e.exports.useState();return Y(()=>{i(new DocumentFragment)},[]),e.exports.createElement(e.exports.Fragment,null,o.open?e.exports.createElement(ht,P({},s,{ref:l})):d?_e.exports.createPortal(e.exports.createElement(Re,{scope:s.__scopeSelect},e.exports.createElement(ae.Slot,{scope:s.__scopeSelect},e.exports.createElement("div",null,s.children))),d):null)}),M=10,[Re,ge]=X(be),ht=e.exports.forwardRef((s,l)=>{const{__scopeSelect:o,onCloseAutoFocus:d,...i}=s,n=K(be,o),[r,x]=e.exports.useState(null),[t,f]=e.exports.useState(null),[p,v]=e.exports.useState(null),S=B(l,c=>f(c)),[a,$]=e.exports.useState(null),[C,y]=e.exports.useState(null),u=Ie(o),[m,N]=e.exports.useState(!1),Z=e.exports.useRef(!0),J=e.exports.useRef(!1),q=e.exports.useRef(!1);e.exports.useEffect(()=>{if(t)return Xe(t)},[t]),Ze();const[U,Q]=e.exports.useState();Y(()=>{t&&Q(window.getComputedStyle(t).zIndex)},[t]);const j=e.exports.useCallback(c=>{const[g,...E]=u().map(w=>w.ref.current),[b]=E.slice(-1),h=document.activeElement;for(const w of c)if(w===h||(w==null||w.scrollIntoView({block:"nearest"}),w===g&&p&&(p.scrollTop=0),w===b&&p&&(p.scrollTop=p.scrollHeight),w==null||w.focus(),document.activeElement!==h))return},[u,p]),F=e.exports.useCallback(()=>{if(n.trigger&&n.valueNode&&r&&t&&p&&a&&C){const c=n.trigger.getBoundingClientRect(),g=t.getBoundingClientRect(),E=n.valueNode.getBoundingClientRect(),b=C.getBoundingClientRect();if(n.dir!=="rtl"){const A=b.left-g.left,k=E.left-A,L=c.left-k,H=c.width+L,de=Math.max(H,g.width),pe=window.innerWidth-M,ue=Ee(k,[M,pe-de]);r.style.minWidth=H+"px",r.style.left=ue+"px"}else{const A=g.right-b.right,k=window.innerWidth-E.right-A,L=window.innerWidth-c.right-k,H=c.width+L,de=Math.max(H,g.width),pe=window.innerWidth-M,ue=Ee(k,[M,pe-de]);r.style.minWidth=H+"px",r.style.right=ue+"px"}const h=u(),w=window.innerHeight-M*2,G=p.scrollHeight,O=window.getComputedStyle(t),le=parseInt(O.borderTopWidth,10),he=parseInt(O.paddingTop,10),$e=parseInt(O.borderBottomWidth,10),Ve=parseInt(O.paddingBottom,10),we=le+he+G+Ve+$e,Ae=Math.min(a.offsetHeight*5,we),ve=window.getComputedStyle(p),Le=parseInt(ve.paddingTop,10),He=parseInt(ve.paddingBottom,10),oe=c.top+c.height/2-M,Be=w-oe,ie=a.offsetHeight/2,Fe=a.offsetTop+ie,ne=le+he+Fe,We=we-ne;if(ne<=oe){const A=a===h[h.length-1].ref.current;r.style.bottom="0px";const k=t.clientHeight-p.offsetTop-p.offsetHeight,L=Math.max(Be,ie+(A?He:0)+k+$e),H=ne+L;r.style.height=H+"px"}else{const A=a===h[0].ref.current;r.style.top="0px";const L=Math.max(oe,le+p.offsetTop+(A?Le:0)+ie)+We;r.style.height=L+"px",p.scrollTop=ne-oe+p.offsetTop}r.style.margin=`${M}px 0`,r.style.minHeight=Ae+"px",r.style.maxHeight=w+"px",N(!0),requestAnimationFrame(()=>J.current=!0)}},[u,n.trigger,n.valueNode,r,t,p,a,C,n.dir]);Y(()=>F(),[F]);const V=e.exports.useCallback(()=>j([a,t]),[j,a,t]);e.exports.useEffect(()=>{m&&V()},[m,V]);const ee=e.exports.useCallback(c=>{c&&Z.current===!0&&(F(),V(),Z.current=!1)},[F,V]),{onOpenChange:W,triggerPointerDownPosRef:T}=n;e.exports.useEffect(()=>{if(t){let c={x:0,y:0};const g=_(b=>{var h,w,G,O;c={x:Math.abs(Math.round(b.pageX)-((h=(w=T.current)===null||w===void 0?void 0:w.x)!==null&&h!==void 0?h:0)),y:Math.abs(Math.round(b.pageY)-((G=(O=T.current)===null||O===void 0?void 0:O.y)!==null&&G!==void 0?G:0))}},"handlePointerMove"),E=_(b=>{c.x<=10&&c.y<=10?b.preventDefault():t.contains(b.target)||W(!1),document.removeEventListener("pointermove",g),T.current=null},"handlePointerUp");return T.current!==null&&(document.addEventListener("pointermove",g),document.addEventListener("pointerup",E,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",E,{capture:!0})}}},[t,W,T]),e.exports.useEffect(()=>{const c=_(()=>W(!1),"close");return window.addEventListener("blur",c),window.addEventListener("resize",c),()=>{window.removeEventListener("blur",c),window.removeEventListener("resize",c)}},[W]);const[z,te]=Ne(c=>{const g=u().filter(h=>!h.disabled),E=g.find(h=>h.ref.current===document.activeElement),b=Oe(g,c,E);b&&setTimeout(()=>b.ref.current.focus())}),ke=e.exports.useCallback((c,g,E)=>{const b=!q.current&&!E;(n.value!==void 0&&n.value===g||b)&&($(c),b&&(q.current=!0))},[n.value]),Me=e.exports.useCallback(()=>t==null?void 0:t.focus(),[t]),De=e.exports.useCallback((c,g,E)=>{const b=!q.current&&!E;(n.value!==void 0&&n.value===g||b)&&y(c)},[n.value]);return e.exports.createElement(Re,{scope:o,contentWrapper:r,content:t,viewport:p,onViewportChange:v,itemRefCallback:ke,selectedItem:a,onItemLeave:Me,itemTextRefCallback:De,selectedItemText:C,onScrollButtonChange:ee,isPositioned:m,shouldExpandOnScrollRef:J,searchRef:z},e.exports.createElement(Je,{as:Ue,allowPinchZoom:!0},e.exports.createElement("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U}},e.exports.createElement(Qe,{asChild:!0,trapped:n.open,onMountAutoFocus:c=>{c.preventDefault()},onUnmountAutoFocus:R(d,c=>{var g;(g=n.trigger)===null||g===void 0||g.focus({preventScroll:!0}),c.preventDefault()})},e.exports.createElement(Ye,P({role:"listbox",id:n.contentId,"data-state":n.open?"open":"closed",dir:n.dir,onContextMenu:c=>c.preventDefault()},i,{ref:S,style:{display:"flex",flexDirection:"column",boxSizing:"border-box",maxHeight:"100%",outline:"none",...i.style},disableOutsidePointerEvents:!0,onFocusOutside:c=>c.preventDefault(),onDismiss:()=>n.onOpenChange(!1),onKeyDown:R(i.onKeyDown,c=>{const g=c.ctrlKey||c.altKey||c.metaKey;if(c.key==="Tab"&&c.preventDefault(),!g&&c.key.length===1&&te(c.key),["ArrowUp","ArrowDown","Home","End"].includes(c.key)){let b=u().filter(h=>!h.disabled).map(h=>h.ref.current);if(["ArrowUp","End"].includes(c.key)&&(b=b.slice().reverse()),["ArrowUp","ArrowDown"].includes(c.key)){const h=c.target,w=b.indexOf(h);b=b.slice(w+1)}setTimeout(()=>j(b)),c.preventDefault()}})}))))))}),$t="SelectViewport",wt=e.exports.forwardRef((s,l)=>{const{__scopeSelect:o,...d}=s,i=ge($t,o),n=B(l,i.onViewportChange),r=e.exports.useRef(0);return e.exports.createElement(e.exports.Fragment,null,e.exports.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),e.exports.createElement(ae.Slot,{scope:o},e.exports.createElement(D.div,P({"data-radix-select-viewport":"",role:"presentation"},d,{ref:n,style:{position:"relative",flex:1,overflow:"auto",...d.style},onScroll:R(d.onScroll,x=>{const t=x.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const v=Math.abs(r.current-t.scrollTop);if(v>0){const S=window.innerHeight-M*2,a=parseFloat(f.style.minHeight),$=parseFloat(f.style.height),C=Math.max(a,$);if(C<S){const y=C+v,u=Math.min(S,y),m=y-u;f.style.height=u+"px",f.style.bottom==="0px"&&(t.scrollTop=m>0?m:0,f.style.justifyContent="flex-end")}}}r.current=t.scrollTop})}))))}),vt="SelectGroup",[St,Ct]=X(vt),yt=e.exports.forwardRef((s,l)=>{const{__scopeSelect:o,...d}=s,i=xe();return e.exports.createElement(St,{scope:o,id:i},e.exports.createElement(D.div,P({role:"group","aria-labelledby":i},d,{ref:l})))}),Et="SelectLabel",Tt=e.exports.forwardRef((s,l)=>{const{__scopeSelect:o,...d}=s,i=Ct(Et,o);return e.exports.createElement(D.div,P({id:i.id},d,{ref:l}))}),me="SelectItem",[_t,It]=X(me),Rt=e.exports.forwardRef((s,l)=>{const{__scopeSelect:o,value:d,disabled:i=!1,textValue:n,...r}=s,x=K(me,o),t=ge(me,o),f=x.value===d,[p,v]=e.exports.useState(n!=null?n:""),[S,a]=e.exports.useState(!1),$=B(l,u=>{var m;return(m=t.itemRefCallback)===null||m===void 0?void 0:m.call(t,u,d,i)}),C=xe(),y=_(()=>{i||(x.onValueChange(d),x.onOpenChange(!1))},"handleSelect");return e.exports.createElement(_t,{scope:o,value:d,disabled:i,textId:C,isSelected:f,onItemTextChange:e.exports.useCallback(u=>{v(m=>{var N;return m||((N=u==null?void 0:u.textContent)!==null&&N!==void 0?N:"").trim()})},[])},e.exports.createElement(ae.ItemSlot,{scope:o,value:d,disabled:i,textValue:p},e.exports.createElement(D.div,P({role:"option","aria-labelledby":C,"data-highlighted":S?"":void 0,"aria-selected":f&&S,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},r,{ref:$,onFocus:R(r.onFocus,()=>a(!0)),onBlur:R(r.onBlur,()=>a(!1)),onPointerUp:R(r.onPointerUp,y),onPointerMove:R(r.onPointerMove,u=>{if(i){var m;(m=t.onItemLeave)===null||m===void 0||m.call(t)}else u.currentTarget.focus({preventScroll:!0})}),onPointerLeave:R(r.onPointerLeave,u=>{if(u.currentTarget===document.activeElement){var m;(m=t.onItemLeave)===null||m===void 0||m.call(t)}}),onKeyDown:R(r.onKeyDown,u=>{var m;((m=t.searchRef)===null||m===void 0?void 0:m.current)!==""&&u.key===" "||(st.includes(u.key)&&y(),u.key===" "&&u.preventDefault())})}))))}),ce="SelectItemText",Pt=e.exports.forwardRef((s,l)=>{const{__scopeSelect:o,className:d,style:i,...n}=s,r=K(ce,o),x=ge(ce,o),t=It(ce,o),f=dt(ce,o),[p,v]=e.exports.useState(null),S=B(l,u=>v(u),t.onItemTextChange,u=>{var m;return(m=x.itemTextRefCallback)===null||m===void 0?void 0:m.call(x,u,t.value,t.disabled)}),a=p==null?void 0:p.textContent,$=e.exports.useMemo(()=>e.exports.createElement("option",{key:t.value,value:t.value,disabled:t.disabled},a),[t.disabled,t.value,a]),{onNativeOptionAdd:C,onNativeOptionRemove:y}=f;return Y(()=>(C($),()=>y($)),[C,y,$]),e.exports.createElement(e.exports.Fragment,null,e.exports.createElement(D.span,P({id:t.textId},n,{ref:S})),t.isSelected&&r.valueNode&&!r.valueNodeHasChildren?_e.exports.createPortal(n.children,r.valueNode):null)}),Pe=e.exports.forwardRef((s,l)=>{const{value:o,...d}=s,i=e.exports.useRef(null),n=B(l,i),r=et(o);return e.exports.useEffect(()=>{const x=i.current,t=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(t,"value").set;if(r!==o&&p){const v=new Event("change",{bubbles:!0});p.call(x,o),x.dispatchEvent(v)}},[r,o]),e.exports.createElement(tt,{asChild:!0},e.exports.createElement("select",P({},d,{ref:n,defaultValue:o})))});Pe.displayName="BubbleSelect";function Ne(s){const l=je(s),o=e.exports.useRef(""),d=e.exports.useRef(0),i=e.exports.useCallback(r=>{const x=o.current+r;l(x),_(function t(f){o.current=f,window.clearTimeout(d.current),f!==""&&(d.current=window.setTimeout(()=>t(""),1e3))},"updateSearch")(x)},[l]),n=e.exports.useCallback(()=>{o.current="",window.clearTimeout(d.current)},[]);return e.exports.useEffect(()=>()=>window.clearTimeout(d.current),[]),[o,i,n]}_(Ne,"$cc7e05a45900e73f$var$useTypeaheadSearch");function Oe(s,l,o){const i=l.length>1&&Array.from(l).every(f=>f===l[0])?l[0]:l,n=o?s.indexOf(o):-1;let r=Nt(s,Math.max(n,0));i.length===1&&(r=r.filter(f=>f!==o));const t=r.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return t!==o?t:void 0}_(Oe,"$cc7e05a45900e73f$var$findNextItem");function Nt(s,l){return s.map((o,d)=>s[(l+d)%s.length])}_(Nt,"$cc7e05a45900e73f$var$wrapArray");const Ot=pt,kt=ft,Mt=xt,Te=bt,Dt=gt,Vt=wt,At=yt,Lt=Tt,Ht=Rt,Bt=Pt;var Ft="tnw2bekw tnw2bel8 tnw2belk tnw2belw tnw2beno tnw2beoc tnw2bemc tnw2ben0 tnw2bev8 tnw2bevk tnw2be19o tnw2be196 tnw2be12c tnw2be18o tnw2bevs tnw2bez6 tnw2be156 tnw2be1dc tnw2bewf",Wt="tnw2beb4 tnw2beck tnw2be84 tnw2be9k tnw2berc tnw2betg tnw2be1do",Kt="tnw2beb4 tnw2beck tnw2be84 tnw2be9k tnw2berc tnw2betg tnw2be1g6 tnw2be1ge tnw2be1h9 tnw2be1ha tnw2be1dc tnw2be1dk tnw2beyf tnw2beyg tnw2beyn tnw2be1h0 tnw2be1gq",qt="gohwum1 tnw2bevv tnw2bep4 tnw2beqs tnw2beqg tnw2bepo tnw2bekw tnw2bel8 tnw2belk tnw2belw tnw2bens tnw2beog tnw2bemg tnw2ben4 tnw2be88 tnw2be9o tnw2beb4 tnw2beck tnw2be19o tnw2be196 tnw2be12c tnw2be18o tnw2beu4 tnw2bewu tnw2be156 tnw2be1g6 tnw2bero tnw2beps tnw2bejg tnw2betg tnw2be1h0 tnw2be1gy tnw2bew2";const Ut=e.exports.forwardRef(({children:s,className:l,...o},d)=>I(Ht,{className:ot(Kt,l),...o,ref:d,children:I(Bt,{children:s})})),fe=e.exports.forwardRef(({autoComplete:s="off",disabled:l=!1,id:o,label:d="",labelLocation:i="hidden",name:n,options:r,placeholder:x,processing:t=!1,...f},p)=>I(nt,{forId:o!=null?o:n,label:d,labelLocation:i,whiteSpace:"nowrap",children:re(Ot,{autoComplete:s,disabled:l||t,...f,children:[re(kt,{id:o!=null?o:n,className:qt,ref:p,children:[I(Mt,{placeholder:x}),I(Ce,{as:Te,display:"inline-flex",children:I(ye,{})})]}),I(Dt,{className:Ft,children:I(Vt,{children:re(At,{children:[re(Lt,{className:Wt,children:[I(rt,{children:x}),I(Ce,{as:Te,display:"inline-flex",children:I(ye,{})})]}),r.map(({value:v,label:S,...a})=>I(Ut,{value:v,...a,children:S},S))]})})})]})}));try{fe.displayName="Select",fe.__docgenInfo={description:"",displayName:"Select",props:{label:{defaultValue:{value:""},description:"",name:"label",required:!1,type:{name:"string"}},labelLocation:{defaultValue:{value:"hidden"},description:"",name:"labelLocation",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"hidden"'}]}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},processing:{defaultValue:{value:"false"},description:"",name:"processing",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"SelectOption[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Select/Select.tsx#Select"]={docgenInfo:fe.__docgenInfo,name:"Select",path:"src/components/Select/Select.tsx#Select"})}catch{}export{fe as S};
//# sourceMappingURL=Select.6931326b.js.map
