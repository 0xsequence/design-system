import{j as s}from"./jsx-runtime-Cf8x2fCZ.js";import{B as w}from"./Button-wQiAhVW1.js";import{M as ie}from"./Modal-BYFs-MVX.js";import{r as a}from"./index-DubqEmGm.js";import{a as ce,c as C}from"./index-DKEAZgBW.js";import{u as K,a as ue}from"./index-BkTKsPvT.js";import{c as pe,P as de}from"./index-D9OL-CBG.js";import{D as fe}from"./index-CgSAbh1h.js";import{u as me}from"./index-Cbw-VAaK.js";import{c as J,R as he,A as xe,a as ve,C as ge}from"./index-zr2Eu3hM.js";import{P as Te}from"./index-B4a3EBce.js";import{P as Q}from"./index-SbpNQzLY.js";import{R as ye}from"./index-vvl_XaO4.js";import{T as be}from"./Text-CyH5PR3f.js";import{u as Ce}from"./ThemeProvider-CH6L6tfq.js";import"./index-yBjzXJbu.js";import"./index-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./classnames-D6E8UiG_.js";import"./Combination-DJeA0G6w.js";import"./WarningIcon-B0iwtJR8.js";import"./IconButton-D7Wm3Ds0.js";import"./Scroll-rUOIqeZY.js";import"./proxy-BbLcDzuY.js";import"./index-DCU19ADU.js";import"./index-IE9ObSwG.js";import"./index-JD-fg0In.js";import"./color-Cn0GlU5F.js";var[M,vt]=pe("Tooltip",[J]),A=J(),Z="TooltipProvider",we=700,N="tooltip.open",[Pe,H]=M(Z),ee=e=>{const{__scopeTooltip:o,delayDuration:t=we,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:i}=e,[c,f]=a.useState(!0),l=a.useRef(!1),d=a.useRef(0);return a.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),s.jsx(Pe,{scope:o,isOpenDelayed:c,delayDuration:t,onOpen:a.useCallback(()=>{window.clearTimeout(d.current),f(!1)},[]),onClose:a.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>f(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:a.useCallback(u=>{l.current=u},[]),disableHoverableContent:n,children:i})};ee.displayName=Z;var L="Tooltip",[Ee,R]=M(L),te=e=>{const{__scopeTooltip:o,children:t,open:r,defaultOpen:n=!1,onOpenChange:i,disableHoverableContent:c,delayDuration:f}=e,l=H(L,e.__scopeTooltip),d=A(o),[u,m]=a.useState(null),x=me(),p=a.useRef(0),h=c??l.disableHoverableContent,g=f??l.delayDuration,v=a.useRef(!1),[y=!1,T]=ce({prop:r,defaultProp:n,onChange:V=>{V?(l.onOpen(),document.dispatchEvent(new CustomEvent(N))):l.onClose(),i==null||i(V)}}),E=a.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),j=a.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,T(!0)},[T]),_=a.useCallback(()=>{window.clearTimeout(p.current),p.current=0,T(!1)},[T]),I=a.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,T(!0),p.current=0},g)},[g,T]);return a.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(he,{...d,children:s.jsx(Ee,{scope:o,contentId:x,open:y,stateAttribute:E,trigger:u,onTriggerChange:m,onTriggerEnter:a.useCallback(()=>{l.isOpenDelayed?I():j()},[l.isOpenDelayed,I,j]),onTriggerLeave:a.useCallback(()=>{h?_():(window.clearTimeout(p.current),p.current=0)},[_,h]),onOpen:j,onClose:_,disableHoverableContent:h,children:t})})};te.displayName=L;var B="TooltipTrigger",oe=a.forwardRef((e,o)=>{const{__scopeTooltip:t,...r}=e,n=R(B,t),i=H(B,t),c=A(t),f=a.useRef(null),l=K(o,f,n.onTriggerChange),d=a.useRef(!1),u=a.useRef(!1),m=a.useCallback(()=>d.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(xe,{asChild:!0,...c,children:s.jsx(de.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:l,onPointerMove:C(e.onPointerMove,x=>{x.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:C(e.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:C(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:C(e.onFocus,()=>{d.current||n.onOpen()}),onBlur:C(e.onBlur,n.onClose),onClick:C(e.onClick,n.onClose)})})});oe.displayName=B;var S="TooltipPortal",[je,_e]=M(S,{forceMount:void 0}),re=e=>{const{__scopeTooltip:o,forceMount:t,children:r,container:n}=e,i=R(S,o);return s.jsx(je,{scope:o,forceMount:t,children:s.jsx(Q,{present:t||i.open,children:s.jsx(Te,{asChild:!0,container:n,children:r})})})};re.displayName=S;var P="TooltipContent",ne=a.forwardRef((e,o)=>{const t=_e(P,e.__scopeTooltip),{forceMount:r=t.forceMount,side:n="top",...i}=e,c=R(P,e.__scopeTooltip);return s.jsx(Q,{present:r||c.open,children:c.disableHoverableContent?s.jsx(se,{side:n,...i,ref:o}):s.jsx(Re,{side:n,...i,ref:o})})}),Re=a.forwardRef((e,o)=>{const t=R(P,e.__scopeTooltip),r=H(P,e.__scopeTooltip),n=a.useRef(null),i=K(o,n),[c,f]=a.useState(null),{trigger:l,onClose:d}=t,u=n.current,{onPointerInTransitChange:m}=r,x=a.useCallback(()=>{f(null),m(!1)},[m]),p=a.useCallback((h,g)=>{const v=h.currentTarget,y={x:h.clientX,y:h.clientY},T=ke(y,v.getBoundingClientRect()),E=Me(y,T),j=Ae(g.getBoundingClientRect()),_=Ne([...E,...j]);f(_),m(!0)},[m]);return a.useEffect(()=>()=>x(),[x]),a.useEffect(()=>{if(l&&u){const h=v=>p(v,u),g=v=>p(v,l);return l.addEventListener("pointerleave",h),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",h),u.removeEventListener("pointerleave",g)}}},[l,u,p,x]),a.useEffect(()=>{if(c){const h=g=>{const v=g.target,y={x:g.clientX,y:g.clientY},T=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),E=!Le(y,c);T?x():E&&(x(),d())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[l,u,c,d,x]),s.jsx(se,{...e,ref:i})}),[Oe,De]=M(L,{isInside:!1}),se=a.forwardRef((e,o)=>{const{__scopeTooltip:t,children:r,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:c,...f}=e,l=R(P,t),d=A(t),{onClose:u}=l;return a.useEffect(()=>(document.addEventListener(N,u),()=>document.removeEventListener(N,u)),[u]),a.useEffect(()=>{if(l.trigger){const m=x=>{const p=x.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[l.trigger,u]),s.jsx(fe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:s.jsxs(ge,{"data-state":l.stateAttribute,...d,...f,ref:o,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(ue,{children:r}),s.jsx(Oe,{scope:t,isInside:!0,children:s.jsx(ye,{id:l.contentId,role:"tooltip",children:n||r})})]})})});ne.displayName=P;var ae="TooltipArrow",le=a.forwardRef((e,o)=>{const{__scopeTooltip:t,...r}=e,n=A(t);return De(ae,t).isInside?null:s.jsx(ve,{...n,...r,ref:o})});le.displayName=ae;function ke(e,o){const t=Math.abs(o.top-e.y),r=Math.abs(o.bottom-e.y),n=Math.abs(o.right-e.x),i=Math.abs(o.left-e.x);switch(Math.min(t,r,n,i)){case i:return"left";case n:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Me(e,o,t=5){const r=[];switch(o){case"top":r.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":r.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":r.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":r.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return r}function Ae(e){const{top:o,right:t,bottom:r,left:n}=e;return[{x:n,y:o},{x:t,y:o},{x:t,y:r},{x:n,y:r}]}function Le(e,o){const{x:t,y:r}=e;let n=!1;for(let i=0,c=o.length-1;i<o.length;c=i++){const f=o[i].x,l=o[i].y,d=o[c].x,u=o[c].y;l>r!=u>r&&t<(d-f)*(r-l)/(u-l)+f&&(n=!n)}return n}function Ne(e){const o=e.slice();return o.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),Be(o)}function Be(e){if(e.length<=1)return e.slice();const o=[];for(let r=0;r<e.length;r++){const n=e[r];for(;o.length>=2;){const i=o[o.length-1],c=o[o.length-2];if((i.x-c.x)*(n.y-c.y)>=(i.y-c.y)*(n.x-c.x))o.pop();else break}o.push(n)}o.pop();const t=[];for(let r=e.length-1;r>=0;r--){const n=e[r];for(;t.length>=2;){const i=t[t.length-1],c=t[t.length-2];if((i.x-c.x)*(n.y-c.y)>=(i.y-c.y)*(n.x-c.x))t.pop();else break}t.push(n)}return t.pop(),o.length===1&&t.length===1&&o[0].x===t[0].x&&o[0].y===t[0].y?o:o.concat(t)}var He=ee,Se=te,Ie=oe,Ve=re,qe=ne,Ge=le;const b=e=>{const{align:o="center",children:t,delayDuration:r=0,disabled:n=!1,hOffset:i=0,message:c,side:f="top",vOffset:l=0}=e,{container:d}=Ce();return n?s.jsx(s.Fragment,{children:t}):s.jsx(He,{children:s.jsxs(Se,{delayDuration:r,children:[s.jsx(Ie,{asChild:!0,children:t}),s.jsx(Ve,{container:d,children:s.jsxs(qe,{className:"backdrop-blur-xs bg-background-raised rounded-lg px-4 pb-3 pt-2 shadow-[0_0_10px_0_rgba(0,0,0,0.5)] fill-background-raised z-1000",side:f,align:o,sideOffset:l,alignOffset:i,children:[s.jsx(be,{variant:"small",fontWeight:"medium",color:"secondary",children:c}),s.jsx(Ge,{offset:12,width:10,height:5})]})})]})})};try{b.displayName="Tooltip",b.__docgenInfo={description:"",displayName:"Tooltip",props:{align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"start"'},{value:'"end"'}]}},delayDuration:{defaultValue:null,description:"",name:"delayDuration",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},hOffset:{defaultValue:null,description:"",name:"hOffset",required:!1,type:{name:"number"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ReactNode"}},side:{defaultValue:null,description:"",name:"side",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"left"'},{value:'"right"'},{value:'"bottom"'}]}},vOffset:{defaultValue:null,description:"",name:"vOffset",required:!1,type:{name:"number"}}}}}catch{}const gt={title:"Components/Tooltip",component:b},O={args:{message:"Hello, world!",children:s.jsx(w,{label:"Hover me"}),disabled:!1}},D={render:e=>s.jsxs("div",{className:"flex gap-2 h-[200px] items-center justify-center",children:[s.jsx(b,{...e,message:"Suprise!",children:s.jsx(w,{label:"Button 1"})}),s.jsx(b,{...e,message:"Peekaboo!",children:s.jsx(w,{label:"Button 2"})}),s.jsx(b,{...e,message:"Hi, there!",children:s.jsx(w,{label:"Button 3"})})]})},k={tags:["!autodocs"],render:e=>s.jsx(ie,{children:s.jsxs("div",{className:"flex p-4 gap-2",children:[s.jsx(b,{...e,message:"Tooltip 1",children:s.jsx(w,{label:"Button 1"})}),s.jsx(b,{...e,message:"Tooltip 2",children:s.jsx(w,{label:"Button 2"})})]})})};var q,G,F;O.parameters={...O.parameters,docs:{...(q=O.parameters)==null?void 0:q.docs,source:{originalSource:`{
  args: {
    message: 'Hello, world!',
    children: <Button label="Hover me" />,
    disabled: false
  }
}`,...(F=(G=O.parameters)==null?void 0:G.docs)==null?void 0:F.source}}};var W,U,Y;D.parameters={...D.parameters,docs:{...(W=D.parameters)==null?void 0:W.docs,source:{originalSource:`{
  render: args => {
    return <div className="flex gap-2 h-[200px] items-center justify-center">
        <Tooltip {...args} message="Suprise!">
          <Button label="Button 1" />
        </Tooltip>
        <Tooltip {...args} message="Peekaboo!">
          <Button label="Button 2" />
        </Tooltip>
        <Tooltip {...args} message="Hi, there!">
          <Button label="Button 3" />
        </Tooltip>
      </div>;
  }
}`,...(Y=(U=D.parameters)==null?void 0:U.docs)==null?void 0:Y.source}}};var X,$,z;k.parameters={...k.parameters,docs:{...(X=k.parameters)==null?void 0:X.docs,source:{originalSource:`{
  tags: ['!autodocs'],
  render: args => {
    return <Modal>
        <div className="flex p-4 gap-2">
          <Tooltip {...args} message="Tooltip 1">
            <Button label="Button 1" />
          </Tooltip>
          <Tooltip {...args} message="Tooltip 2">
            <Button label="Button 2" />
          </Tooltip>
        </div>
      </Modal>;
  }
}`,...(z=($=k.parameters)==null?void 0:$.docs)==null?void 0:z.source}}};const Tt=["Default","Multiple","WithinModal"];export{O as Default,D as Multiple,k as WithinModal,Tt as __namedExportsOrder,gt as default};
