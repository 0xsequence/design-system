import{r,j as e}from"./iframe-CiYRb64W.js";import{c as I}from"./YoutubeIcon-BjqWEjqd.js";import"./SearchIcon-CKAjslfA.js";import{f as _,i as V}from"./styles-S7yBqErU.js";import{c as E}from"./classnames-By7m_D43.js";import{I as F}from"./IconButton-BMhdyWJo.js";import{T as l,t as N}from"./Text-C06XZZKl.js";const z={png:".png,image/png",jpeg:".jpeg,image/jpeg",jpg:".jpg,image/jpg",images:"image/*, video/*",pdf:".pdf,application/pdf",mp4:".mp4,video/mp4",csv:".csv,text/csv",json:".json,application/json",gif:".gif,image/gif",webp:".webp,image/webp",svg:".svg,image/svg+xml"},m=o=>{const{disabled:f=!1,id:g,name:p,onValueChange:u,placeholder:x="Upload a file",validExtensions:v,className:j,ref:h,...y}=o,t=r.useRef(null);r.useImperativeHandle(h,()=>t.current);const[a,c]=r.useState(null),b=i=>{const s=i.currentTarget.files;if(!s||!s[0])return;const n=s[0],d=n.name,C=n.size/1e3;c({name:d,size:C,extension:d.split(".").pop()??""}),u?.(n)},w=v.map(i=>z[i]).join(",");return e.jsxs("div",{className:E(N({variant:"normal"}),"w-full min-w-0 inline-flex items-center flex-row justify-start p-4 relative h-[52px]","rounded-xl bg-background-input","[&:has(:disabled)]:cursor-default [&:has(:disabled)]:opacity-50",a?"justify-between text-primary":"justify-start text-muted",_({variant:"within"}),V,"has-[[aria-invalid=true]]:border-destructive has-[[aria-invalid=true]]:outline-destructive","border-dashed",j),children:[a?e.jsxs("div",{className:"flex flex-row gap-2 items-center min-w-0",children:[e.jsx(l,{ellipsis:!0,asChild:!0,children:e.jsx("p",{children:a.name})}),e.jsxs(l,{color:"muted",variant:"xsmall",nowrap:!0,children:[a.size.toFixed(2)," kb"]})]}):e.jsx(l,{ellipsis:!0,asChild:!0,children:e.jsx("p",{children:x})}),e.jsx("input",{accept:w,className:"absolute inset-0 opacity-0 cursor-pointer focus:outline-hidden",disabled:f,id:g??p,name:p,onChange:b,ref:t,type:"file",...y}),a&&e.jsx(F,{className:"cursor-pointer z-10 ml-1",icon:I,size:"xs",onClick:i=>{i.preventDefault(),i.stopPropagation(),t.current?.value&&(t.current.value=""),u?.(null),c(null)}})]})};try{m.displayName="FileInput",m.__docgenInfo={description:"",displayName:"FileInput",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},validExtensions:{defaultValue:null,description:"",name:"validExtensions",required:!0,type:{name:'("svg" | "png" | "jpeg" | "jpg" | "images" | "pdf" | "mp4" | "csv" | "json" | "gif" | "webp")[]'}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!1,type:{name:"((value: File | null) => void)"}}}}}catch{}export{m as F};
